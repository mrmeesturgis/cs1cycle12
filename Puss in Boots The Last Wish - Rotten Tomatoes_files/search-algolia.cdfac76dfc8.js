"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,o,i,r,a){try{var s=e[r](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(o,i)}function _asyncToGenerator(s){return function(){var e=this,a=arguments;return new Promise(function(t,n){var o=s.apply(e,a);function i(e){asyncGeneratorStep(o,t,n,i,r,"next",e)}function r(e){asyncGeneratorStep(o,t,n,i,r,"throw",e)}i(void 0)})}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(){var a=window.Component,s=document.createElement("template");s.innerHTML='\n    <style>\n      :host {\n        display: block;\n        width: 100%;\n      }\n      \n      :host([hidden]) { display: none }\n\n      :host * { box-sizing: border-box; }\n    </style>\n\n    <slot name="search-controls"></slot>\n    <slot name="search-results"></slot>\n  ';var e=function(){_inherits(r,a);var e,t,n,o,i=_createSuper(r);function r(){var e;return _classCallCheck(this,r),(e=i.call(this)).dom={wcMobileSearchAlgolia:document.querySelector("mobile-search-algolia"),wcSearchAlgoliaControls:document.querySelector("search-algolia-controls"),wcSearchAlgoliaResults:document.querySelector("search-algolia-results")},e}return _createClass(r,[{key:"template",value:function(){return s}},{key:"connectedCallback",value:(o=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined(["mobile-search-algolia","search-algolia-controls","search-algolia-results"]);case 2:return this.initBool(["hidden"]),t=RottenTomatoes.thirdParty.algoliaSearch,e.next=6,this._retrieveTokenHash();case 6:this.tokenHash=e.sent,this.algoliaSearchClient=window.algoliasearch(t.aId,t.sId,{headers:{"X-Algolia-UserToken":this.tokenHash}}),this.algoliaInsightInitAttempted=!1,this._initAlgoliaInsights(t.aId,t.sId),this._isMobile&&this._initMobileSearch(),this.ready();case 12:case"end":return e.stop()}},e,this)})),function(){return o.apply(this,arguments)})},{key:"_initAlgoliaInsights",value:function(e,t){var n=this;if(!window.aa&&!this.algoliaInsightInitAttempted)return setTimeout(function(){n._initAlgoliaInsights(e,t),n.algoliaInsightInitAttempted=!0},5e3);window.aa("init",{appId:e,apiKey:t}),window.aa("setUserToken",this.tokenHash)}},{key:"_generateUUID",value:function(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})}},{key:"_getCookie",value:function(e){if(e){e="; ".concat(window.document.cookie).split("; ".concat(e,"="));return 2===e.length?e.pop().split(";").shift():void 0}}},{key:"_initMobileSearch",value:function(){this.dom.wcMobileSearchAlgolia.setControls(this.dom.wcSearchAlgoliaControls),this.dom.wcMobileSearchAlgolia.appendChild(this.dom.wcSearchAlgoliaResults)}},{key:"_setCookie",value:function(e,t,n){var o,i;e&&(o="",n&&((i=new Date).setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()),document.cookie=e+"="+(t||"")+o+"; path=/; secure; SameSite=Strict")}},{key:"_hashToken",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new TextEncoder,n=n.encode(t),e.next=4,crypto.subtle.digest("SHA-256",n);case 4:return n=e.sent,n=Array.from(new Uint8Array(n)),e.abrupt("return",n.map(function(e){return e.toString(16).padStart(2,"0")}).join(""));case 7:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)})},{key:"_retrieveTokenHash",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this._getCookie("algoliaUT"))||(t=this._generateUUID(),this._setCookie("algoliaUT",t)),e.abrupt("return",this._hashToken(t));case 3:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"_attributeSearchterm",value:function(e){if(!e)return this.dom.wcSearchAlgoliaResults.searchterm="",void(this.dom.wcSearchAlgoliaResults.hidden=!0);this.getSearchResults(e)}},{key:"getSearchResults",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t,n,o,i,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=0<r.length&&void 0!==r[0]?r[0]:"")||t.length<3)return e.abrupt("return",!1);e.next=3;break;case 3:return n=[{indexName:"content_rt",query:t,params:{filters:"".concat(i="isEmsSearchable = 1"),hitsPerPage:5,analyticsTags:["header_search"],clickAnalytics:!0}},{indexName:"people_rt",query:t,params:{filters:"".concat(i),hitsPerPage:5,analyticsTags:["header_search"],clickAnalytics:!0}}],e.prev=5,e.next=8,this.algoliaSearchClient.multipleQueries(n);case 8:o=e.sent,i=o.results,n=!!i.filter(function(e){return 0<e.hits.length}).length,(o=this.searchterm).length?(this.dom.wcSearchAlgoliaResults.searchterm=o,this.dom.wcSearchAlgoliaResults.hidden=!0):this.dom.wcSearchAlgoliaResults.hidden=!1,n?(i=this.modelResults(i),this.dom.wcSearchAlgoliaResults.renderSearchResults(i)):this.dom.wcSearchAlgoliaResults.renderNoSearchResults(),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),this.dom.wcSearchAlgoliaResults.renderNoSearchResults(),this.dom.wcSearchAlgoliaResults.hidden=!1;case 21:case"end":return e.stop()}},e,this,[[5,16]])})),function(){return e.apply(this,arguments)})},{key:"isMobile",value:function(e){return null!==e}},{key:"modelResults",value:function(){var t=this,e=_slicedToArray(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],2),n=e[0],o=void 0===n?{}:n,n=e[1],i=void 0===n?{}:n,e=window.__RT__.getNamespace(o,"hits",[]),n=window.__RT__.getNamespace(i,"hits",[]);return e.forEach(function(e){e.queryID=o.queryID,e.tokenHash=t.tokenHash,e.indexName="content_rt"}),n.forEach(function(e){e.queryID=i.queryID,e.tokenHash=t.tokenHash,e.indexName="people_rt"}),{contentList:e,celebrityList:n}}}],[{key:"observedAttributes",get:function(){return["hidden","searchterm"]}}]),r}();window.customElements.get("search-algolia")||window.customElements.define("search-algolia",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML='\n    <style>\n      :host {\n        --search-cancel-space: 15px;\n\n        display: flex;\n        width: 100%;\n        position: relative;\n        overflow: hidden;\n      }\n\n      :host([hidden]) { display: none }\n\n      .input-group {\n        flex-shrink: 0;\n        position: relative;\n        width: 100%;\n        transition: flex-shrink 0.2s ease;\n        box-sizing: border-box;\n        padding-right: var(--search-cancel-space);\n      }\n\n      :host([active]) .input-group {\n        flex-shrink: initial;\n      }\n\n      .clear-container {\n        visibility: hidden;\n        opacity: 0;\n        transition: opacity 0.2s ease, visibility 0s 0.2s linear;\n      }\n\n      .cancel-container {\n        display: flex;\n      }\n\n      .input-group:not(.empty):focus-within .clear-container {\n        visibility: visible;\n        opacity: 1;\n        transition: opacity 0.2s ease;\n      }\n\n      slot[name="search-input"]::slotted(input),\n      slot[name="search-clear"]::slotted(button),\n      slot[name="search-submit"]::slotted(a) {\n        display: inline-block;\n        border-style: none;\n        font-size: 1em;\n      }\n\n      slot[name="search-clear"]::slotted(button),\n      slot[name="search-submit"]::slotted(a) {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n      }\n\n      slot[name="search-input"]::slotted(input) {\n        width: 100%;\n        height: 35px;\n        padding-left: 40px;\n        border-radius: 26px;\n        letter-spacing: inherit;\n        font-size: 1rem;\n        background: rgba(0,0,0,0.4);\n        color: white;\n        outline: none;\n      }\n\n      slot[name="search-submit"]::slotted(a) {\n        left: 15px;\n      }\n\n      slot[name="search-clear"]::slotted(button) {\n        right: 30px;\n        display: none;\n      }\n\n      slot[name="search-cancel"]::slotted(button) {\n        font-size: 14px;\n        line-height: 0;\n        align-items: center;\n        padding-right: 15px;\n      }\n\n      @media(min-width: 768px) {\n        div { padding: 0; }\n        slot[name="search-input"]::slotted(input) { padding-right: 42px; }\n        slot[name="search-clear"]::slotted(button) { display: none; }\n        slot[name="search-submit"]::slotted(a) { right: 2px; }\n\n        .input-group {\n          padding-right: 0px;\n        }\n\n        .input-group:focus-within slot[name="search-input"]::slotted(input) {\n          box-shadow: 0 0 0 1px #2a2c32 inset, 0 0 0 2px #e3e3e6 inset;\n        }\n\n        .cancel-container {\n          display: none;\n        }\n\n        slot[name="search-clear"]::slotted(button) {\n          right: 15px;\n        }\n      }\n    </style>\n\n\t\t<div class="input-group empty">\n\t\t\t<slot name="search-input"></slot>\n      <slot name="search-submit"></slot>\n      <div class="clear-container">\n\t\t\t  <slot name="search-clear"></slot>\n      </div>\n    </div>\n    <div class="cancel-container">\n      <slot name="search-cancel"></slot>\n    </div>\n\t';var t=function(){_inherits(o,e);var t,n=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=n.call(this)).dom={elCancelBtn:document.querySelector('button[slot="search-cancel"]'),elClearBtn:document.querySelector('button[slot="search-clear"]'),elInput:document.querySelector('input[slot="search-input"]'),elInputGroup:e.select(".input-group"),elSubmitBtn:document.querySelector('a[slot="search-submit"]'),wcSearchAlgolia:document.querySelector("search-algolia"),wcMobileSearchAlgolia:document.querySelector("mobile-search-algolia")},e}return _createClass(o,[{key:"connectedCallback",value:function(){this.initBool(["active"]),this.attachEvents([{el:document,eventType:"keydown",fn:this._onDocumentKeydown.bind(this)},{el:this.dom.elInput,eventType:"keydown",fn:this._onKeyDown.bind(this)},{el:this.dom.elInput,eventType:"input",fn:this._onInputChange.bind(this)},{el:this,eventType:"click",fn:this._onControlsClick.bind(this)},{el:this.dom.elCancelBtn,eventType:"click",fn:this._onCancelBtnClick.bind(this)},{el:this.dom.elClearBtn,eventType:"click",fn:this._onClearBtnClick.bind(this)},{el:this.dom.elSubmitBtn,eventType:"click",fn:this._onSubmitClick.bind(this)}]);var e=this._isMobile?"Search":"Search movies, TV, actors, more...";this.dom.elInput.placeholder=e}},{key:"template",value:function(){return i}},{key:"_clearSearch",value:function(){this.dom.elInput.value="",this.dom.wcSearchAlgolia.searchterm="",this.searchterm=""}},{key:"_onDocumentKeydown",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("/"!==t.key)return e.abrupt("return");e.next=2;break;case 2:if(["INPUT","TEXTAREA","CRITICS-SELF-SUBMISSION-FORM"].includes(document.activeElement.tagName))return e.abrupt("return");e.next=5;break;case 5:return e.next=7,new Promise(function(e){return setTimeout(e)});case 7:this.dom.elInput.focus();case 8:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_onCancelBtnClick",value:function(){this.active=!1,this.dom.wcMobileSearchAlgolia.active=!1,this._clearSearch()}},{key:"_onClearBtnClick",value:function(){this._clearSearch()}},{key:"_onControlsClick",value:function(e){this._isMobile&&e.target!==this.dom.elCancelBtn&&(this.active=!0,this.dom.wcMobileSearchAlgolia.active=!0)}},{key:"_onInputChange",value:function(e){var t=this,n=e.target.value;if(this.searchterm=n,this.dom.elInputGroup.classList[n?"remove":"add"]("empty"),!n)return this.dom.elSubmitBtn.href="/search",void(this.dom.wcSearchAlgolia.searchterm="");clearTimeout(this.waitForInput),this.waitForInput=setTimeout(function(){t.dom.elSubmitBtn.href="/search/?search=".concat(encodeURIComponent(n)),t.dom.wcSearchAlgolia.searchterm=n},300)}},{key:"_onKeyDown",value:function(e){var t=this.searchterm;13===e.which&&t&&window.location.replace("/search?search=".concat(encodeURIComponent(t)))}},{key:"_onSubmitClick",value:function(e){if(!this.searchterm)return e.preventDefault()}}],[{key:"observedAttributes",get:function(){return["active"]}}]),o}();window.customElements.get("search-algolia-controls")||window.customElements.define("search-algolia-controls",t)}(),function(){var e=window.Component,t=document.createElement("template"),i="Escape",r="ArrowUp",a="ArrowDown";t.innerHTML='\n    <style>\n      :host { display: block; }\n      :host([hidden]) { display: none; }\n\n      aside {\n        display: block;\n        padding: 15px;\n        background-color: #FFFFFF;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n        z-index: 100;\n        overflow-y: scroll;\n        overflow-x: hidden;\n      }\n\n      div { text-align: right; }\n\n      @media(min-width: 768px) {\n\n        aside {\n          width: 565px;\n          position: absolute;\n          transform: translateY(5px);\n          border-radius: 6px;\n          margin-top: 0;\n          padding: 30px;\n          overflow-y: auto;\n        }\n\n      }\n    </style>\n\n    <aside class="search-results-overlay" data-qa="search-results-overlay" tabindex="0">\n      <slot name="content"></slot>\n      <slot name="celebrity"></slot>\n      <slot name="none"></slot>\n      <div>\n        <slot name="view-all">View All</slot>\n      </div>\n    </aside>\n\t';var n=function(){_inherits(o,e);var n=_createSuper(o);function o(){_classCallCheck(this,o);var e,t=_assertThisInitialized(e=n.call(this));return e.dom={elResultsCategoryContent:document.querySelector('search-algolia-results-category[slot="content"]'),elResultsCategoryCelebrity:document.querySelector('search-algolia-results-category[slot="celebrity"]'),elResultsCategoryNone:document.querySelector('search-algolia-results-category[slot="none"]'),elResultsWrapper:e.select("aside"),get elViewAll(){return t.slotted&&t.slotted["view-all"]&&t.slotted["view-all"][0]},get elsFocusable(){return Array.from(t.querySelectorAll('a,button,[tabindex="0"]'))},wcSearchAlgolia:document.querySelector("search-algolia")},e}return _createClass(o,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted(),this.setAttribute("hidden",!0)}},{key:"_attributeSearchterm",value:function(e){this.dom.elViewAll&&(this.dom.elViewAll.href="/search/?search=".concat(encodeURIComponent(e)))}},{key:"renderNoSearchResults",value:function(){this.dom.elResultsCategoryContent.render([]),this.dom.elResultsCategoryCelebrity.render([]),this.dom.elResultsCategoryNone.hidden=!1,this.dom.elViewAll.hidden=!0,this.hidden=!1}},{key:"renderSearchResults",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.contentList,t=void 0===t?[]:t,e=e.celebrityList,e=void 0===e?[]:e;if(!t&&!e)return this.renderNoSearchResults();this.dom.elResultsCategoryContent.render(t),this.dom.elResultsCategoryCelebrity.render(e),this.dom.elResultsCategoryNone.hidden=!0,this.dom.elViewAll.hidden=!1,this.hidden=!1}},{key:"template",value:function(){return t}},{key:"_attributeHidden",value:function(){var e=[{el:document,eventType:"keydown",fn:this._onKeyDown.bind(this)},{el:document,eventType:"click",fn:this._onDocumentClick.bind(this)},{el:document,eventType:"focusin",fn:this._onDocumentFocusIn.bind(this)}];if(this.hidden||this._isMobile)return this.detachAllEvents(),this._elFocusReturn&&this._elFocusReturn.focus(),this._elFocusReturn=void 0;this._elFocusReturn=document.activeElement,this.attachEvents(e)}},{key:"_onArrowUpKeyDown",value:function(e){if(e.preventDefault(),this.contains(document.activeElement)){e=this.dom.elsFocusable;if(-1===e.indexOf(document.activeElement))return this._elFocusReturn&&this._elFocusReturn.focus();e=e[e.indexOf(document.activeElement)-1];if(!e)return this.dom.elResultsWrapper.focus();e.focus()}}},{key:"_onArrowDownKeyDown",value:function(e){if(e.preventDefault(),!this.contains(document.activeElement))return this.dom.elResultsWrapper.focus();e=this.dom.elsFocusable;if(-1===e.indexOf(document.activeElement))return e[0].focus();e=e[e.indexOf(document.activeElement)+1];if(!e)return this.hidden=!0;e.focus()}},{key:"_onDocumentClick",value:function(e){e.composedPath().includes(this)||(this.hidden=!0)}},{key:"_onDocumentFocusIn",value:function(e){this.hidden=!e.composedPath().includes(this.dom.wcSearchAlgolia)}},{key:"_onKeyDown",value:function(e){switch(e.code){case i:return this.hidden=!0;case r:return this._onArrowUpKeyDown(e);case a:return this._onArrowDownKeyDown(e)}}}],[{key:"observedAttributes",get:function(){return["hidden","searchterm"]}}]),o}();window.customElements.get("search-algolia-results")||window.customElements.define("search-algolia-results",n)}(),function(){var n=window.Component,o=document.createElement("template");o.innerHTML='\n    <style>\n      :host {\tdisplay: block; }\n      :host([hidden]) { display: none; }\n    </style>\n\n    <div class="search-results">\n      <slot name="title"></slot>\n      <slot name="results"></slot>\n    </div>\n\t';var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"template",value:function(){return o}},{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.hidden=!0}},{key:"mapResultsItemData",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.getAttribute("slot"),n=e.name||e.title||"",o=(o=e.posterImageUrl||e.profileImageUrl)?"http://resizing.flixster.com/IaXbRF4gIPh9jireK_4VCPNfdKc=/50x75/v2/".concat(o):"/assets/pizza-pie/images/poster_default.c8c896e70c3.gif",i=e.type||"";"movie"===i.toLowerCase()?i="m":"person"===i.toLowerCase()&&(i="celebrity");var r=e.vanity?"/".concat(i.toLowerCase(),"/").concat(e.vanity):"/",a=(a=e.recentTitleYear||e.releaseYear||"")&&"celebrity"!==t?"(".concat(a,")"):"",i=window.__RT__.getNamespace(e,"castCrew.cast",[]);return{category:t,name:n,thumbnailUrl:o,vanityUrl:r,year:a,cast:"movie"===e.type?i.slice(0,3).join(", "):""}}},{key:"render",value:function(e,t){var a=this,s=this.querySelector("ul");e.length?(s.innerHTML="",this.detachAllEvents(),e.forEach(function(e,t){var n=document.createElement("li"),o=document.createElement("a");a.attachEvent(o,"click",function(){window.aa&&(window.aa("convertedObjectIDsAfterSearch",{userToken:e.tokenHash,index:e.indexName,eventName:"item_click_on_search_header",queryID:e.queryID,objectIDs:[e.objectID]}),window.aa("clickedObjectIDsAfterSearch",{userToken:e.tokenHash,eventName:"item_click_on_search_header",index:e.indexName,queryID:e.queryID,objectIDs:[e.objectID],positions:[t+1]}))});var i=document.createElement("search-algolia-results-item"),r=a.mapResultsItemData(e);o.setAttribute("data-qa","search-results-link"),o.append(i),n.setAttribute("data-qa","search-results-item"),n.append(o),s.append(n),o.href=r.vanityUrl,i.render(r)}),this.hidden=!1):this.hidden=!0}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),t}();window.customElements.get("search-algolia-results-category")||window.customElements.define("search-algolia-results-category",e)}(),function(){var n=window.Component,o=document.createElement("template");o.innerHTML='\n    <style>\n      :host {\tdisplay: block; }\n      :host([hidden]) { display: none; }\n\n      .wrap {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        text-decoration: none;\n      }\n\n      img {\n        min-width: 50px;\n        height: 75px;\n        border-radius: 4px;\n        margin-right: 16px;\n      }\n\n      .info {\n        display: flex;\n        flex-direction: column; \n        justify-content: center;\n      }\n\n      p {\n        margin: 0;\n        font-family: \'Franklin Gothic\';\n        font-weight: 400;\n        font-size: 16px;\n        line-height: 1;\n        text-align: left;\n        color: #2A2C32;\n      }\n\n      p:first-child { font-weight: 500; line-height: 1.25; }\n\n      p span {\n        font-size: inherit;\n        color: #757A84;\n        margin-left: .2em;\n      }\n\n    </style>\n\t\n    <div class="wrap">\n      <img class="thumbnail" src="" alt="" />\n      <div class="info">\n        <p class="name"></p>\n        <p class="cast"></p>\n      </div>\n    </div>\n\t';var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"template",value:function(){return o}},{key:"connectedCallback",value:function(){this.elThumbnail=this.shadowRoot.querySelector(".thumbnail"),this.elInfoContainer=this.shadowRoot.querySelector(".info"),this.elName=this.shadowRoot.querySelector(".name"),this.elCast=this.shadowRoot.querySelector(".cast")}},{key:"render",value:function(e){var t=e.name,n=e.thumbnailUrl,o=e.year,e=e.cast;this.elThumbnail.src=n,this.elThumbnail.alt=t,this.elName.innerHTML=t,o&&(this.elName.innerHTML="".concat(t,' <span class="year">').concat(o,"</span>")),e&&(this.elCast.innerText=e)}}]),t}();window.customElements.get("search-algolia-results-item")||window.customElements.define("search-algolia-results-item",e)}(),function(){var e=window.Component,o=document.createElement("template");o.className="mobile-search-algolia",o.innerHTML='\n    <style>\n      :host {\n        display: inline-block;\n        --overlay-offset: 0;\n      }\n\n      .overlay {\n        width: 100%;\n        position: fixed;\n        top: var(--overlay-offset);\n        bottom: 0;\n        left: 0;\n        z-index: 101;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        font-size: 16px;\n        background: rgba(0,0,0,0.5);\n        opacity: 0;\n        visibility: hidden;\n        transition: opacity 0.2s ease-in-out, visibility 0s linear 0.2s;\n      }\n\n      :host([active]) .overlay {\n        opacity: 1;\n        visibility: visible;\n        transition: opacity 0.2s ease-in-out;\n      }\n\n      :host([hidden]) { display: none }\n    </style>\n\n    <div class="overlay">\n      <slot name="search-results"></slot>\n    </div>\n  ';var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elLogo:document.querySelector('a[slot="logo"]'),elNavbar:document.querySelector(".navbar")},e}return _createClass(n,[{key:"template",value:function(){return o}},{key:"connectedCallback",value:function(){this.initBool(["active"]),this.ready()}},{key:"setControls",value:function(e){this.dom.wcSearchAlgoliaControls=e}},{key:"_attributeActive",value:function(){if(this.active)return this._setScreenActive();this._setScreenInactive()}},{key:"_setScreenActive",value:function(){this._showOverlay(),document.body.style.overflow="hidden",this.dom.elNavbar.classList.add("nav-expanded"),this.dom.elLogo.style.marginLeft="-".concat(this.dom.elLogo.offsetWidth+this.dom.elLogo.offsetLeft,"px")}},{key:"_setScreenInactive",value:function(){document.body.style.overflow=null,this.dom.elNavbar.classList.remove("nav-expanded"),this.dom.elLogo.style.marginLeft=null}},{key:"_showOverlay",value:function(){var e=this.dom.elNavbar.getBoundingClientRect(),t=e.height,e=e.top;this.style.setProperty("--overlay-offset","".concat(t+e+10,"px"))}}],[{key:"observedAttributes",get:function(){return["active"]}}]),n}();window.customElements.get("mobile-search-algolia")||window.customElements.define("mobile-search-algolia",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var n=window.Component,o=document.createElement("template");o.innerHTML='\n\t  <style>\n\t\t\t:host {\tdisplay: block; width: calc(100% - 30px); }\n\t\t\t:host([hidden]) { display: none; }\n\n\t\t\tnav {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: row;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\talign-items: center;\n\t\t\t\tmargin-top: 10px;\n\t\t\t}\n\n\t\t\tslot[name="mobile-search-logo"]::slotted(a) { width: 110px; }\n\n\t\t\tslot[name="mobile-search-close"]::slotted(button) { font-size: 20px; }\n\t  </style>\n\t  \n\t  <nav>\n\t\t  <slot name="mobile-search-logo"></slot>\n\t\t  <slot name="mobile-search-close"></slot>\n\t  </nav>\n\t';var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"template",value:function(){return o}}]),t}();window.customElements.get("mobile-search-algolia-nav")||window.customElements.define("mobile-search-algolia-nav",e)}(),function(){var n=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat('\n    :host {\n      display: inline-block;\n      background-color: var(--badgeBgColor);\n      border-radius: 4px;\n      font-family: "Franklin Gothic",-apple-system,BlinkMacSystemFont,"PT Sans",Arial,Sans-Serif;\n      color: var(--badgeFgColor);\n      font-size: 0.75rem;\n      line-height: 1.4;\n      padding: 0 4px;\n    }\n\n    :host([hidden]) { display: none; }\n\n    :host([theme="light"]) {\n      --badgeBgColor: var(--blue, #3976DC);\n      --badgeFgColor: var(--white, #FFFF);\n    }\n\n    :host([theme="dark"]) {\n      --badgeBgColor: var(--white, #FFFF);\n      --badgeFgColor: var(--blue, #3976DC);\n    }\n  ',"</style>\n    <slot></slot>\n  ");var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.ready(),this.hasAttribute("theme")||this.setAttribute("theme","light")}},{key:"template",value:function(){return o}}],[{key:"observedAttributes",get:function(){return["hidden","theme"]}}]),t}();window.customElements.get("rt-badge")||window.customElements.define("rt-badge",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat("\n    :host { display: inline; }\n    :host([hidden]) { display: none; }\n  ","</style>\n    <slot></slot>\n  ");var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted();var e=Boolean(localStorage.getItem(this._localKey));this._elIndicator.hidden=e,this.attachEvent(document.querySelector(this.element),this.event,this._onElementEvent)}},{key:"template",value:function(){return o}},{key:"_elIndicator",get:function(){return this.select("slot").assignedElements()[0]}},{key:"_localKey",get:function(){return"".concat(this.key,"_interaction")}},{key:"_onElementEvent",value:function(){localStorage.setItem(this._localKey,!0),this._elIndicator.hidden=!0}}],[{key:"observedAttributes",get:function(){return["hidden","key","element","event"]}}]),t}();window.customElements.get("temporary-display")||window.customElements.define("temporary-display",e),"undefined"!=typeof module&&(module.exports=e)}();