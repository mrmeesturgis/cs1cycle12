"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function asyncGeneratorStep(e,t,n,i,o,a,r){try{var s=e[a](r),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(i,o)}function _asyncToGenerator(s){return function(){var e=this,r=arguments;return new Promise(function(t,n){var i=s.apply(e,r);function o(e){asyncGeneratorStep(i,t,n,o,a,"next",e)}function a(e){asyncGeneratorStep(i,t,n,o,a,"throw",e)}o(void 0)})}}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=_superPropBase(e,t);if(i){t=Object.getOwnPropertyDescriptor(i,t);return t.get?t.get.call(arguments.length<3?e:n):t.value}}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a=[],r=!0,s=!1;try{for(n=n.call(e);!(r=(i=n.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){s=!0,o=e}finally{try{r||null==n.return||n.return()}finally{if(s)throw o}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}!function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      align-items: var(--align-icon-y, center);\n      width: 100%;\n      max-height: 100%;\n      line-height: 0;\n\n      --align-icon-x: center;\n      --align-icon-y: center;\n    }\n    :host([hidden]) { display: none; }\n\n    #icon {\n      object-fit: contain;\n      object-position: var(--align-icon-x, center);\n      width: inherit;\n      max-height: inherit;\n      height: inherit;\n    }\n  ",'</style>\n    <img id="icon" loading="lazy" />\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).icons={"amazon-prime-video-us":"/assets/pizza-pie/images/affiliates/amazon_prime_video.aea370299cd.svg","amazon-prime-video-us-sidebyside":"/assets/pizza-pie/images/affiliates/amazon-prime-video-sidebyside.a41b51727e0.svg","amc-plus-us":"/assets/pizza-pie/images/affiliates/amc_plus.eebc3f3183d.svg","apple-tv-plus-us":"/assets/pizza-pie/images/affiliates/apple_tv_plus.214c9b21f03.svg","disney-plus-us":"/assets/pizza-pie/images/affiliates/disney_plus.38158a14466.svg",fandango:"/assets/pizza-pie/images/affiliates/fandango.7e22d1f94b5.svg","golden-tomatoes":"/assets/pizza-pie/images/affiliates/RT_GTA_2019_Logo.e04d785efa8.svg","hbo-max":"/assets/pizza-pie/images/affiliates/hbo_max.2426e881c8f.svg",hulu:"/assets/pizza-pie/images/affiliates/hulu.3bc560ceca6.svg","in-theaters":"/assets/pizza-pie/images/affiliates/in_theaters.43aba51a9d1.svg",itunes:"/assets/pizza-pie/images/affiliates/apple_tv.da7a28db8f5.svg",netflix:"/assets/pizza-pie/images/affiliates/netflix.62f265e4a21.svg",showtime:"/assets/pizza-pie/images/affiliates/showtime.eafbcc724e8.svg","paramount-plus-us":"/assets/pizza-pie/images/affiliates/paramount_plus.807659e81cb.svg",peacock:"/assets/pizza-pie/images/affiliates/peacock.2427388e74b.svg",peacockDark:"/assets/pizza-pie/images/affiliates/peacock_dark.ba5b6c89bfa.svg",rt:"/assets/pizza-pie/images/affiliates/rt.b142ea30f59.svg","rt-editorial":"/assets/pizza-pie/images/affiliates/rt.b142ea30f59.svg",vudu:"/assets/pizza-pie/images/affiliates/vudu.7b6da49f202.svg"},e.dom={elIcon:e.select("#icon")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted(),this.hasAttribute("role")||this.setAttribute("role","image"),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeAlignicon",value:function(){var e=_slicedToArray((0<arguments.length&&void 0!==arguments[0]?arguments[0]:"center center").split(" "),2),t=e[0],e={left:"flex-start",center:"center",right:"flex-end"}[e[1]]||"center";this.style.setProperty("--align-icon-x",t),this.style.setProperty("--align-icon-y",e)}},{key:"_attributeName",value:function(e){this.dom.elIcon.setAttribute("src",this.icons[e]||""),this.dom.elIcon.setAttribute("alt",e||"")}}],[{key:"observedAttributes",get:function(){return["hidden","name","alignicon"]}}]),n}();window.customElements.get("affiliate-icon")||window.customElements.define("affiliate-icon",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-family: "Franklin Gothic",-apple-system,BlinkMacSystemFont,"PT Sans",Arial,Sans-Serif;\n      font-size: 14px;\n    }\n    :host([hidden]) { display: none; }\n\n    .chart { display: flex; align-items: center; min-width: 200px; }\n    .chart > * { display: inline-block; }\n    .chart p {\n      min-width: 45px;\n      margin: 0;\n      color: var(--grayDark1, #505257);\n    }\n\n    .bar-outline,\n    .bar-fill {\n      height: 5px;\n      border-radius: 3px;\n      box-shadow: inset 0 1px 3px 0 rgba(0, 0, 0, 0.14);\n    }\n    .bar-outline {\n      max-width: 90%;\n      min-width: 50%; \n      position: relative;\n      background-color: var(--grayLight2, #E9E9EA); margin: 0 10px;\n    }\n    .bar-fill {\n      max-width: 100%;\n      min-width: 0%;\n      position: absolute;\n      background-color: var(--grayDark1, #505257);\n    }\n  ','</style>\n\n    <div class="chart">\n      <p class="label">Rotten</p>\n      <div class="bar-outline">\n        <div class="bar-fill"></div>\n      </div>\n      <p class="count" data-qa="count">N/A</p>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.dom={elBarFill:e.select(".bar-fill"),elCount:e.select(".count"),elLabel:e.select(".label")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeLabel",value:function(e){this.dom.elLabel.innerHTML=e||"N/A"}},{key:"_attributeCount",value:function(){this._renderBarChart()}},{key:"_attributeTotalcount",value:function(){this._renderBarChart()}},{key:"_renderBarChart",value:function(){var e=isNaN(parseInt(this.getAttribute("totalcount")))?0:parseInt(this.getAttribute("totalcount")),t=isNaN(parseInt(this.getAttribute("count")))?0:parseInt(this.getAttribute("count")),e=t/e*100;this.dom.elBarFill.style.width=t?"".concat(100<=e?100:e,"%"):"0%",this.dom.elCount.innerHTML="".concat(t)||"N/A"}}],[{key:"observedAttributes",get:function(){return["hidden","label","count","totalcount"]}}]),n}();window.customElements.get("bar-chart")||window.customElements.define("bar-chart",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host {\n      display: flex;\n      overflow-x: auto;\n    }\n    :host([hidden]), #view-all[hidden] { display: none; }\n  ",'</style>\n    <slot></slot>\n    <slot name="view-all" hidden></slot>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["viewallactive"]),e.dom={elOptionsSlot:e.select("slot"),elViewAllSlot:e.select('slot[name="view-all"]')},e}return _createClass(n,[{key:"connectedCallback",value:function(){var t=this,e=[].concat(_toConsumableArray(this.dom.elOptionsSlot.assignedElements().map(function(e){return{el:e,eventType:"clicked",fn:t._onItemClicked}})),[{el:this.elViewAll,eventType:"clicked",fn:this._onViewAllClicked},{el:this.dom.elViewAllSlot,eventType:"slotchange",fn:this._onItemsSlotChange}]);this.attachEvents(e),this.ready()}},{key:"elViewAll",get:function(){return this.slotted["view-all"][0]}},{key:"value",get:function(){return this._items.filter(function(e){return e.active}).map(function(e){return e.value})},set:function(t){this._items.forEach(function(e){return e.active=t.includes(e.value)}),this._adjustItems()}},{key:"template",value:function(){return i}},{key:"_adjustItems",value:function(){var e=this.maxvisibleitems&&Number(this.maxvisibleitems);if("number"==typeof e){var t=this._items.slice(0,e),e=this._items.slice(e);if(t.forEach(function(e){return e.hidden=!1}),0===e.length)return this.dom.elViewAllSlot.hidden=!0;this.dom.elViewAllSlot.hidden=!1,e.forEach(function(e){return e.hidden=!0});t=e.filter(function(e){return e.active}),e=Boolean(t.length)||this.viewallactive,t=0<t.length?"+".concat(t.length):"View All";this.elViewAll.active=e,this.elViewAll.innerText=t}}},{key:"_attributeMaxvisibleitems",value:function(e){this._adjustItems()}},{key:"_items",get:function(){try{return this.select('slot:not([name="view-all"])').assignedElements()}catch(e){return[]}}},{key:"_onItemClicked",value:function(e){e=e.target;e.active=!e.active;e=this.value,e=new CustomEvent("change",{detail:{values:e}});this.dispatchEvent(e)}},{key:"_onItemsSlotChange",value:function(){this._adjustItems()}},{key:"_onViewAllClicked",value:function(){var e=this._items.map(function(e){return{value:e.value,selected:e.active}}),e=new CustomEvent("viewall",{detail:{options:e}});this.dispatchEvent(e)}}],[{key:"observedAttributes",get:function(){return["maxvisibleitems","viewallactive"]}}]),n}();window.customElements.get("bubbles-overflow-container")||window.customElements.define("bubbles-overflow-container",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host {\n      --linkColor: var(--blue, #3976DC);\n\n      display: block;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    a { color: var(--linkColor); text-decoration: none; }\n    div {\n      display: flex;\n      justify-content: center;\n    }\n  ","</style>\n    <div></div>\n  ");var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={wrap:e.select("div")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.attachEvents([{el:document,eventType:"userLogin",fn:this._onDocumentUserLogin},{el:document,eventType:"userLogout",fn:this._onDocumentUserLogout}])}},{key:"template",value:function(){return i}},{key:"_onDocumentUserLogin",value:function(e){var t;null!==(e=e.detail)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.criticId&&(t="/critics/self-submission/".concat(this.mediatype,"/").concat(this.emsid,"?").concat(location.search),this.dom.wrap.innerHTML='<a href="'.concat(t,'" data-qa="add-article-link">Add Reviews</a>'),this.hidden=!1)}},{key:"_onDocumentUserLogout",value:function(e){this.dom.wrap.innerHTML="",this.hidden=!0}}],[{key:"observedAttributes",get:function(){return["emsid","hidden","mediatype"]}}]),n}();window.customElements.get("critic-add-article")||window.customElements.define("critic-add-article",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Manager,e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).traceName="CriticReviewManager",e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return _get(_getPrototypeOf(n.prototype),"connectedCallback",this).call(this),e.next=3,customElements.whenDefined("review-speech-balloon");case 3:this._onWidthRecalculated(),this.dom={elsReviewSpeechBalloon:document.querySelectorAll("review-speech-balloon")},this.attachEvents([{el:window,eventType:"resize",fn:this._onWidthRecalculated}]);case 6:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stateUpdated",value:function(){this.state.isMobile?this._hideExcessCriticReviews():this._unhideCriticReview()}},{key:"_unhideCriticReview",value:function(){Array.from(this.dom.elsReviewSpeechBalloon).forEach(function(e){e.removeAttribute("hidden")})}},{key:"_hideExcessCriticReviews",value:function(){var e=Array.from(this.dom.criticReviewSpeechBalloon||[]),t=e.length,n=0;e.forEach(function(e){"true"===e.getAttribute("istopcritic")&&n++});var i=Math.min(n,4),o=Math.min(t,6)-i;e.forEach(function(e){"true"===e.getAttribute("istopcritic")?(i<=0&&(e.hidden=!0),i--):(o<=0&&(e.hidden=!0),o--)})}},{key:"_onWidthRecalculated",value:function(){var e=Boolean(window.innerWidth&&window.innerWidth<768);this.setState({isMobile:e})}}]),n}();window.customElements.get("critic-review-manager")||window.customElements.define("critic-review-manager",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var t=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 16px;\n    }\n\n    rt-tabs {\n      border: solid 1px var(--grayLight2, #E9E9EA);\n    }\n\n    rt-tabs section[slot="tabBar"] {\n      display: flex;\n    }\n\n    rt-tabs-panel > article {\n      margin-bottom: 10px;\n    }\n\n    discovery-sidebar-list:not([title]) {\n      margin-top: 8px;\n    }\n\n    :host([hidden]) { display: none; }\n  ','</style>\n    <slot></slot>\n    <rt-tabs>\n      <section slot="tabBar"></section>\n    </rt-tabs>\n  ');var e=function(){_inherits(i,t);var e,n=_createSuper(i);function i(){_classCallCheck(this,i);var e,t=_assertThisInitialized(e=n.call(this));return e.dom={elTabBar:e.select('rt-tabs section[slot="tabBar"]'),get wcTabBarOptions(){return Array.from(t.selectAll("discovery-sidebar-tab"))||[]},wcTabs:e.select("rt-tabs")},e.attachEvent(e.dom.elTabBar,"click",e._handleTabClick.bind(_assertThisInitialized(e))),e}return _createClass(i,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined(["discovery-sidebar-tab","rt-tabs-panel"]);case 2:this.initBool(["hidden"]),this.initSlotted(),this._setupTabs(),this.initial&&this._attributeInitial(this.initial),this.ready();case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_addTabPanels",value:function(e){var n=document.createDocumentFragment();e.forEach(function(e){var t=document.createElement("rt-tabs-panel");t.slot="tabPanel",t.value=e.getAttribute("value"),t.appendChild(e),n.appendChild(t)}),this.dom.wcTabs.appendChild(n)}},{key:"_addTabs",value:function(e){var i=document.createDocumentFragment();e.forEach(function(e){var t=document.createElement("discovery-sidebar-tab"),n=e.getAttribute("value");t.value=n,t.innerHTML=e.getAttribute("title"),t.setAttribute("data-qa","".concat(n,"-tab")),e.removeAttribute("title"),e.removeAttribute("value"),i.appendChild(t)}),this.select('[slot="tabBar"]').appendChild(i)}},{key:"_attributeInitial",value:function(e){this.dom.wcTabs.selected=e,this._setActiveTab(e)}},{key:"_handleTabClick",value:function(e){e=e.target.value;e&&(this._setActiveTab(e),document.dispatchEvent(new CustomEvent("curation")))}},{key:"_setActiveTab",value:function(t){this.dom.wcTabBarOptions.forEach(function(e){return e.active=e.value===t})}},{key:"_setupTabs",value:function(){var e=this.select("slot"),t=Array.from(e.assignedElements());this._addTabPanels(t),this._addTabs(t),e.remove()}}],[{key:"observedAttributes",get:function(){return["hidden","initial"]}}]),i}();window.customElements.get("discovery-sidebar")||window.customElements.define("discovery-sidebar",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat("\n    :host([hidden]), *[hidden] { display: none; }\n\n    a {\n      font-size: 16px;\n      text-decoration: none;\n      display: flex;\n      align-items: center;\n      color: var(--grayDark2);\n    }\n\n    a:hover {\n      color: var(--blueHover);\n    }\n\n    a:hover score-icon-critic {\n      --fontColor: var(--blueHover);\n    }\n\n    p {\n      margin: 0;\n      padding: 0 10px;\n      font-family: 'Franklin Gothic FS Book', sans-serif;\n      font-size: 0.875em;\n      font-weight: 400;\n      line-height: 24px;\n      flex: 1;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    }\n\n    score-icon-critic, #no-score {\n      width: 60px;\n    }\n  ",'</style>\n    <a data-qa="link">\n      <score-icon-critic size="tiny" alignment="left"></score-icon-critic>\n      <p id="title"></p>\n      <span id="info" hidden></span>\n    </a>\n  ');var e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elInfo:e.select("#info"),elLink:e.select("a"),elTitle:e.select("#title"),wcScoreIconCritic:e.select("score-icon-critic")},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined();case 2:this.initBool(["hidden"]),this.initSlotted(),this.ready();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeMediaurl",value:function(e){this.dom.elLink.href=e}},{key:"_attributeTitle",value:function(e){this.dom.elTitle.innerText=e}},{key:"_attributeTomatometerscore",value:function(e){this.dom.wcScoreIconCritic.setAttribute("percentage",e)}},{key:"_attributeTomatometerstatus",value:function(e){this.dom.wcScoreIconCritic.setAttribute("state",e)}},{key:"_attributeType",value:function(e){e&&"simple"!==e&&(this.dom.elInfo.hidden=!1,e=this._getInfoByType(e)||"â€”",this.dom.elInfo.innerText=e,this.dom.elInfo.hidden=!1)}},{key:"_getInfoByType",value:function(e){return{date:this.releasedate,boxOffice:this.boxoffice}[e]}}],[{key:"observedAttributes",get:function(){return["boxoffice","hidden","mediaurl","releasedate","title","tomatometerstatus","tomatometerscore","type"]}}]),n}();window.customElements.get("discovery-sidebar-item")||window.customElements.define("discovery-sidebar-item",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: flex;\n      flex-direction: column;\n      margin: 0 10px;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    #title {\n      font-family: "Neusa", "Impact", Helvetica Neue, Arial, Sans-Serif;\n      font-weight: 600;\n      font-size: 16px;\n      color: var(--black);\n      text-transform: uppercase;\n      margin: 8px 0;\n    }\n\n    #details-link {\n      font-size: 14px;\n      color: #4472CA;\n      margin-top: 5px;\n      text-decoration: none;\n    }\n\n    #details-link:hover {\n      color: var(--blueHover);\n    }\n  ','</style>\n    <h2 id="title" class="hide"></h2>\n    <slot></slot>\n    <a id="details-link" class="hide" data-qa="view-all-link">View All</a>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elDetailsLink:e.select("#details-link"),elTitle:e.select("#title")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeTitle",value:function(e){this.dom.elTitle.classList[e?"remove":"add"]("hide"),this.dom.elTitle.innerText=e}},{key:"_attributeDetailsurl",value:function(e){this.dom.elDetailsLink.classList[e?"remove":"add"]("hide"),this.dom.elDetailsLink.href=e}}],[{key:"observedAttributes",get:function(){return["hidden","title","detailsurl"]}}]),n}();window.customElements.get("discovery-sidebar-list")||window.customElements.define("discovery-sidebar-list",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var n=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: flex;\n      flex: 1;\n    }\n\n    :host([active]) button {\n      background: var(--white, #FFF);\n      border-bottom: solid 1px var(--white, #FFF);\n      color: var(--black, #000);\n      cursor: default;\n    }\n\n    :host(:not([active]):hover) button {\n      color: var(--black, #000);\n      background: var(--grayLight2, #E9E9EA);\n    }\n\n    button:focus:not(:focus-visible) {\n      outline: 0 !important;\n    }\n\n    :host(:first-of-type) button {\n      border-left: none;\n    }\n\n    button {\n      flex: 1;\n      border: none;\n      color: var(--gray, #757A84);\n      cursor: pointer;\n      background: var(--grayLight1, #F3F3F3);\n      padding: 10px 5px 5px 5px;\n      border-bottom: solid 1px var(--grayLight2, #E9E9EA);\n      border-left: solid 1px var(--grayLight2, #E9E9EA);\n      font-size: 0.875em;\n      font-weight: 500;\n      font-family: "Neusa", "Impact", Helvetica Neue, Arial, Sans-Serif;\n      transition: color 0.4s ease-in-out;\n      text-transform: uppercase;\n      line-height: 0.9375em;\n    }\n\n    :host([hidden]) { display: none; }\n  ',"</style>\n    <button>\n      <slot></slot>\n    </button>\n  ");var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden","active"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["active","hidden","value"]}}]),t}();window.customElements.get("discovery-sidebar-tab")||window.customElements.define("discovery-sidebar-tab",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i={SPACE:32,ENTER:13},o=document.createElement("template");o.innerHTML="\n    <style>".concat("\n    :host {\n      display: inline-block;\n      width: auto;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    :host .filter-chip {\n      border-radius: 16px;\n      padding: 7px 16px;\n      height: 18px;\n      border: solid 1px var(--grayLight4, #bcbdbe);\n      background-color: var(--white, #fff);\n      color: var(--grayDark2, #2a2c32);\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n    }\n\n    :host .filter-chip:hover {\n      border: solid 1px var(--grayDark2, #2a2c32);\n    }\n\n    :host .filter-chip.active {\n      background-color: var(--grayLight2, #e9e9ea);\n      border: solid 1px transparent;\n    }\n\n    :host .filter-chip.disabled {\n      background-color: var(--grayLight2, #e9e9ea);\n      color: var(--grayLight4, #bcbdbe);\n      border: solid 1px transparent;\n      cursor: default;\n    }\n\n    :host slot[name=score-icon]::slotted(*) {\n      margin-right: 5px;\n    }\n\n    :host slot[name=label]::slotted(*) {\n      font-size: .875rem;\n      line-height: 1.29;\n      font-weight: 500;\n      width: max-content;\n    }\n\n    :host rt-icon {\n      height: 9px;\n      width: 8px;\n      fill: var(--grayDark2);\n      margin-left: 5px;\n      margin-top: -4px;\n    }\n\n    ::slotted(label.filter-chip) {\n      cursor: pointer;\n    }\n\n    #count {\n      margin-left: 4px;\n      font-size: 0.75rem;\n      font-weight: 500;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.5;\n      letter-spacing: normal;\n      color: var(--white, #ffffff);\n      justify-content: center;\n      background-color: var(--grayDark1, #505257);\n      padding: 0 4px;\n      border-radius: 4px;\n    }\n  ",'</style>\n    <div class="filter-chip">\n      <slot name="score-icon"></slot>\n      <slot name="label"></slot>\n      <span id="count" class="hide">3</span>\n      <rt-icon class="hide" icon="down-open"></rt-icon>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["arrow","active","disabled","hidden","icon"]),e.elFilterChip=e.select(".filter-chip"),e.elIcon=e.select('slot[name="score-icon"]'),e.elCaret=e.select("rt-icon"),e.elCount=e.select("#count"),e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted(),this.hasAttribute("role")||this.setAttribute("role","button"),this.hasAttribute("tabindex")||this.setAttribute("tabindex",0),this.attachEvents([{el:this,eventType:"click",fn:this._onClick},{el:this,eventType:"keydown",fn:this._onKeydown}]),this.ready()}},{key:"template",value:function(){return o}},{key:"_attributeActive",value:function(){this.active?this.elFilterChip.classList.add("active"):this.elFilterChip.classList.remove("active")}},{key:"_attributeArrow",value:function(){this.arrow?this.elCaret.classList.remove("hide"):this.elCaret.classList.add("hide")}},{key:"_attributeCount",value:function(e){e=Number(e);if(!(e&&0<e))return this.elCount.classList.add("hide");this.elCount.innerText=e,this.elCount.classList.remove("hide")}},{key:"_attributeDisabled",value:function(){this.disabled?this.elFilterChip.classList.add("disabled"):this.elFilterChip.classList.remove("disabled")}},{key:"_attributeIcon",value:function(){this.elIcon.hidden=!this.icon}},{key:"_attributeLabel",value:function(e){var t,n;null!==(t=this.slotted)&&void 0!==t&&null!==(n=t.label)&&void 0!==n&&n[0]&&(this.slotted.label[0].innerHTML=e)}},{key:"_dispatchEvent",value:function(){var e=this.active,t=this.label;this.dispatchEvent(new CustomEvent("clicked",{detail:{active:e,label:t}}))}},{key:"_onClick",value:function(e){this.active=!this.active,this._dispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(i).includes(e.keyCode)&&this._dispatchEvent()}}],[{key:"observedAttributes",get:function(){return["arrow","active","count","disabled","hidden","icon","label"]}}]),n}();window.customElements.get("filter-chip")||window.customElements.define("filter-chip",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var n=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n    }\n    :host([hidden]) { display: none; }\n    \n    .hero_image_container {\n      position: relative;\n      height: 100%;\n      width: 100%;\n    }\n\n    ::slotted(a),\n    ::slotted(button) {\n      cursor: pointer;\n    }\n\n    ::slotted(button) {\n      width: 100%!important;\n      height: 100%!important;\n      background-color: unset!important;\n      padding: 0!important;\n    }\n\n    @media (min-width: 768px) {\n      :host {\n        margin: 10px 0 26px 0;\n      }\n    }\n  ",'</style>\n    <div class="hero_image_container">\n      <slot name="content"></slot>\n    </div>\n  ');var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"template",value:function(){return i}},{key:"connectedCallback",value:function(){this.ready()}}]),t}();window.customElements.get("hero-image")||window.customElements.define("hero-image",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 100%;\n      height: 100%;\n    }\n    :host([hidden]) { display: none; }\n\n    .poster_container {\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n\n    slot[name="poster"]::slotted(*) {\n      width: 100%;\n      height: 100%;\n      border-radius: 8px;\n      box-shadow: 0 5px 13px 0 rgba(0, 0, 0, 0.33);\n    }\n\n    slot[name="icon-play"]::slotted(*) {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translateX(-50%) translateY(-50%);\n      width: 56px;\n      height: 56px;\n    }\n\n    slot[name="title"]::slotted(*),\n    slot[name="year"]::slotted(*) {\n      display: none;\n    }\n\n    @media (min-width: 768px) {\n      slot[name="title"]::slotted(*) {\n        display: block;\n        position: absolute;\n        bottom: 0;\n        left: 52px;\n        padding: 20px;\n        color: #FFF;\n        font-size: 30px;\n        font-weight: 700;\n        text-transform: uppercase;\n      }\n\n      slot[name="year"]::slotted(*) {\n        display: block;\n        position: absolute;\n        bottom: -7px;\n        left: 73px;\n        margin: 20px 0 10px 0;\n        font-size: 18px;\n        font-weight: 700;\n        line-height: 1.1;\n        color: #FFF;\n      }\n    }\n  ','</style>\n    <div class="poster_container">\n      <slot name="poster"></slot>\n      <slot name="icon-play"></slot>\n      <slot name="title"></slot>\n      <slot name="year"></slot>\n    </div>\n  ');var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"template",value:function(){return i}}]),t}();window.customElements.get("hero-image-poster")||window.customElements.define("hero-image-poster",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Manager,t=window.__RT__,a=t.cookie,r=t.fetcher,t=function(){_inherits(o,e);var t,n,i=_createSuper(o);function o(){var e;return _classCallCheck(this,o),(e=i.call(this)).traceName="JwPlayerManager",e.enforceActions=!0,e.state={action:"constructor",adId:void 0,isAgeVerified:!1,isOverlay:"onclick"===e.getAttribute("initialize"),playlistCurrentIndex:0},e.JW_PLAYER=window.jwplayer("jw-player"),e}return _createClass(o,[{key:"connectedCallback",value:function(){var e;_get(_getPrototypeOf(o.prototype),"connectedCallback",this).call(this),this.dom=_objectSpread({elJwPlayerDiv:document.getElementById("jw-player"),elsVideoInitBtns:document.querySelectorAll("[data-public-id]")},this.state.isOverlay&&{wcOverlayBase:(null===(e=document.querySelector("video-player-overlay"))||void 0===e?void 0:e.parentElement)||null}),this.attachEvents([{el:this,eventType:"play",fn:this._onPlay},{el:this,eventType:"playlistItem",fn:this._onPlaylistItem},{el:this,eventType:"ready",fn:this._onReady},{el:this.dom.elsVideoInitBtns,eventType:"click",fn:this._onVideoInitBtnsClick},{el:this.dom.wcOverlayBase,eventType:"close",fn:this._onOverlayBaseClose}]),this.state.isOverlay||(this.adobeDataLayer=JSON.parse(document.getElementById("adobeDataLayerJson").textContent),this.comscore=JSON.parse(document.getElementById("comscoreJson").textContent),this.featuredVideo=JSON.parse(document.getElementById("featuredVideoJson").textContent),this.videos=JSON.parse(document.getElementById("videosJson").textContent),this.setState({action:"initJwPlayer"}))}},{key:"_onVideoInitBtnsClick",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.prev=2,a=t.currentTarget.dataset,n=a.adId,i=a.emsId,o=a.publicId,a=a.type,e.next=6,r.fetchJson("/napi/videos?".concat(new URLSearchParams({emsId:i,publicId:o,type:a})));case 6:a=e.sent,this.adobeDataLayer=null==a?void 0:a.adobeDataLayer,this.comscore=null==a?void 0:a.comscore,this.featuredVideo=null==a?void 0:a.featuredVideo,this.videos=null==a?void 0:a.videos,this.setState({action:"initJwPlayerDynamic",adId:n}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),this.logError(e.t0);case 17:case"end":return e.stop()}},e,this,[[2,14]])})),function(e){return n.apply(this,arguments)})},{key:"stateUpdated",value:function(){switch(this.state.action){case"ageConsent":this._updateAgeConsent(this.state.isAgeVerified);break;case"initJwPlayer":this._initJwPlayer();break;case"initJwPlayerDynamic":this._initJwPlayerDynamic();break;case"initAgeGateScreen":this._initAgeGateScreen();break;case"onPlaylistItem":this._initComscore(),this._updateVideoTitleHeader();break;case"onReady":this._initAdobeDataLayer();break;case"onOverlayBaseClose":this._handleOverlayBaseClose()}}},{key:"_freewheelAddPixel",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,o,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.__RT__.fetcher,i="https://29773.v.fwmrm.net/ad/u",o="".concat(location.origin,"/napi/tracking/freewheel/pixelsync?vcid2=").concat(t),e.next=6,n.ready();case 6:return e.next=8,n.fetchJson(o);case 8:a=e.sent,(r=document.createElement("img")).id="fw_".concat(a.vcid2),r.src="".concat(i,"?mode=echo&cr=").concat(encodeURIComponent(o)),r.style.width="1px",r.style.height="1px",r.style.display="none",e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0);case 20:case"end":return e.stop()}},e,null,[[0,17]])})),function(e){return t.apply(this,arguments)})},{key:"_freewheelGetUuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"_freewheelGetVcid2",value:function(e){if(e)return document.getElementById("fw_".concat(e))||this._freewheelAddPixel(e),e;e=this._freewheelGetUuidv4();return this._freewheelAddPixel(e),e}},{key:"_getFreewheelConstantIds",value:function(){return this._isMobile?{CSID:"rotten_tomatoes_video_vod_mobile",SFID:"1913547"}:{CSID:"rotten_tomatoes_video_vod",SFID:"1913546"}}},{key:"_getFreewheelParams",value:function(e,t,n){if(!e)return"";try{var i=this._getFreewheelConstantIds(),o={_fw_h_referer:"www.rottentomatoes.com",_fw_vcid2:e,csid:i.CSID,sfid:i.SFID,_fw_gdpr:0,_fw_gdpr_consent:""};return t&&(o._fw_gdpr=1,o._fw_gdpr_consent=t),n&&(o._fw_us_privacy=n),o}catch(e){return{}}}},{key:"_handleOverlayBaseClose",value:function(){document.getElementById("jw-player").remove();var e=document.createElement("div");e.id="jw-player",this.parentElement.insertBefore(e,this),this.dom.wcOverlayBase.hidden=!0}},{key:"_initAdobeDataLayer",value:function(){null!==(n=(i=window).adobeDataLayer)&&void 0!==n||(i.adobeDataLayer=[]);var e=this.adobeDataLayer,t=e.content,n=e.media_params,i=window.RottenTomatoes.dtmData,e=i.loggedInStatus,i=i.customerId;window.adobeDataLayer.push({event:"media-ready",content:t,media_params:n,user:_objectSpread({attributes:{login_status:e?"logged-in":"logged-out"}},i?{profile:{id:i}}:{})})}},{key:"_initAgeGateScreen",value:function(){var e=this.JW_PLAYER.getContainer(),t=document.createElement("jw-player-age-gate-screen");e.appendChild(t),this.attachEvents([{el:t,eventType:"consent",fn:this._onElAgeGateScreenConsent}])}},{key:"_initComscore",value:function(){var e=this.JW_PLAYER.getPlaylistItem(),t=this.comscore,n=t.genres,t=t.title;window.ns_&&window.ns_.StreamingAnalytics.JWPlayer(this.JW_PLAYER,{publisherId:"6035083",labelmapping:'\n          ns_st_st="rottentomatoes",\n          ns_st_pu="rottentomatoes",\n          ns_st_pr='.concat(t,",\n          ns_st_ep=").concat(e.description||t,",\n          ns_st_ci =").concat(e.publicId,",\n          ns_st_ge=").concat(n[0],',\n          c3="rottentomatoes.com"\n        ')})}},{key:"_initJwPlayerDynamic",value:function(){var e,t,n;if("ads-video-spotlight"===this.state.adId)return this.videos=(null===(e=document.querySelector("ads-video-spotlight-manager"))||void 0===e||null===(t=e.videoSpotlightData)||void 0===t||null===(n=t.playlist)||void 0===n?void 0:n.videos)||[],void(0<this.videos.length&&this._initJwPlayer());(null===(n=document.querySelector("video-player-overlay"))||void 0===n?void 0:n.parentElement).hidden=!1,this._initJwPlayer()}},{key:"_initJwPlayer",value:function(){var t=this,e=this.videos.findIndex(function(e){return e.publicId===t.featuredVideo.publicId})||0,n=this.videos[e],i=this._freewheelGetVcid2(a.get("fw_vcid2")),o=a.get("eupubconsent-v2"),e=a.get("usprivacy"),e=this._getFreewheelParams(i,o,e);this.JW_PLAYER.setup({autostart:"viewable",autoPause:{viewability:!0,pauseAds:!0},mute:!0,playlist:this.videos,repeat:!0,fwassetid:"fandango_".concat(n.publicId),advertising:{client:"freewheel",vpaidcontrols:!0,freewheel:{networkid:169843,serverid:"https://29773.v.fwmrm.net/ad/g/1",profileid:"169843:nbcu_fandango_web_jwp",sectionid:"fandango_alldevice_allos_web_ondemand",adManagerURL:"https://mssl.fwmrm.net/libs/adm/6.51.0/AdManager.js",afid:158702674,vcid:"",sfid:null==e?void 0:e.sfid,csid:null==e?void 0:e.csid,caid:null==n?void 0:n.publicId,resp:"json",metr:1023,vdur:null==n?void 0:n.duration,capabilities:{flag:{sltp:"on",emcr:"on",slcb:"on",nucr:"on",sbid:"on",fbad:"on",aeti:"on",slif:"on",vicb:"on",amcb:"on","play-uapl":"on",dtrd:"on"}},custom:{_fw_h_referer:null==e?void 0:e._fw_h_referer,_fw_vcid2:i,_fw_us_privacy:null==e?void 0:e._fw_us_privacy,_fw_gdpr:null==e?void 0:e._fw_gdpr,_fw_gdpr_consent:null==e?void 0:e._fw_gdpr_consent,_fw_h_user_agent:navigator.userAgent}},schedule:[{tag:"fw-preroll"}]}}),this._registerJwPlayerEvents(this.JW_PLAYER)}},{key:"_onDispatchJwPlayerEvent",value:function(e){var t=e.type;this.dispatchEvent(new CustomEvent(t,{detail:_objectSpread({},e)}))}},{key:"_onElAgeGateScreenConsent",value:function(e){e=e.detail.isAgeVerified;this.setState({action:"ageConsent",isAgeVerified:e})}},{key:"_onOverlayBaseClose",value:function(){this.setState({action:"onOverlayBaseClose"})}},{key:"_onPlay",value:function(e){this.state.isAgeVerified||this.videos[this.state.playlistCurrentIndex].isRedBand&&(this.JW_PLAYER.pause(),this.setState({action:"initAgeGateScreen"}))}},{key:"_onPlaylistItem",value:function(e){this.setState({action:"onPlaylistItem",playlistCurrentIndex:e.detail.index})}},{key:"_onReady",value:function(){var t=this,e=this.videos.findIndex(function(e){return e.publicId===t.featuredVideo.publicId})||0;this.JW_PLAYER.playlistItem(e),this.state.isOverlay&&!this.state.adId?this._slotPlayerIntoOverlay():this.dom.elJwPlayerDiv.removeAttribute("skeleton"),this.setState({action:"onReady",playlistCurrentIndex:e})}},{key:"_registerJwPlayerEvents",value:function(t){var n=this;["ready","play","playlistItem"].forEach(function(e){t.on(e,function(e){return n._onDispatchJwPlayerEvent(e)})})}},{key:"_slotPlayerIntoOverlay",value:function(){var e,t=document.querySelector("video-player-overlay");t&&((e=document.querySelector(".jwplayer")).setAttribute("slot","content"),t.querySelector("video-player").remove(),t.appendChild(e))}},{key:"_updateAgeConsent",value:function(){var e=this.JW_PLAYER.getContainer(),t=e.querySelector("jw-player-age-gate-screen"),e=e.querySelector(".jw-controls");this.state.isAgeVerified?(e.style.display="block",t.remove(),this.JW_PLAYER.play()):([e,t.shadowRoot.querySelector("#btn-yes"),t.shadowRoot.querySelector("#btn-no")].forEach(function(e){return e.remove()}),t.shadowRoot.querySelector("p").innerText="Sorry, this content is not playable.")}},{key:"_updateVideoTitleHeader",value:function(){var e=this.videos[this.state.playlistCurrentIndex];this.state.isOverlay||(document.querySelector("#featured-video h2").innerHTML="<em>".concat(e.title,"</em>"))}}]),o}();window.customElements.get("jw-player-manager")||window.customElements.define("jw-player-manager",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      position: absolute;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n      padding: 15px;\n      z-index: 2000;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .content-wrap {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      width: 100%;\n      height: 100%;\n      color: var(--white);\n    }\n\n    p { margin-top: 0; }\n  ",'</style>\n\n    <div class="content-wrap">\n      <h3>Age Verification</h3>\n      <p>This content is rated: adult. By clicking YES, I certify that I am 17 or older.</p>\n      <div class="btns-wrap">\n        <rt-button id="btn-yes">\n          <span>Yes</span>\n        </rt-button>\n        <rt-button id="btn-no">\n          <span>No</span>\n        </rt-button>\n      </div>\n    </div>\n  ');var e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elJwPlayerContainer:document.getElementById("jw-player"),elJwPlayerControls:document.querySelector("#jw-player .jw-controls"),elSubHeader:e.select("p"),elBtnNo:e.select("#btn-no"),elBtnYes:e.select("#btn-yes")},e.initBool(["hidden"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.attachEvents([{el:this.dom.elBtnNo,eventType:"click",fn:this._onElBtnNoClick},{el:this.dom.elBtnYes,eventType:"click",fn:this._onElBtnYesClick}]),this.dom.elJwPlayerControls.style.display="none";case 2:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this)}},{key:"template",value:function(){return o}},{key:"_onElBtnNoClick",value:function(){this.dispatchEvent(new CustomEvent("consent",{detail:{isAgeVerified:!1}}))}},{key:"_onElBtnYesClick",value:function(){this.dispatchEvent(new CustomEvent("consent",{detail:{isAgeVerified:!0}}))}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}();window.customElements.get("jw-player-age-gate-screen")||window.customElements.define("jw-player-age-gate-screen",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 16px;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .links-wrap {\n      display: flex;\n      overflow-x: auto;\n      overflow-y: hidden;\n    }\n\n    a { margin-right: 15px; }\n    a.disabled { cursor: default; pointer-events: none; }\n\n    filter-chip span[slot="label"] {\n      font-family: "Franklin Gothic", -apple-system, BlinkMacSystemFont, "PT Sans", Arial, Sans-Serif;\n      font-size: .875em;\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 0.31px;\n      line-height: 1.3;\n    }\n  ','</style>\n    <div class="links-wrap">\n      <a class="critics disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No critics</span>\n        </filter-chip>\n      </a>\n      <a class="audience disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No audience</span>\n        </filter-chip>\n      </a>\n      <a class="videos disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No videos</span>\n        </filter-chip>\n      </a>\n      <a class="photos disabled" href="#">\n        <filter-chip tabindex="-1" role="presentation" disabled>\n          <span slot="label">No photos</span>\n        </filter-chip>\n      </a>\n    </div>\n  ');var e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elAudienceLink:e.select(".audience"),elCriticsLink:e.select(".critics"),elListWrap:e.select(".links-wrap"),elPhotosLink:e.select(".photos"),elVideosLink:e.select(".videos")},e._linkChipsData=e.getJSON("link-chips-json")||{},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initSlotted(),this.initBool(["hidden"]),e.next=4,this.elementsDefined();case 4:this._renderLinks(this._linkChipsData),this.attachEvents([{el:this.dom.elListWrap,eventType:"scroll",fn:this._onLinksScroll.bind(this)},{el:this.dom.elAudienceLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elCriticsLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elPhotosLink,eventType:"click",fn:this._onLinkClicked.bind(this)},{el:this.dom.elVideosLink,eventType:"click",fn:this._onLinkClicked.bind(this)}]),this.ready();case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_onLinksScroll",value:function(){var e=this.dom.elListWrap.scrollLeft;e<=0&&(this.dom.elListWrap.style.marginLeft="0px",this.dom.elListWrap.style.marginRight="-15px",this.dom.elListWrap.width="calc(100% + 15px)"),0<e&&(this.dom.elListWrap.style.marginLeft="-15px",this.dom.elListWrap.style.marginRight="-15px",this.dom.elListWrap.style.width="calc(100% + 30px)")}},{key:"_onLinkClicked",value:function(e){var t=e.currentTarget;t.classList.contains("disabled")||(e="",t===this.dom.elAudienceLink&&(e="mop:audience"),t===this.dom.elCriticsLink&&(e="mop:critics"),t===this.dom.elPhotosLink&&(e="mop:photos"),t===this.dom.elVideosLink&&(e="mop:videos"),window.dataLayer.push({event:"generic click",clickDetails:e}))}},{key:"_showLink",value:function(e,t){var n=e.querySelector("filter-chip"),i=e.querySelector('filter-chip span[slot="label"]');e.href=t,e.classList.remove("disabled"),n.disabled=!1,i.innerHTML=i.innerHTML.split("No ")[1]}},{key:"_renderLinks",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=this.dom,n=t.elAudienceLink,i=t.elCriticsLink,o=t.elPhotosLink,a=t.elVideosLink,r=e.audienceReviewsUrl,s=e.criticsReviewsUrl,l=e.photosUrl,c=e.showAudienceChip,d=e.showCriticsChip,u=e.showPhotosChip,t=e.showVideosChip,e=e.videosUrl;c&&this._showLink(n,r),d&&this._showLink(i,s),u&&this._showLink(o,l),t&&this._showLink(a,e)}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}();window.customElements.get("link-chips-overview-page")||window.customElements.define("link-chips-overview-page",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 100%;\n      margin-top: 15px;\n      line-height: 1;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .review-quote {\n      display: flex;\n      border: 1px solid #000;\n      padding: 5px;\n      position: relative;\n    }\n\n    .review-quote:before,\n    .review-quote:after {\n      border-style: solid;\n      content: \'\';\n      display: block;\n      position: absolute;\n      width: 0;\n    }\n    \n    .review-quote:before {\n      border-color: transparent #000 transparent transparent;\n      border-width: 0 28px 28px 0;\n      bottom: -28px;\n      left: 39px;\n      z-index: 0;\n    }\n\n    .review-quote:after {\n      border-color: transparent #fff transparent transparent;\n      border-width: 0 26px 26px 0;\n      bottom: -25px;\n      left: 40px;\n      z-index: 1;\n    }\n\n    score-icon-critic {\n      margin-right: 10px;\n    }\n\n    .quote-container {\n      display: flex;\n      width: 100%;\n      flex-direction: column;\n    }\n\n    .review-meta-data {\n      display: inline;\n      align-self: flex-end;\n      font-size: 12px;\n    }\n\n    .critic-data {\n      display:inline-block;\n    }\n\n    slot[name="critic-link"] {\n      display: block;\n      line-height: 1;\n    }\n\n    slot[name="publication-link"] {\n      display: block;\n      line-height: 1;\n    }\n\n    .quote {\n      margin: 0 0 10px;\n    }\n\n    .critic-info {\n      display: flex;\n      margin-left: 75px;\n      margin-top: 10px;\n    }\n\n    .critic-image {\n      width: 50px;\n      height: 50px;\n      padding-right: 10px;\n    }\n\n    @media (min-width: 768px) {\n      :host {\n        width: 345px;\n        margin-top: 15px;\n        line-height: 1.25;\n      }\n\n      .review-quote {\n        display: flex;\n        border: 2px solid #000;\n        padding: 12px;\n        position: relative;\n      }\n    }\n  ','</style>\n    <div class="review-quote">\n        <score-icon-critic size="small" percentage="hide">\n        </score-icon-critic>\n          \n        <div class="quote-container">\n            <p class="quote"></p>\n            <span class="review-meta-data">\n                <span class="review-time-and-rating"></span>\n                <slot name="review-url"></slot>\n            <span/>\n          </span>\n        </div>\n    </div>\n    <div class="critic-info">\n        <img\n          alt="Critic profile image"\n          class="critic-image" \n          data-qa="critic-avatar"\n          loading="lazy"\n          src="/assets/pizza-pie/images/user_none.710c9ebd183.jpg"\n        >\n        <div class="critic-data">\n            <slot name="critic-link"></slot>\n            <slot name="publication-link"></slot>\n            <rt-icon-top-critic hidden class="small"></rt-icon-top-critic>\n        </div>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={criticImage:e.select(".critic-image"),scoreIconCritic:e.select("score-icon-critic"),reviewTimeAndRating:e.select(".review-time-and-rating"),topCritic:e.select("rt-icon-top-critic"),quote:e.select(".quote")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initBool(["hidden","istopcritic"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeCreatedate",value:function(e){this.dom.reviewTimeAndRating.innerText="".concat(e," | ").concat(this.originalscore?"Rating: ".concat(this.originalscore," | "):"")}},{key:"_attributeCriticimageurl",value:function(e){e&&(this.dom.criticImage.src=e)}},{key:"_attributeOriginalscore",value:function(e){this.dom.reviewTimeAndRating.innerText="".concat(this.createdate," | ").concat(e?"Rating: ".concat(e," | "):"")}},{key:"_attributeReviewquote",value:function(e){this.dom.quote.innerText=e}},{key:"_attributeScorestate",value:function(e){this.dom.scoreIconCritic.state=e}},{key:"_attributeIstopcritic",value:function(){"true"===this.istopcritic?this.dom.topCritic.removeAttribute("hidden"):this.dom.topCritic.setAttribute("hidden",!0)}}],[{key:"observedAttributes",get:function(){return["createdate","criticimageurl","hidden","istopcritic","originalscore","reviewquote","scorestate"]}}]),n}();window.customElements.get("review-speech-balloon")||window.customElements.define("review-speech-balloon",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var a=window.Component,r=document.createElement("template");r.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n\n      --tabs-container-height: auto;\n    }\n    \n    :host([hidden]), .hide { display: none; }\n\n    #panels-container {\n      display: flex;\n      flex-direction: column;\n      transition: height 0.2s ease-in-out;\n      height: var(--tabs-container-height);\n      position: relative;\n    }\n\n    #tabs-container {\n      display: flex;\n    }\n  ",'</style>\n    <article>\n      <slot name="tabBar"></slot>\n      <div id="panels-container">\n        <slot name="tabPanel"></slot>\n      </div>\n    </article>\n  ');var e=function(){_inherits(o,a);var t,n,e,i=_createSuper(o);function o(){var e;_classCallCheck(this,o),(e=i.call(this)).initBool(["hidden"]),e.initSlotted();var t=_assertThisInitialized(e);return e.dom={elTabBarSlot:e.select('slot[name="tabBar"]'),elTabPanelSlot:e.select('slot[name="tabPanel"]'),get wcsTabPanels(){var e;return Array.from((null===(e=t.select('slot[name="tabPanel"]'))||void 0===e?void 0:e.assignedNodes())||[])}},e.selected&&(e.prevTab=e.selected),e.attachEvents([{el:e.dom.elTabPanelSlot,eventType:"slotchange",fn:e._onSlottedTabChange.bind(_assertThisInitialized(e))},{el:e.dom.elTabBarSlot,eventType:"click",fn:e._onTabBarClick.bind(_assertThisInitialized(e))}]),e}return _createClass(o,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined("rt-tabs-panel");case 2:this._showSelectedTabOnly(),this.ready();case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return r}},{key:"_attributeSelected",value:(n=_asyncToGenerator(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._transitionInProgress)return e.next=3,this._transitionInProgress;e.next=4;break;case 3:this._transitionInProgress=void 0;case 4:this._setActiveTab(t),this._transitionInProgress=this._changeVisiblePanel(t);case 6:case"end":return e.stop()}},e,this)})),function(e){return n.apply(this,arguments)})},{key:"_changeVisiblePanel",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this._getTabPanel(this.prevTab),i=this._getTabPanel(t)){e.next=4;break}return e.abrupt("return");case 4:if(i.classList.add("tab-fade-in"),i.hidden=!1,n)return this.style.setProperty("--tabs-container-height",this._getTabPanelHeight(n)+"px"),this.style.setProperty("--tabs-container-height",this._getTabPanelHeight(i)+"px"),n.classList.add("tab-fade-out"),e.next=12,this._waitForTransitionEnd(n,300);e.next=14;break;case 12:n.hidden=!0,n.classList.remove("tab-fade-out");case 14:return i.classList.remove("tab-fade-in"),e.next=17,this._waitForTransitionEnd(i,300);case 17:this.style.setProperty("--tabs-container-height",null),this.prevTab=t;case 19:case"end":return e.stop()}},e,this)})),function(e){return t.apply(this,arguments)})},{key:"_getTabPanel",value:function(t){return this.dom.wcsTabPanels.find(function(e){return e.value===t})}},{key:"_getTabPanelHeight",value:function(e){var t=getComputedStyle(e);return e.clientHeight+2*parseInt(t.margin)}},{key:"_onSlottedTabChange",value:function(){this._showSelectedTabOnly()}},{key:"_onTabBarClick",value:function(e){this.selected=null===(e=e.target)||void 0===e?void 0:e.value}},{key:"_setActiveTab",value:function(t){function n(e){return e.tagName.includes("-")&&(null===(e=e.constructor.observedAttributes)||void 0===e?void 0:e.includes("value"))}var e=null===(e=this.slotted.tabBar)||void 0===e?void 0:e[0];if(e)return n(e)?e.value=t:void _toConsumableArray(e.children).forEach(function(e){if(e.value===t)return n(e)?e.active=!0:void e.classList.add("active")})}},{key:"_showSelectedTabOnly",value:function(){var e,t=this;this.selected||(e=this.dom.wcsTabPanels[0],this.selected=e&&e.value),this.dom.wcsTabPanels.forEach(function(e){return e.hidden=e.value!==t.selected})}},{key:"_waitForTransitionEnd",value:function(n,t){var e=new Promise(function(t){n.addEventListener("transitionend",function e(){n.removeEventListener("transitionend",e),t()})}),i=new Promise(function(e){return setTimeout(e,t)});return Promise.race([e,i])}}],[{key:"observedAttributes",get:function(){return["hidden","selected"]}}]),o}();window.customElements.get("rt-tabs")||window.customElements.define("rt-tabs",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n  :host {\n    display: block;\n    transition: opacity 0.2s ease-in-out;\n    opacity: 1;\n    box-sizing: border-box;\n  }\n\n  :host(.tab-fade-out) {\n    opacity: 0;\n  }\n\n  :host(.tab-fade-in) {\n    opacity: 0;\n    position: absolute;\n    right: 0;\n  }\n\n  :host([hidden]) { display: none; }\n  ","</style>\n    <slot></slot>\n  ");var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden","value"]}}]),t}();window.customElements.get("rt-tabs-panel")||window.customElements.define("rt-tabs-panel",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var i=window.Component,o=13,a=document.createElement("template");a.innerHTML="\n    <style>".concat("\n    :host {\n      --fontColor: var(--grayDark2, #2A2C32);\n      --backgroundColor: var(--grayLight1, #F3F3F3);\n      --backgroundImage: none;\n\n      display: block;\n      width: 100%;\n      height: 100%;\n      font-size: 16px;\n    }\n\n    :host([hidden]), .hide { display: none; }\n\n    .score-board-wrap {\n      display: flex; \n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      position: relative;\n      padding: 16px 0;\n      border-radius: 8px;\n      background-color: var(--backgroundColor);\n      background-image: var(--backgroundImage);\n      background-size: cover;\n      font-family: 'Franklin Gothic';\n    }\n\n    .scores-container {\n      display: flex;\n      width: 100%;\n      justify-content: center;\n    }\n\n    .scores-container > * {\n      flex: 1;\n    }\n\n    .info-container {\n      margin: 4px 0 13px 0;\n      font-weight: normal;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.29;\n      font-size: 0.875em;\n      letter-spacing: normal;\n      color: var(--fontColor);\n    }\n\n    #rating {\n      border-radius: 3px;\n      border: solid 1px #CCCFD1;\n      padding: 0px 3px;\n    }\n\n    .score-type {\n      margin-top: 9px;\n      display: block;\n      text-transform: uppercase;\n      font-size: 0.875em;\n      font-weight: 500;\n      font-stretch: normal;\n      font-style: normal;\n      line-height: 1.29;\n      letter-spacing: normal;\n      color: var(--fontColor);\n    }\n\n    .tomatometer-container, .audience-container {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .tomatometer-container {\n      margin-right: 50px;\n      text-align: right;\n    }\n\n    .audience-container {\n      text-align: left;\n    }\n\n    score-icon-critic, score-icon-audience {\n      cursor: pointer;\n      font-size: 15px;\n      font-weight: 600;\n      outline: none;\n    }\n\n    score-icon-critic:hover, score-icon-audience:hover {\n      color: var(--blueHover, #2A62C0);\n    }\n\n    @media (min-width: 768px) {\n      .score-board-wrap {\n        height: 100%;\n        padding: 30px 0;\n      }\n\n      .info-container {\n        margin: 7px 0 23px 0;\n      }\n\n      score-icon-critic, score-icon-audience {\n        font-weight: 600;\n        font-size: 12px;\n      }\n    }\n  ",'</style>\n    <div class="score-board-wrap">\n      <slot name="title"></slot>\n      <div class="info-container">\n        <span id="rating" hidden>PG-13</span>\n        <slot name="info"></slot>\n      </div>\n      <div class="scores-container">\n        <div class="tomatometer-container" data-qa="tomatometer-container">\n          <div tabindex="0" @keydown="_onScoreKeydown">\n            <score-icon-critic\n              alignment="right"\n              size="medium"\n              @click="_onScoreClick"\n              skeleton="chip"\n              data-qa="score-icon-critic"\n            ></score-icon-critic>\n          </div>\n          <span class="score-type">Tomatometer</span>\n          <slot name="critics-count"></slot>\n        </div>\n        <div class="audience-container" data-qa="audience-score-container">\n          <div tabindex="0" @keydown="_onScoreKeydown">\n            <score-icon-audience\n              alignment="left"\n              size="medium"\n              skeleton="chip"\n              @click="_onScoreClick"\n              data-qa="score-icon-audience"\n            ></score-icon-audience>\n          </div>\n          <span class="score-type">Audience Score</span>\n          <slot name="audience-count"></slot>\n        </div>\n      </div>\n      <slot name="sponsorship"></div>\n    </div>\n  ');var r=window.matchMedia("(min-width: 768px)"),e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elRating:e.select("#rating"),wcScoreIconAudience:e.select("score-icon-audience"),wcScoreIconCritic:e.select("score-icon-critic")},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined();case 2:this.initBool(["hidden"]),this.initSlotted(),this._adjustScoreIcons(768<window.innerWidth),this.attachEvents([{el:r,eventType:"change",fn:this._onMediaMatch}]),this.hidden=!1,this.ready();case 8:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return a}},{key:"_adjustScoreIcons",value:function(e){e=e?"big":"medium";this.dom.wcScoreIconAudience.size=e,this.dom.wcScoreIconCritic.size=e}},{key:"_attributeRating",value:function(e){e&&(this.dom.elRating.hidden=!1,this.dom.elRating.innerText=e)}},{key:"_attributeTomatometerstate",value:function(e){this.dom.wcScoreIconCritic.state=e}},{key:"_attributeTomatometerscore",value:function(e){this.dom.wcScoreIconCritic.percentage=e}},{key:"_attributeAudiencestate",value:function(e){this.dom.wcScoreIconAudience.state=e}},{key:"_attributeAudiencescore",value:function(e){this.dom.wcScoreIconAudience.percentage=e}},{key:"_attributeContentfontcolor",value:function(e){this.dom.wcScoreIconAudience.style.setProperty("--fontColor",e),this.dom.wcScoreIconCritic.style.setProperty("--fontColor",e)}},{key:"_onMediaMatch",value:function(e){this._adjustScoreIcons(e.matches)}},{key:"_onScoreClick",value:function(e){e=e.target.nodeName.split("-")[2],e=new CustomEvent("score-click",{detail:{scoreType:e}});this.dispatchEvent(e)}},{key:"_onScoreKeydown",value:function(e){e.keyCode!==o||(e=e.target.firstElementChild)&&e.click()}}],[{key:"observedAttributes",get:function(){return["hidden","rating","tomatometerstate","tomatometerscore","audiencestate","audiencescore","contentfontcolor"]}}]),n}();window.customElements.get("score-board")||window.customElements.define("score-board",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      z-index: 200;\n      background-color: var(--white, #FFFFFF);\n      font-family: "Franklin Gothic",-apple-system,BlinkMacSystemFont,"PT Sans",Arial,Sans-Serif;\n      font-size: 14px;\n    }\n    :host([hidden]) { display: none; }\n\n    .score-details { display: block; padding: 20px; }\n    .header-wrap { display: flex; justify-content: flex-end; }\n    .content-wrap { display: flex; flex-direction: column; padding: 10px; }\n\n    .divider { width: 100%; margin-bottom: 20px; }\n    .divider::after {\n      content: "";\n      border-top: 1px solid var(--grayLight2, #E9E9EA);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n\n    @media (min-width: 768px) {\n      :host { position: static; border-radius: 4px; }\n      .score-details { width: 745px; }\n      .content-wrap { flex-direction: row; }\n\n      .divider {\n        width: 0;\n        height: 235px;\n        margin: 0 10px 0 0;\n        padding: 0 20px 0 0;\n        border-top: 0;\n      }\n      .divider::after {\n        height: inherit;\n        border-left: 1px solid var(--grayLight2, #E9E9EA);\n      }\n    }\n  ','</style>\n\n    <div class="score-details">\n      <div class="header-wrap">\n        <slot name="btn-close"></slot>\n      </div>\n      <div class="content-wrap">\n        <slot name="critics"></slot>\n        <div class="divider"></div>\n        <slot name="audience"></slot>\n      </div>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.initSlotted(),e}return _createClass(n,[{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),n}();window.customElements.get("score-details")||window.customElements.define("score-details",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-family: "Franklin Gothic",-apple-system,BlinkMacSystemFont,"PT Sans",Arial,Sans-Serif;\n      font-size: 14px;\n    }\n    :host([hidden]) { display: none; }\n\n    .wrap { margin-bottom: 20px; }\n    .wrap p { margin: 0; color: var(--grayDark1, #505257); }\n\n    .title-wrap { display: flex; align-items: center; }\n    .title {\n      margin: 0 5px 0 0;\n      text-transform: uppercase;\n      font-size: 20px;\n    }\n\n    ::slotted(filter-chip:first-child) { margin-right: 10px; }\n\n    score-icon-audience { margin-bottom: 5px; }\n\n    @media (min-width: 768px) {\n      .wrap:last-child { margin-bottom: 0; }\n\n      .score-details-audience { width: 350px; }\n    }\n  ','</style>\n\n    <div class="score-details-audience">\n  \n      <div class="wrap title-wrap">\n        <h3 class="title" data-qa="score-details-audience-score-title">Audience</h3>\n        <slot name="tooltip"></slot>\n      </div>\n\n      <div class="empty" hidden>\n        <p>There is no Audience Score because there are not enough ratings yet.</p>\n      </div>\n\n      <div class="info">\n        <div class="wrap button-wrap">\n          <slot name="btn-verified-audience"></slot>\n          <slot name="btn-all-audience"></slot>\n        </div>\n\n        <div class="wrap score-wrap">\n          <score-icon-audience\n            state=""\n            percentage=""\n            size="medium"\n            alignment="left"\n            data-qa="audience-score-container"\n          ></score-icon-audience>\n          <p class="rating-count" data-qa="rating-count">No Verified Ratings</p>\n        </div>\n\n        <div class="wrap stars-wrap" data-qa="score-detail-breakdown">\n          <star-rating averagestars="0" data-qa="avg-rating-stars"></star-rating>\n        </div>\n      </div>\n    \n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked","isempty"]),e.dom={elAverageRating:e.select(".average-rating"),elEmpty:e.select(".empty"),elInfo:e.select(".info"),elRatingCount:e.select(".rating-count"),elScoreIconAudience:e.select("score-icon-audience"),elStarRating:e.select("star-rating")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeAudienceclass",value:function(e){this.dom.elScoreIconAudience.setAttribute("state",e)}},{key:"_attributeAveragerating",value:function(e){this._setStarRating(e)}},{key:"_attributeBandedratingcount",value:function(e){this._renderBandedRatingCountText(e,this.scoretype)}},{key:"_attributeIsempty",value:function(e){e&&(this.dom.elInfo.setAttribute("hidden","true"),this.dom.elEmpty.removeAttribute("hidden"))}},{key:"_attributeScore",value:function(e){this.dom.elScoreIconAudience.setAttribute("percentage",e)}},{key:"_attributeScoretype",value:function(e){this._renderBandedRatingCountText(this.bandedratingcount,e)}},{key:"_renderBandedRatingCountText",value:function(e,t){return e&&t?"verified"===t.toLowerCase()?this.dom.elRatingCount.innerHTML="".concat(e," Verified Ratings"):this.dom.elRatingCount.innerHTML="".concat(e," Ratings"):this.dom.elRatingCount.innerHTML="N/A"}},{key:"_setStarRating",value:function(e){isNaN(e)||this.dom.elStarRating.setAttribute("averagestars",e)}}],[{key:"observedAttributes",get:function(){return["audienceclass","averagerating","hidden","isempty","bandedratingcount","score","scoretype"]}}]),n}();window.customElements.get("score-details-audience")||window.customElements.define("score-details-audience",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-family: "Franklin Gothic",-apple-system,BlinkMacSystemFont,"PT Sans",Arial,Sans-Serif;\n      font-size: 14px;\n    }\n    :host([hidden]) { display: none; }\n\n    .wrap { margin-bottom: 20px; }\n    .wrap p { margin: 0; color: var(--grayDark1, #505257); }\n\n    .title-wrap { display: flex; align-items: center; }\n    .title {\n      margin: 0 5px 0 0;\n      text-transform: uppercase;\n      font-size: 20px;\n    }\n\n    ::slotted(filter-chip:first-child) { margin-right: 10px; }\n\n    score-icon-critic { margin-bottom: 5px; }\n\n    .chart-wrap > p,\n    .chart-wrap > bar-chart { margin-bottom: 5px; }\n    .average-rating { font-size: 16px; }\n\n    @media (min-width: 768px) {\n      .wrap:last-child { margin-bottom: 0; }\n\n      .score-details-critics { width: 350px; }\n    }\n  ','</style>\n\n    <div class="score-details-critics">\n      <div class="wrap title-wrap">\n        <h3 class="title" data-qa="score-details-tomatometer-title">Tomatometer</h3>\n        <slot name="tooltip"></slot>\n      </div>\n      \n      <div class="empty" hidden>\n        <p>Tomatometer not yet available.</p>\n      </div>\n\n      <div class="info">\n        <div class="wrap button-wrap">\n          <slot name="btn-all-critics"></slot>\n          <slot name="btn-top-critics"></slot>\n        </div>\n\n        <div class="wrap score-wrap">\n          <score-icon-critic\n            state=""\n            percentage=""\n            size="medium"\n            alignment="left"\n            data-qa="critic-score-container"\n          ></score-icon-critic>\n          <p class="rating-count" data-qa="rating-count">No Rating Count</p>\n        </div>\n\n        <div class="wrap chart-wrap" data-qa="score-detail-breakdown">\n          <p data-qa="avg-rating-txt"><strong class="average-rating" data-qa="avg-rating-score">N/A</strong> average rating</p>\n          <bar-chart class="liked" label="Fresh" data-qa="bar-chart-fresh"></bar-chart>\n          <bar-chart class="not-liked" label="Rotten" data-qa="bar-chart-rotten"></bar-chart>\n        </div>\n      \n      </div>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked","isempty"]),e.dom={elAverageRating:e.select(".average-rating"),elEmpty:e.select(".empty"),elInfo:e.select(".info"),elNotLikedBarChart:e.select(".not-liked"),elRatingCount:e.select(".rating-count"),elScoreWrap:e.select(".score-wrap"),elScoreIconCritic:e.select("score-icon-critic"),elLikedBarChart:e.select(".liked")},e}return _createClass(n,[{key:"connectedCallback",value:function(){this.initSlotted()}},{key:"template",value:function(){return i}},{key:"_attributeAveragerating",value:function(e){return this.dom.elAverageRating.innerHTML=e?"".concat(e," out of 10"):"N/A"}},{key:"_attributeIsempty",value:function(e){e&&(this.dom.elInfo.setAttribute("hidden","true"),this.dom.elEmpty.removeAttribute("hidden"))}},{key:"_attributeLikedcount",value:function(e){var t=this.getAttribute("ratingcount");(e||t)&&this._setLikedChartData(e,t)}},{key:"_attributeNotlikedcount",value:function(e){var t=this.getAttribute("ratingcount");(e||t)&&this._setNotLikedChartData(e,t)}},{key:"_attributeRatingcount",value:function(e){var t=this.getAttribute("likedcount"),n=this.getAttribute("notlikedcount"),i=this.getAttribute("ratingcount"),o=this.getAttribute("scoretype");t&&e&&this._setLikedChartData(t,e),t&&e&&this._setNotLikedChartData(n,e),this._renderRatingCount(i,o)}},{key:"_attributeScore",value:function(e){this.dom.elScoreIconCritic.setAttribute("percentage",e)}},{key:"_attributeTomatometerstate",value:function(e){this.dom.elScoreIconCritic.setAttribute("state",e)}},{key:"_renderRatingCount",value:function(e,t){var n=parseInt(e);if(!e||!n)return this.dom.elRatingCount.innerHTML="N/A";e=1<n,e="topcritics"===t.toLowerCase()?e?"Top Critic Reviews":"Top Critic Review":e?"Reviews":"Review";return this.dom.elRatingCount.innerHTML="".concat(n," ").concat(e)}},{key:"_setLikedChartData",value:function(e,t){this.dom.elLikedBarChart.setAttribute("totalcount",t),this.dom.elLikedBarChart.setAttribute("count",e)}},{key:"_setNotLikedChartData",value:function(e,t){this.dom.elNotLikedBarChart.setAttribute("totalcount",t),this.dom.elNotLikedBarChart.setAttribute("count",e)}}],[{key:"observedAttributes",get:function(){return["averagerating","hidden","isempty","likedcount","notlikedcount","ratingcount","score","scoretype","tomatometerstate"]}}]),n}();window.customElements.get("score-details-critics")||window.customElements.define("score-details-critics",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Manager,e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).traceName="ScoreDetailsManager",e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([window.customElements.whenDefined("filter-chip"),window.customElements.whenDefined("bar-chart"),window.customElements.whenDefined("star-rating"),window.customElements.whenDefined("score-details"),window.customElements.whenDefined("score-details-critics"),window.customElements.whenDefined("score-details-audience")]);case 2:this.dom={wcFilterChipAllCritics:document.querySelector('score-details filter-chip[label="ALL CRITICS"]'),wcFilterChipTopCritics:document.querySelector('score-details filter-chip[label="TOP CRITICS"]'),wcFilterChipVerifiedAudience:document.querySelector('score-details filter-chip[label="VERIFIED AUDIENCE"]'),wcFilterChipAllAudience:document.querySelector('score-details filter-chip[label="ALL AUDIENCE"]'),wcScoreBoard:document.querySelector("score-board"),wcScoreDetailsCloseBtn:document.querySelector("score-details .overlay-base-btn"),wcScoreDetailsAudience:document.querySelector("score-details-audience"),wcScoreDetailsCritics:document.querySelector("score-details-critics"),wcScoreDetailsModal:document.querySelector("overlay-base[score-details]")},this.attachEvents([{el:document.querySelectorAll("score-details filter-chip"),eventType:"clicked",fn:this._onChipClicked},{el:this.dom.wcScoreDetailsCloseBtn,eventType:"click",fn:this._onCloseClicked},{el:this.dom.wcScoreBoard,eventType:"score-click",fn:this._onScoreClicked}]),this.modalData=JSON.parse(document.getElementById("score-details-json").innerText).modal,this.state={whichAudienceFilterActive:(this.modalData.hasAudienceScoreVerified?"VERIFIED AUDIENCE":this.modalData.hasAudienceScoreAll&&"ALL AUDIENCE")||"",whichCriticsFilterActive:this.modalData.hasTomatometerScoreAll?"ALL CRITICS":""},this._renderScoreDetails(this.modalData);case 7:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"stateUpdated",value:function(){this.didStateChange("whichAudienceFilterActive")&&this._updateAudienceFilterChip(),this.didStateChange("whichCriticsFilterActive")&&this._updateCriticsFilterChip(),window.dataLayer.push(this._getScoreLoadDataEvent())}},{key:"_getModalOpenDataEvent",value:function(e){return{event:"generic click",genericClickDetails:"".concat(e.toLowerCase()," scorecard click")}}},{key:"_getScoreLoadDataEvent",value:function(){var e={"VERIFIED AUDIENCE":"Verified","ALL AUDIENCE":"All"}[this.state.whichAudienceFilterActive],t={"ALL CRITICS":"All","TOP CRITICS":"Top"}[this.state.whichCriticsFilterActive];return{event:"scorecard modal load",modalDetails:"rt | scorecard modal | TM: ".concat(t," | Audience: ").concat(e)}}},{key:"_hideFilterChips",value:function(){return[this.dom.wcFilterChipAllCritics,this.dom.wcFilterChipTopCritics,this.dom.wcFilterChipVerifiedAudience,this.dom.wcFilterChipAllAudience].forEach(function(e){return e.hidden=!0})}},{key:"_onChipClicked",value:function(e){e=e.detail.label;this.setState({whichAudienceFilterActive:"VERIFIED AUDIENCE"===e||"ALL AUDIENCE"===e?e:this.state.whichAudienceFilterActive,whichCriticsFilterActive:"ALL CRITICS"===e||"TOP CRITICS"===e?e:this.state.whichCriticsFilterActive})}},{key:"_onCloseClicked",value:function(e){this.dom.wcScoreDetailsModal.close()}},{key:"_onScoreClicked",value:function(e){e=e.detail.scoreType;window.dataLayer.push(this._getModalOpenDataEvent(e),this._getScoreLoadDataEvent()),this.dom.wcScoreDetailsModal.open()}},{key:"_renderAudienceData",value:function(e){var t=e.audienceScoreAll,n=e.audienceScoreVerified,i=e.hasAudienceScoreVerified,e=e.hasAudienceScoreAll;i?this._setScoreDetailsAudienceAttributes(n):e?this._setScoreDetailsAudienceAttributes(t):this._setScoreDetailsAudienceAttributes(null)}},{key:"_renderCriticsData",value:function(e){var t=e.hasTomatometerScoreTop,n=e.hasTomatometerScoreAll,i=e.tomatometerScoreAll,e=e.tomatometerScoreTop;n?this._setScoreDetailsCriticsAttributes(i):t?this._setScoreDetailsCriticsAttributes(e):this._setScoreDetailsCriticsAttributes(null)}},{key:"_renderFilterChips",value:function(e){var t=e.hasTomatometerScoreAll,n=e.hasTomatometerScoreTop,i=e.hasAudienceScoreVerified,e=e.hasAudienceScoreAll;t&&(this._setCriticsFilterChipActive("all"),n?(this.dom.wcFilterChipTopCritics.hidden=!1,this.dom.wcFilterChipAllCritics.hidden=!1):(this.dom.wcFilterChipTopCritics.hidden=!0,this.dom.wcFilterChipAllCritics.hidden=!0)),e&&(this._setAudienceFilterChipActive("all"),i?(this._setAudienceFilterChipActive("verified"),this.dom.wcFilterChipVerifiedAudience.hidden=!1,this.dom.wcFilterChipAllAudience.hidden=!1):(this.dom.wcFilterChipVerifiedAudience.hidden=!0,this.dom.wcFilterChipAllAudience.hidden=!0))}},{key:"_renderScoreDetails",value:function(e){this._hideFilterChips(),this._renderFilterChips(e),this._renderCriticsData(e),this._renderAudienceData(e),this._renderTooltips(e)}},{key:"_renderTooltips",value:function(e){var t=e.hasAudienceScoreVerified,e=e.scoreDetailDescription;t&&(document.querySelector("tool-tip[audience]").description=encodeURIComponent('\n          <p class="title" data-qa="tool-tip-title">Verified Audience Score</p>\n          <p class="description" data-qa="tool-tip-text">'.concat(e.verifiedAudienceScoreMsg,'</p>\n          <p class="title" data-qa="tool-tip-title">All Audience Score</p>\n          <p class="description" data-qa="tool-tip-text">').concat(e.allAudienceScoreMsg,"</p>\n        ")))}},{key:"_setAudienceFilterChipActive",value:function(e){if(this.dom.wcScoreDetailsAudience.setAttribute("scoretype",e),"verified"===e)return this.dom.wcFilterChipVerifiedAudience.active=!0,void(this.dom.wcFilterChipAllAudience.active=!1);this.dom.wcFilterChipAllAudience.active=!0,this.dom.wcFilterChipVerifiedAudience.active=!1}},{key:"_setCriticsFilterChipActive",value:function(e){if(this.dom.wcScoreDetailsCritics.setAttribute("scoretype",e),"topcritics"===e)return this.dom.wcFilterChipTopCritics.active=!0,void(this.dom.wcFilterChipAllCritics.active=!1);this.dom.wcFilterChipAllCritics.active=!0,this.dom.wcFilterChipTopCritics.active=!1}},{key:"_setScoreDetailsAudienceAttributes",value:function(e){if(!e||Object.keys(e).length<1)return this.dom.wcScoreDetailsAudience.setAttribute("isempty","true");for(var t in e)this.dom.wcScoreDetailsAudience.setAttribute("".concat(t.toLowerCase()),e[t])}},{key:"_setScoreDetailsCriticsAttributes",value:function(e){if(!e||Object.keys(e).length<1)return this.dom.wcScoreDetailsCritics.setAttribute("isempty","true");for(var t in e)this.dom.wcScoreDetailsCritics.setAttribute("".concat(t.toLowerCase()),e[t])}},{key:"_updateAudienceFilterChip",value:function(){var e=this.state.whichAudienceFilterActive,t=this.modalData,n=t.audienceScoreVerified,i=t.audienceScoreAll;switch(e){case"VERIFIED AUDIENCE":this._setAudienceFilterChipActive("verified"),this._setScoreDetailsAudienceAttributes(n);break;case"ALL AUDIENCE":this._setAudienceFilterChipActive("all"),this._setScoreDetailsAudienceAttributes(i)}}},{key:"_updateCriticsFilterChip",value:function(){var e=this.state.whichCriticsFilterActive,t=this.modalData,n=t.tomatometerScoreAll,i=t.tomatometerScoreTop;switch(e){case"ALL CRITICS":this._setCriticsFilterChipActive("all"),this._setScoreDetailsCriticsAttributes(n);break;case"TOP CRITICS":this._setCriticsFilterChipActive("topcritics"),this._setScoreDetailsCriticsAttributes(i)}}}]),n}();window.customElements.get("score-details-manager")||window.customElements.define("score-details-manager",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host { display: inline-block; }\n    :host([hidden]), .hide { display: none; }\n\n    .wrap { display: flex; }\n\n    score-icon-critic,\n    score-icon-audience {\n      color: inherit;\n    }\n\n    score-icon-critic { margin-right: 0.875em; }\n  ",'</style>\n    <div class="wrap">\n      <score-icon-critic></score-icon-critic>\n      <score-icon-audience></score-icon-audience>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","criticscertified"]),e.dom={elAudience:e.select("score-icon-audience"),elCritic:e.select("score-icon-critic")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeAudiencescore",value:function(){var e=this.dom.elAudience;e&&(e.percentage=this.audiencescore)}},{key:"_attributeAudiencesentiment",value:function(){var e=this.dom.elAudience;e&&(this._detectHide(e,"audiencesentiment")||(e.state={positive:"upright",negative:"spilled"}[this.audiencesentiment]))}},{key:"_attributeCriticscertified",value:function(){this._updateCriticsState()}},{key:"_attributeCriticsscore",value:function(){var e=this.dom.elCritic;e&&(e.percentage=this.criticsscore)}},{key:"_attributeCriticssentiment",value:function(){this._updateCriticsState()}},{key:"_detectHide",value:function(e,t){if(e.classList.remove("hide"),"hide"===this[t])return e.classList.add("hide"),!0}},{key:"_updateCriticsState",value:function(){var e=this.dom.elCritic;if(e&&!this._detectHide(e,"criticssentiment"))return"criticscertified"===this.criticscertified?e.state="certified_fresh":void(e.state={positive:"fresh",negative:"rotten"}[this.criticssentiment])}}],[{key:"observedAttributes",get:function(){return["audiencesentiment","audiencescore","criticssentiment","criticscertified","criticsscore","hidden"]}}]),n}();window.customElements.get("score-pairs")||window.customElements.define("score-pairs",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Component,o=document.createElement("template");o.innerHTML="<slot></slot>";var e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initBool(["disable"]),e.next=3,this.elementsDefined("tiles-carousel-responsive");case 3:this.attachEvent(this,"click",this._onCarouselClick.bind(this));case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeDisable",value:function(){this.detachAllEvents(),this.disable||this.attachEvent(this,"click",this._onCarouselClick.bind(this))}},{key:"_getClickDetails",value:function(e){var t=e.dataset.track,t={poster:this._getPosterClickDetails,scores:this._getScoresClickDetails,showmore:function(e){return"cta click | ".concat(e.innerText)},sponsor:function(e){return"sponsor logo | ".concat(e.dataset.title)}}[t];return t?t(e):""}},{key:"_getPosterClickDetails",value:function(e){var t=e.dataset,n=t.videoId,i=t.position,o=t.mediaId,e=t.title,t=t.contentType,t=n?"poster video start":"".concat(t," poster");return"".concat(t," | ").concat(i," | ").concat(o," | ").concat(e)}},{key:"_getScoresClickDetails",value:function(e){var t=e.parentElement.querySelector('[data-track="poster"]').dataset,n=t.position,i=t.mediaId,e=t.title,t=t.contentType;return"".concat(t," title | ").concat(n," | ").concat(i," | ").concat(e)}},{key:"_onCarouselClick",value:function(e){!window.dataLayer||(e=e.path.find(function(e){return null===(e=e.dataset)||void 0===e?void 0:e.track}))&&window.dataLayer.push({event:"sponsored hero click",clickDetails:"sponsored hero | ".concat(this._getClickDetails(e))})}}],[{key:"observedAttributes",get:function(){return["disable"]}}]),n}();window.customElements.get("sponsored-carousel-tracker")||window.customElements.define("sponsored-carousel-tracker",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      font-size: 14px;\n    }\n    :host([hidden]) { display: none; }\n    :host([averagestars="0"]) rt-icon { fill: var(--grayLight2, #E9E9EA); }\n\n    .star-rating { display: flex; align-items: center; }\n    .stars{ height: 14px; margin-right: 10px; }\n    rt-icon { fill: var(--yellow, #FFB600); }\n    rt-icon.checked ~ * { fill: var(--grayLight2, #E9E9EA); }\n\n    p { margin: 0; color: var(--grayDark1, #505257); }\n    .average-stars { font-size: 16px; }\n  ','</style>\n\n    <div class="star-rating">\n      <div class="stars">\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n        <rt-icon icon="star" image></rt-icon>\n      </div>\n      <p data-qa="avg-rating-txt"><strong class="average-stars" data-qa="avg-rating-score">N/A</strong> average rating</p>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","checked"]),e.dom={elAverageStars:e.select(".average-stars"),elStars:e.selectAll("rt-icon")},e}return _createClass(n,[{key:"template",value:function(){return i}},{key:"_attributeAveragestars",value:function(e){if(isNaN(e)||5<e||e<0)return this.averagestars=0;var t=this._getRoundedStarValue(e);this._resetStars(),this._renderStars(t),this._renderLabel(e)}},{key:"_getRoundedStarValue",value:function(e){e=parseFloat(e);return e<=0?0:e<1?.5:Number.isInteger(e)?e:Math.floor(2*e)/2}},{key:"_renderLabel",value:function(e){return this.dom.elAverageStars.innerHTML=e?"".concat(e," out of 5"):"N/A"}},{key:"_renderStars",value:function(e){var t=void 0,t=0===e||.5===e||1===e?0:1.5===e||2===e?1:2.5===e||3===e?2:3.5===e||4===e?3:4;if(isNaN(t))return this._resetStars();t=this.dom.elStars[t];Number.isInteger(e)||t.setAttribute("icon","star-half"),t.classList.add("checked")}},{key:"_resetStars",value:function(){this.dom.elStars.forEach(function(e){e.setAttribute("icon","star"),e.classList.remove("checked")})}}],[{key:"observedAttributes",get:function(){return["hidden","averagestars"]}}]),n}();window.customElements.get("star-rating")||window.customElements.define("star-rating",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window,i=e.Component,o=(e.__RT__,{SPACE:32,ENTER:13}),a=document.createElement("template");a.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 100%;\n      height: 40px;\n      border-radius: 20px;\n      box-shadow: 0 2px 3px 0 rgba(42, 44, 50, 0.08), 0 -2px 3px 0 rgba(42, 44, 50, 0.06), 0 2px 10px 0 rgba(0, 0, 0, 0.26);\n      background-color: var(--white, #FFFFFF);\n      padding: 0 16px;\n    }\n\n    :host([hidden]) { display: none; }\n\n    .sticky-footer {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      flex-wrap: wrap;\n      width: 100%;\n      height: 100%;\n    }\n\n    .sticky-footer:focus { outline: none; }\n\n    .sticky-footer .watch-now-text {\n      margin-right: 7px;\n      font-family: "Franklin Gothic", "Impact", Helvetica Neue, Arial, Sans-Serif;\n      font-weight: 500;\n      font-size: 15px;\n      letter-spacing: 0;\n      line-height: 1.2;\n      color: var(--grayDark2, #2A2C32);\n    }\n\n    rt-icon {\n      fill: var(--grayDark2, #2A2C32);\n    }\n\n    affiliate-icon {\n      height: calc(100% - 5px);\n      width: auto;\n    }\n    affiliate-icon[name="amc-plus-us"] { height: calc(100% - 10px); }\n    affiliate-icon[name="amazon-prime-video-us-sidebyside"] { width: 58px; }\n    affiliate-icon[name="hulu"] { width: 50px; }\n\n    @media(min-width: 768px) {\n      :host { display: none; }\n    }\n  ','</style>\n    \n    <div class="sticky-footer">\n      <span class="watch-now-text">Watch Now on</span>\n      <affiliate-icon></affiliate-icon>\n      <rt-icon hidden image icon="options"></rt-icon>\n    </div>\n  ');e=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["hidden"]),e.dom={elFooterMobile:document.querySelector(".footer-mobile"),elLink:e.parentElement,elStickyFooter:e.select(".sticky-footer"),elWatchNowText:e.select(".watch-now-text"),wcAffiliateIcon:e.select("affiliate-icon"),wcRtIcon:e.select("rt-icon")},e.hasAttribute("tabindex")||e.setAttribute("tabindex",-1),e}return _createClass(n,[{key:"template",value:function(){return a}},{key:"connectedCallback",value:function(){this.attachEvents([{el:this.dom.elLink,eventType:"click",fn:this._onClick},{el:this.dom.elLink,eventType:"keydown",fn:this._onKeydown}]),this._createObserverForFooter(),this.ready(),this._analyticsEvent("load")}},{key:"_analyticsEvent",value:function(e){e&&this.dom.wcAffiliateIcon&&("load"===e&&window.dataLayer.push({event:"sticky footer impressions",whereToWatchDestination:"sticky-footer-".concat(this.track)}),"click"===e&&window.dataLayer.push({event:"where to watch clicks",whereToWatchDestination:"sticky-footer-".concat(this.track)}))}},{key:"_attributeBottom",value:function(){var e=this.bottom;e&&(this.dom.elLink.style.bottom=e,this.dom.elLink.style.WebkitTransition="all 0.15s ease-in-out",this.dom.elLink.style.MozTransition="all 0.15s ease-in-out")}},{key:"_attributeIcon",value:function(){var e=this.icon&&"none"!==this.icon;this.dom.wcAffiliateIcon.name=e?this.icon:"",this.dom.wcAffiliateIcon.hidden=!e,this.dom.wcRtIcon.hidden=e}},{key:"_attributeDescription",value:function(){this.dom.elWatchNowText.innerHTML=this.description||"Watch Now on"}},{key:"_handleDispatchEvent",value:function(){var e;this.dom.elLink&&(e=this.affiliate,this._analyticsEvent("click"),this.dispatchEvent(new CustomEvent("clicked",{detail:{affiliate:e}})))}},{key:"_createObserverForFooter",value:function(){var t=this;this._footerObserver=new IntersectionObserver(function(e){e=_slicedToArray(e,1)[0];t.bottom=e.isIntersecting?"".concat(t.dom.elFooterMobile.offsetHeight+30,"px"):"100px"},{threshold:.8}),this._footerObserver.observe(this.dom.elFooterMobile)}},{key:"_onClick",value:function(){this._handleDispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(o).includes(e.keyCode)&&this.dom.elLink&&this.dom.elLink.click()}}],[{key:"observedAttributes",get:function(){return["bottom","description","icon","hidden","track"]}}]),n}();window.customElements.get("sticky-footer")||window.customElements.define("sticky-footer",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat('\n    :host {\n      display: inline-block;\n      width: inherit;\n      height: inherit;\n    }\n    :host([hidden]), .hide { display: none; }\n\n    .image-orientation {\n      position: relative;\n      width: 100%;\n      padding-top: var(--tile-dynamic-portrait-ratio, 143.34%);\n      overflow: hidden;\n    }\n    :host([orientation="landscape"]) .image-orientation {\n      padding-top: var(--tile-dynamic-landscape-ratio, 56.3%);\n    }\n    :host([orientation="none"]) .image-orientation {\n      width: inherit;\n      height: inherit;\n      padding-top: unset;\n      overflow: unset;\n      position: unset;\n    }\n    :host([orientation="none"]) .image-wrap {\n      height: inherit; \n      position: unset;\n    }\n\n    .image-wrap {\n      position: absolute;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      overflow: inherit;\n      border-radius: 8px;\n    }\n    :host(:hover) .image-wrap {\n      filter: brightness(.75);\n    }\n    :host([isactive]) .image-wrap {\n      overflow: hidden;\n      border: 3px solid var(--grayLight4, #BCBDBE);\n      transition: border .5s ease-in-out;\n    }\n    slot[name="image"]::slotted(img) {\n      object-fit: cover;\n      width: 100%;\n      height: 100%;\n    }\n    :host([isactive]) slot[name="imageInsetLabel"]::slotted(*) {\n      background-color: var(--blue, #3976dc);\n    }\n    slot[name="imageInsetLabel"]::slotted(*) {\n      position: absolute;\n      right: .625rem;\n      bottom: 0;\n      border-radius: 4px;\n      background-color: var(--grayDark2, #2a2c32);\n      padding: 0 10px !important;\n    }\n\n    .action-wrap {\n      position: absolute;\n      top: 0;\n      width: 100%;\n      height: 100%;\n      z-index: 0;\n      cursor: pointer;\n    }\n    rt-icon-cta-video {\n      position: absolute;\n      top: calc(50% - 25px);\n      left: calc(50% - 25px);\n      z-index: -1;\n    }\n    slot[name="imageAction"] {\n      width: 100%;\n      height: 100%;\n    }\n\n    .caption-wrap {\n      color: var(--grayDark2, #2A2C32);\n      padding-top: calc(var(--tile-dynamic-portrait-ratio, 143.34%) * 0.02);\n    }\n    .caption-wrap:hover { color: var(--blue, #3976DC); }\n    :host([orientation="landscape"]) .caption-wrap { calc(var(--tile-dynamic-landscape-ratio, 56.3%) * 0.02)); }\n','</style>\n\n    <div class="image-orientation">\n      <div class="image-wrap">\n        <slot name="image"></slot>\n        <slot name="imageInsetLabel"></slot>\n      </div>\n      <div class="action-wrap hide">\n        <rt-icon-cta-video class="hide"></rt-icon-cta-video>\n        <slot name="imageAction"></slot>\n      </div>\n    </div>\n\n    <div class="caption-wrap hide">\n      <slot name="caption"></slot>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initBool(["hidden","isvideo"]),e.initSlotted(),e}return _createClass(n,[{key:"connectedCallback",value:function(){this._detectCaption(),this._detectImageAction(),this.ready()}},{key:"template",value:function(){return i}},{key:"_attributeIsvideo",value:function(){var e=this.isvideo?"remove":"add";this.select("rt-icon-cta-video").classList[e]("hide")}},{key:"_attributeSkeleton",value:function(e){if(e)return this.select(".caption-wrap").classList.add("hide");this._detectCaption()}},{key:"_detectCaption",value:function(){(this.slotted.caption||[])[0]&&this.select(".caption-wrap").classList.remove("hide")}},{key:"_detectImageAction",value:function(){(this.slotted.imageAction||[])[0]&&this.select(".action-wrap").classList.remove("hide")}}],[{key:"observedAttributes",get:function(){return["hidden","isvideo","orientation","skeleton"]}}]),n}();window.customElements.get("tile-dynamic")||window.customElements.define("tile-dynamic",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window.Component,i=document.createElement("template");i.innerHTML='\n    <style>\n      :host {\n        display: flex;\n        position: relative;\n        width: 100%;\n        --scroll-button-y: 110px;\n      }\n\n      :host([hiderightarrow]) button.scroll-right { display: none; }\n\n      ::slotted(.posters-container) {\n        display: flex;\n        overflow-x: scroll;\n        overflow-y: hidden;     \n      }\n\n      button {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 39px;\n        height: 39px;\n        border-radius: 50%;\n        border: none;\n        position: absolute;\n        box-shadow: 1px 4px 10px 0 rgba(42, 44, 50, 0.16);\n        background-color: #FFFFFF;\n        cursor: pointer;\n      }\n      button:hover g {\n        fill: #2A62C0;\n      }\n\n      button[disabled] g,\n      button[disabled]:hover g {\n        fill: #E3E3E6;\n      }\n\n      button {\n        display:none\n      }\n\n      button[hidden] {\n        display: none;\n      }\n      \n      button[disabled]:hover {\n        cursor:default;\n      }\n\n      .scroll-left {\n        transform: translate(-12px, var(--scroll-button-y, 110px)\n        );\n      }\n\n      .scroll-right {\n        right: 0;\n        transform: translate(12px, var(--scroll-button-y, 110px));\n      }\n\n      ::slotted(rt-icon) {\n        fill: #757A84;\n      }\n\n      ::slotted(rt-icon:hover) {\n        fill: #2A62C0;\n      }\n\n      ::slotted(rt-icon[icon="left-chevron"]) {\n        margin-right: 2px !important;\n      }\n\n      ::slotted(rt-icon[icon="right-chevron"]) {\n        margin-left: 2px !important;\n      }\n\n      @media(min-width: 768px) {\n        ::slotted(.posters-container) {\n          overflow: hidden;\n        }\n\n        button {\n          display: flex;\n          z-index: 1;\n        }\n      }\n\n    </style>\n\n    <button class="scroll-left" @click="onLeftClick" hidden>\n      <slot name="icon-arrow-left"></slot>\n    </button>\n    <slot name="posters-container"></slot>\n    <button class="scroll-right" @click="onRightClick">\n      <slot name="icon-arrow-right"></slot>\n    </button>\n  ';var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._animateOffset=e._animateOffset.bind(_assertThisInitialized(e)),e.animationDuration=500,e.elTileContainerBoundingRect=null,e}return _createClass(n,[{key:"hiderightarrow",get:function(){return this.getAttribute("hiderightarrow")},set:function(e){e?this.setAttribute("hiderightarrow",Boolean(e)):this.removeAttribute("hiderightarrow")}},{key:"template",value:function(){return i}},{key:"connectedCallback",value:function(){var e=this;Array.from(this.selectAll("slot")).forEach(function(e){return e.assignedNodes()[0].removeAttribute("hidden")}),this.elTileContainer=this.select("slot[name=posters-container]").assignedNodes()[0],this.elsTiles=this.elTileContainer.children,this.elTileContainer.addEventListener("scroll",function(){return e._detectScrollDist()},!1),this._adjustRightArrowVisibility(),this._detectScrollDist()}},{key:"_adjustRightArrowVisibility",value:function(){var t=this;if(!(document.body.clientWidth<=768)){var e=function(){var e=t.getBoundingClientRect().width,e=t.elTileContainer.scrollWidth<=e;e!==t.hiderightarrow&&(t.hiderightarrow=e)};if(this.hiderightarrow=!0,e(),"undefined"==typeof ResizeObserver)return setTimeout(e,500);new ResizeObserver(e).observe(this.elTileContainer)}}},{key:"onRightClick",value:function(){this.elTileContainerBoundingRect||(this.elTileContainerBoundingRect=this.elTileContainer.getBoundingClientRect());for(var e=0;e<this.elsTiles.length;e++)if(this.elsTiles[e].getBoundingClientRect().right>this.elTileContainerBoundingRect.right){this.select("button.scroll-left").removeAttribute("hidden");var t=this.elTileContainer.scrollLeft,n=this.elsTiles[e].offsetLeft;this._animateOffset(this.elTileContainer,t,n,this.animationDuration),this.elTileContainer.scrollWidth-this.elsTiles[e].offsetLeft<this.elTileContainer.clientWidth&&this.select("button.scroll-right").setAttribute("hidden","true");break}}},{key:"onLeftClick",value:function(){for(var e=this.elsTiles.length-1;0<=e;e--){var t=this.elsTiles[e].getBoundingClientRect();if(t.left<this.elTileContainerBoundingRect.left){this.select("button.scroll-right").removeAttribute("hidden");var n=this.elTileContainer.scrollLeft,t=t.width,t=this.elsTiles[e].offsetLeft+t-this.elTileContainerBoundingRect.width;t<=0&&this.select("button.scroll-left").setAttribute("hidden","true"),this._animateOffset(this.elTileContainer,n,t,this.animationDuration);break}}}},{key:"_animateOffset",value:function(n,i,o,a){var r=!1,s=null;requestAnimationFrame(function e(t){r||(a<=t-(s=null===s?t:s)&&(r=!0),t=i+(o-i)*(t=(t-s)/a,(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)),n.scrollLeft=t,requestAnimationFrame(e))})}},{key:"_detectScrollDist",value:function(){var e,t;document.body.clientWidth<=768&&(t=document.body.clientWidth,e=130*this.elsTiles.length+10*(this.elsTiles.length-1)-t,(t=this.elTileContainer.scrollLeft)<=0&&(this.elTileContainer.style.marginLeft="0px",this.elTileContainer.style.marginRight="-15px",this.elTileContainer.style.width="calc(100% + 15px)"),0<t&&t<e&&(this.elTileContainer.style.marginLeft="-15px",this.elTileContainer.style.marginRight="-15px",this.elTileContainer.style.width="calc(100% + 30px)"),0<t&&t===e&&(this.elTileContainer.style.marginLeft="-15px",this.elTileContainer.style.marginRight="0px",this.elTileContainer.style.width="calc(100% + 15px)"))}}]),n}();window.customElements.get("tiles-carousel")||window.customElements.define("tiles-carousel",t)}(),function(){var o=window.Component,a=document.createElement("template");a.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      position: relative;\n\n      --tile-distance-mobile: 10px;\n\n      --tile-margin: 0px;\n      --tile-width: auto;\n      --carousel-x: 0px;\n      --scroll-btn-width-desktop: 0px;\n    }\n\n    :host([hidden]),\n    #scroll-left[hidden],\n    #scroll-right[hidden] {\n      display: none;\n    }\n\n    .overflow-wrap {\n      overflow: hidden;\n    }\n\n    #tiles-container {\n      display: flex;\n      position: relative;\n      overflow-x: auto;\n      overflow-y: hidden;\n    }\n\n    #scroll-left,\n    #scroll-right {\n      z-index: 1;\n      width: 32px;\n      display: none;\n      align-items: center;\n      position: absolute;\n      top: 0;\n      height: 100%;\n      background: var(--scroll-btn-background);\n      transition: background 0.1s ease;\n    }\n\n    #scroll-right {\n      right: 0;\n      justify-content: flex-end;\n    }\n\n    @media (min-width: 768px) {\n      #tiles-container {\n        transition: transform 0.5s ease-in-out;\n        transform: translateX(var(--carousel-x));\n        overflow: visible;\n      }\n\n      #scroll-left,\n      #scroll-right {\n        display: flex;\n      }\n    }\n  ",'</style>\n    <div id="scroll-left">\n      <slot name="scroll-left"></slot>\n    </div>\n    <div class="overflow-wrap">\n      <div id="tiles-container">\n        <slot name="tile"></slot>\n      </div>\n    </div>\n    <div id="scroll-right">\n      <slot name="scroll-right"></slot>\n    </div>\n  ');var e=function(){_inherits(i,o);var e,t,n=_createSuper(i);function i(){var e;_classCallCheck(this,i),(e=n.call(this)).initBool(["hidden","fitcontent"]),e.initSlotted();var t=_assertThisInitialized(e);return e.dom={elScrollLeft:e.select("#scroll-left"),elScrollRight:e.select("#scroll-right"),elTilesContainer:e.select("#tiles-container"),get wcFirstShowing(){return t.slotted.tile.find(function(e){return e.classList.contains("first-showing")})},get wcLastShowing(){return t.slotted.tile.find(function(e){return e.classList.contains("last-showing")})}},e.SCROLL_BTN_WIDTH=32,e}return _createClass(i,[{key:"connectedCallback",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._waitChildrenCustomElementsDefined();case 2:if(this.slotted.tile[0].classList.add("tile-first"),this.slotted.tile[this.slotted.tile.length-1].classList.add("tile-last"),this.attachEvent(this,"click",this._onScrollClick.bind(this)),"undefined"==typeof ResizeObserver)return this.ready(),this._adjustCarousel(),e.abrupt("return");e.next=9;break;case 9:this.resizeObserver=new ResizeObserver(this._adjustCarousel.bind(this)),this.resizeObserver.observe(this),this.ready();case 12:case"end":return e.stop()}},e,this)})),function(){return t.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){_get(_getPrototypeOf(i.prototype),"disconnectedCallback",this).call(this),this.resizeObserver.unobserve(this)}},{key:"template",value:function(){return a}},{key:"_adjustCarousel",value:function(){if(this.isReady){if(this._reset(),this._isMobile)return this._adjustMobileCarousel();this._adjustDesktopCarousel()}}},{key:"_adjustDesktopCarousel",value:function(){if(this._updateArrowsVisibility(),!this.fitcontent)return this._toggleVisibleTiles();var e=this.slotted.tile.reduce(function(e,t){return Math.max(e,t.offsetWidth)},Number.MIN_SAFE_INTEGER),t=2*this.SCROLL_BTN_WIDTH;this.nTilesToDisplayDesktop=Math.floor((this.offsetWidth-t)/e),this.style.setProperty("--tile-width","calc(calc(100% - ".concat(t,"px) / ").concat(this.nTilesToDisplayDesktop,")")),this.style.setProperty("--scroll-btn-width-desktop","".concat(this.SCROLL_BTN_WIDTH,"px")),this._toggleVisibleTiles()}},{key:"_adjustMobileCarousel",value:function(){this.style.setProperty("--tile-margin","calc(var(--tile-distance-mobile) / 2)");var e=Number(this.lowerthreshold)||.25,t=Number(this.upperthreshold)||.75,n=this.dom.elTilesContainer.offsetWidth,i=this.slotted.tile.findIndex(function(e){return e.offsetLeft+e.offsetWidth>=n}),o=(n-this.slotted.tile[i].offsetLeft)/this.slotted.tile[i].offsetWidth;e<=o&&o<=t||(o<e&&i--,t=(e=this.slotted.tile[i]).offsetLeft+e.offsetWidth*t,this.style.setProperty("--tile-width","".concat(this.slotted.tile[0].offsetWidth+(n-t)/(i+1),"px")))}},{key:"_attributeFitcontent",value:function(){this._adjustCarousel()}},{key:"_attributeLowerthreshold",value:function(){this._adjustCarousel()}},{key:"_attributeUpperthreshold",value:function(){this._adjustCarousel()}},{key:"_getScrollDistanceDesktop",value:function(e){var t=this._scrollX,n=this.offsetWidth-2*this.SCROLL_BTN_WIDTH*Number(this.fitcontent);if("right"===e){var i=(this.slotted.tile.find(function(e){return e.offsetWidth+e.offsetLeft>t+n})||{}).offsetLeft-this.SCROLL_BTN_WIDTH*Number(this.fitcontent);return Math.min(this._maxScroll,i||t+n)}i=_toConsumableArray(this.slotted.tile).reverse().find(function(e){return e.offsetLeft<t})||{},i=t+n-(i.offsetLeft+i.offsetWidth)+this.SCROLL_BTN_WIDTH*Number(this.fitcontent);return Math.max(0,t-(i||n))}},{key:"_doTransition",value:function(e){this._toggleVisibleTiles(e),this.style.setProperty("--carousel-x","-".concat(e,"px")),this._updateArrowsVisibility()}},{key:"_isElementInViewport",value:function(e,t){return e.offsetLeft>t&&e.offsetLeft+e.offsetWidth<t+this.dom.elTilesContainer.offsetWidth}},{key:"_isElementVisible",value:function(e,t){return!this.fitcontent||this._isElementInViewport(e,t)}},{key:"_maxScroll",get:function(){return this.dom.elTilesContainer.scrollWidth-this.offsetWidth+this.SCROLL_BTN_WIDTH*Number(this.fitcontent)}},{key:"_onScrollClick",value:function(e){var t=this,e=e.composedPath().find(function(e){return[t.dom.elScrollLeft,t.dom.elScrollRight].includes(e)});e&&(e=e===this.dom.elScrollRight?"right":"left",this._doTransition(this._getScrollDistanceDesktop(e)))}},{key:"_reset",value:function(){this.style.setProperty("--scroll-btn-width-desktop","0px"),this.style.setProperty("--tile-width",null),this.style.setProperty("--tile-margin","0px")}},{key:"_scrollX",get:function(){return Math.abs(parseInt(getComputedStyle(this).getPropertyValue("--carousel-x")))}},{key:"_toggleVisibleTiles",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this._scrollX;this.slotted.tile.forEach(function(e){return e.classList[t._isElementVisible(e,n)?"add":"remove"]("visible")})}},{key:"_updateArrowsVisibility",value:function(){var e=this._scrollX;this.dom.elScrollLeft.hidden=0===e,this.dom.elScrollRight.hidden=this.dom.elTilesContainer.scrollWidth<=this.offsetWidth||e===this._maxScroll}},{key:"_waitChildrenCustomElementsDefined",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=_toConsumableArray(new Set(Array.from(this.querySelectorAll("*")).map(function(e){return e.localName}))),e.next=4,Promise.all(t.map(function(e){return customElements.get(e)?customElements.whenDefined(e):Promise.resolve()}));case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return");case 10:case"end":return e.stop()}},e,this,[[0,7]])})),function(){return e.apply(this,arguments)})}],[{key:"observedAttributes",get:function(){return["hidden","fitcontent","lowerthreshold","upperthreshold"]}}]),i}();window.customElements.get("tiles-carousel-responsive")||window.customElements.define("tiles-carousel-responsive",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var n=window.Component,i=document.createElement("template");i.innerHTML="\n    <style>".concat("\n    :host {\n      display: block;\n      flex-shrink: 0;\n      margin: 0 var(--tile-margin);\n      min-width: var(--tile-width);\n    }\n\n    :host(.tile-first) {\n      margin-left: 0;\n    }\n\n    :host(.tile-last) {\n      margin-right: 0;\n    }\n\n    :host([hidden]) { display: none; }\n\n    @media (min-width: 768px) {\n      :host {\n        display: flex;\n        justify-content: center;\n        margin: 0 0 0 var(--tile-margin);\n        flex-basis: var(--tile-width);\n        opacity: 0;\n        visibility: hidden;\n        transition: opacity 0.1s ease-in 0.4s, visibility 0s ease-in 0.5s;\n      }\n\n      :host(.visible) {\n        opacity: 1;\n        visibility: visible;\n        transition-delay: 0ms;\n        transition-duration: 0.1s;\n      }\n\n      :host(.tile-first) {\n        margin-left: var(--scroll-btn-width-desktop, 32px);\n      }\n  \n      :host(.tile-last) {\n        margin-right: var(--scroll-btn-width-desktop, 32px);\n      }\n    }\n  ","</style>\n    <slot></slot>\n  ");var e=function(){_inherits(t,n);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"connectedCallback",value:function(){this.initBool(["hidden"]),this.initSlotted(),this.ready()}},{key:"template",value:function(){return i}}],[{key:"observedAttributes",get:function(){return["hidden"]}}]),t}();window.customElements.get("tiles-carousel-responsive-item")||window.customElements.define("tiles-carousel-responsive-item",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,o=window.__RT__.cookie,c=window.matchMedia("(max-width: 767px)"),d={MOBILE:{CSID:"rotten_tomatoes_video_vod_mobile",SFID:"7003960"},DESKTOP:{CSID:"rotten_tomatoes_video_vod",SFID:"7006019"}},a=document.createElement("template");a.innerHTML="\n    <style>".concat("\n    :host { display: block; width: 100%; height: 100%; }\n    :host([hidden]) { display: none; }\n\n    .video-player-wrap,\n    iframe { width: 100%; height: 100%; }\n\n    iframe {\n      background-color: #000000;\n      opacity: .1;\n      transition: opacity .5s ease-in-out\n    }\n    iframe.isLoaded {\n      opacity: 1;\n    }\n  ",'</style>\n    <div class="video-player-wrap"></div>\n  ');var t=function(){_inherits(i,e);var t,n=_createSuper(i);function i(){var e;return _classCallCheck(this,i),(e=n.call(this)).initBool(["hidden","autoplay","noad"]),e.dom={elVideoPlayerWrap:e.select(".video-player-wrap")},e.RottenTomatoes="undefined"!=typeof RottenTomatoes?RottenTomatoes:window.parent.RottenTomatoes,e._appendPDKControllerScript(),e}return _createClass(i,[{key:"template",value:function(){return a}},{key:"_attributePlayerurl",value:function(e){this._renderIframe(e)}},{key:"_appendPDKControllerScript",value:function(){var e=document.getElementsByTagName("script");Array.from(e).find(function(e){return e.src.includes("/tpPdkController.js")})||((e=document.createElement("script")).src="//pdk.theplatform.com/current/pdk/tpPdkController.js",document.body.appendChild(e))}},{key:"_freewheelAddPixel",value:(t=_asyncToGenerator(regeneratorRuntime.mark(function e(t){var n,i,o,a,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=window.__RT__.fetcher,i="https://29773.v.fwmrm.net/ad/u",o=document.createElement("img"),r=window.location.hostname,a="https://".concat(r,"/").concat("/napi/tracking/freewheel/pixelsync","?vcid2=").concat(t),e.next=9,n.ready();case 9:return e.next=11,n.fetchJson(a);case 11:r=e.sent,o.id="fw_".concat(r.vcid2),o.src="".concat(i,"?mode=echo&cr=").concat(encodeURIComponent(a)),o.style.width="1px",o.style.height="1px",o.style.display="none",e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0);case 22:case"end":return e.stop()}},e,null,[[0,19]])})),function(e){return t.apply(this,arguments)})},{key:"_freewheelGetUuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}},{key:"_freewheelGetVcid2",value:function(e){if(e)return document.getElementById("fw_".concat(e))||this._freewheelAddPixel(e),e;e=this._freewheelGetUuidv4();return this._freewheelAddPixel(e),e}},{key:"_getFreewheelParams",value:function(e,t,n){if(!e)return"";try{var i=window.location,o=i.hostname,a=i.pathname,r="".concat(o,"/").concat(a),s=c.matches?d.MOBILE:d.DESKTOP,l={_fw_h_referer:r,_fw_vcid2:e,csid:s.CSID,sfid:s.SFID,_fw_gdpr:0,_fw_gdpr_consent:""};return t&&(l._fw_gdpr=1,l._fw_gdpr_consent=t),n&&(l._fw_us_privacy=n),encodeURIComponent(new URLSearchParams(l).toString())}catch(e){return""}}},{key:"_getPlayerUrlQueryParams",value:function(e){var t=this.autoplay,n=this.noad,i="";return e&&(i="&params=".concat(e)),"autoPlay=".concat(t,"&noAd=").concat(n).concat(i)}},{key:"_getIframeSrc",value:function(e){if(e){var t=this._freewheelGetVcid2(o.get("fw_vcid2")),n=o.get("eupubconsent-v2"),i=o.get("usprivacy"),i=this._getFreewheelParams(t,n,i),i=this._getPlayerUrlQueryParams(i);return"".concat(e,"?").concat(i)}}},{key:"_onDispatchPdkEvent",value:function(e){var t=e.data,e=e.type;this.dispatchEvent(new CustomEvent(e,{detail:t}))}},{key:"_onElIframeLoad",value:function(e){var t=window.$pdk.bind(e.target,!1);t.setIFrame(e.target,!0),this._registerPdkEventHandlers(t),e.target.classList.add("isLoaded")}},{key:"_registerPdkEventHandlers",value:function(t){var n=this;["OnAdBreakEnd","OnAdBreakStart","OnMediaComplete","OnMediaEnd","OnMediaError","OnMediaPause","OnMediaPlaying","OnMediaStart","OnMediaUnpause","OnPlayerReady"].forEach(function(e){t.addEventListener(e,function(e){return n._onDispatchPdkEvent(e)})})}},{key:"_renderIframe",value:function(e){var t=this._getIframeSrc(e);this.dom.elVideoPlayerWrap.innerHTML="";e=document.createElement("iframe");this.attachEvent(e,"load",this._onElIframeLoad),e.setAttribute("class","video-player"),e.setAttribute("src",t),e.setAttribute("allowfullscreen",""),e.setAttribute("webkitallowfullscreen",""),e.setAttribute("mozallowfullscreen",""),e.setAttribute("oallowfullscreen",""),e.setAttribute("msallowfullscreen",""),e.setAttribute("allow","autoplay"),e.setAttribute("frameborder","0"),e.setAttribute("data-qa","player"),this.dom.elVideoPlayerWrap.appendChild(e)}}],[{key:"observedAttributes",get:function(){return["autoplay","noad","playerurl"]}}]),i}();window.customElements.get("video-player")||window.customElements.define("video-player",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var i=window.Component,o=document.createElement("template");o.innerHTML="\n    <style>".concat("\n    :host {\n      background: var(--black, #000000);\n      height: 100%;\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n    }\n    .video-overlay-header {\n      display: flex;\n      justify-content: flex-start;\n      width: 100%;\n    }\n    .video-overlay-content {\n      width: 100%;\n      height: 56vw;\n    }\n    .video-overlay-footer {\n      display: flex;\n      width: 100%;\n      justify-content: center;\n      margin-bottom: 48px;\n    }\n\n    @media(min-width: 768px) {\n      :host { \n        width: 1000px;\n        height: 563px;\n      }\n      .video-overlay-header { \n        position: absolute;\n        justify-content: flex-end;\n      }\n      .video-overlay-content {\n        height: 100%;\n      }\n      .video-overlay-footer { \n        display: none;\n      }\n    }\n  ",'</style>\n    <div class="video-overlay-header">\n      <slot name="header"></slot>\n    </div>\n    <div class="video-overlay-content">\n      <slot name="content"></slot>\n    </div>\n    <div class="video-overlay-footer">\n      <slot name="footer"></slot>\n    </div>\n  ');var e=function(){_inherits(n,i);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.dom={elOverlayBase:e.parentElement,elVideoPlayer:e.querySelector("video-player"),elCTA:Array.from(e.querySelectorAll(".cta-btn")),elCloseBtn:e.querySelector(".close-btn")},e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementsDefined(["overlay-base","video-player"]);case 2:this.ready(),this.attachEvents([{el:document.querySelectorAll("[data-video-player-overlay-url]"),eventType:"click",fn:this._onVideoOverlayClick},{el:this.dom.elOverlayBase,eventType:"close",fn:this._onCloseEvent},{el:this.dom.elCloseBtn,eventType:"click",fn:this._onCloseClick}]);case 4:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"template",value:function(){return o}},{key:"_attributeBounding",value:function(e){this.attachEvent(document.querySelector(e),"click",this._onBoundingClick)}},{key:"_onBoundingClick",value:function(e){this._onVideoOverlayClick(e)}},{key:"_onCloseClick",value:function(e){this._onCloseEvent()}},{key:"_onCloseEvent",value:function(){var e;this.dom.elOverlayBase.hidden=!0,null!==(e=window.$pdk)&&void 0!==e&&e.controller.resetPlayer(),this.dom.elVideoPlayer.playerurl="",this.dom.elVideoPlayer.select(".video-player-wrap").innerHTML=""}},{key:"_onVideoOverlayClick",value:function(e){var t=e.currentTarget.dataset.videoPlayerOverlayUrl||e.target.dataset.videoPlayerOverlayUrl;null!=t&&t.length&&(e.preventDefault(),e.stopPropagation(),this._showCTA(e),this._setVideo(e),this._isMobile&&(this.dom.elCloseBtn.disabled=!1),this.dom.elOverlayBase.open())}},{key:"_setVideo",value:function(e){e=e.currentTarget.dataset.videoPlayerOverlayUrl||e.target.dataset.videoPlayerOverlayUrl;e&&(/(https)/g.test(e)?this.dom.elVideoPlayer.playerurl=e:(e=new URL(e),this.dom.elVideoPlayer.playerurl="https://".concat(e.hostname).concat(e.pathname)))}},{key:"_showCTA",value:function(e){var t,n=e.currentTarget.dataset.videoPlayerOverlayMediaUrl||e.target.dataset.videoPlayerOverlayMediaUrl,i=e.currentTarget.dataset.videoPlayerOverlayMediaText||e.target.dataset.videoPlayerOverlayMediaText;n&&(e=this._getCTAText(n,i),t=this._isMobile?"footer-cta":"header-cta",(i=this.dom.elCTA.filter(function(e){return e.classList.contains(t)})[0]).href=n,i.textContent=e,i.classList.remove("hide"))}},{key:"_getCTAText",value:function(e,t){return t||(/(\/tv\/)/.test(e)?"See Show Details":"See Movie Details")}}],[{key:"observedAttributes",get:function(){return["bounding"]}}]),n}();window.customElements.get("video-player-overlay")||window.customElements.define("video-player-overlay",e),"undefined"!=typeof module&&(module.exports=e)}(),function(){var e=window.Component,i={SPACE:32,ENTER:13},o=document.createElement("template");o.innerHTML="\n    <style>".concat('\n    :host {\n      display: block;\n      width: 70px;\n      height: 70px;\n\n      --bubbleActiveBackgroundColor: var(--grayLight2, #E9E9EA);\n      --bubbleActiveBorderColor: var(--blue, #005FCC);\n      --bubbleDefaultBackgroundColor: var(--white, #FFFFFF);\n      --bubbleDefaultBorderColor: var(--grayLight4, #BCBDBE);\n      --bubbleSelectedBorderColor: var(--grayDark2, #2A2C32);\n    }\n\n    :host([hidden]) { display: none; }\n\n    :host([imagewithtext]) img {\n      margin-bottom: 2px;\n    }\n\n    .bubble {\n      display: flex;\n      flex-direction: column;\n      border-radius: 50%;\n      border: solid 1px var(--bubbleDefaultBorderColor);\n      background-color: var(--bubbleDefaultBackgroundColor);\n      justify-content: center;\n      align-items: center;\n      cursor: pointer;\n      width: inherit;\n      height: inherit;\n      box-sizing: border-box;\n      padding: 16px;\n    }\n\n    :host([image="netflix"]) .bubble,\n    :host([image="disney-plus-us"]) .bubble { padding: 11px; }\n    :host([image="showtime"]) .bubble,\n    :host([image="peacock"]) .bubble,\n    :host([image="hbo-max"]) .bubble { padding: 9px; }\n    :host([image="paramount-plus-us"]) .bubble { padding: 7px; }\n    :host([image="intheaters"]) .bubble { padding: 20px; }\n    :host([image="amc-plus-us"]) .bubble { padding: 14px; }\n    :host(:not([image])) .bubble { padding: 0px; }\n\n    .bubble.active {\n      border: 1px solid var(--bubbleSelectedBorderColor);\n      background-color: var(--bubbleActiveBackgroundColor);\n    }\n\n    @media (hover: hover) and (pointer: fine) {\n      .bubble:hover,\n      .bubble:hover.active {\n        border: 1px solid var(--bubbleActiveBorderColor);\n        background-color: var(--bubbleActiveBackgroundColor);\n      }\n    }\n  ','</style>\n    <div class="bubble" tabindex="-1">\n      <affiliate-icon tabindex="-1" hidden></affiliate-icon>\n    </div>\n  ');var t=function(){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).initSlotted(),e.initBool(["hidden","active","imagewithtext"]),e.hasAttribute("tabindex")||e.setAttribute("tabindex",0),e.dom={elBubble:e.select(".bubble"),wcAffiliateIcon:e.select("affiliate-icon")},e}return _createClass(n,[{key:"template",value:function(){return o}},{key:"connectedCallback",value:function(){this.attachEvents([{el:this,eventType:"click",fn:this._onClick},{el:this,eventType:"keydown",fn:this._onKeydown}]),this._render(),this.ready()}},{key:"_attributeImage",value:function(){this._render()}},{key:"_attributeActive",value:function(){this.active?this.dom.elBubble.classList.add("active"):this.dom.elBubble.classList.remove("active")}},{key:"_dispatchEvent",value:function(){var e=this.value,t=this.active;e&&this.dispatchEvent(new CustomEvent("dtmRegister",{detail:{name:t?"unset":"set",value:e,eventOrigin:"button",filter:"affiliates"}})),this.dispatchEvent(new CustomEvent("clicked",{detail:{value:e}}))}},{key:"_getTextElement",value:function(){return document.createElement("slot")}},{key:"_onClick",value:function(e){this._dispatchEvent()}},{key:"_onKeydown",value:function(e){Object.values(i).includes(e.keyCode)&&this._dispatchEvent()}},{key:"_render",value:function(){if(this.dom.wcAffiliateIcon.hidden=!this.image,!this.image)return this.dom.elBubble.appendChild(this._getTextElement());this.dom.wcAffiliateIcon.name=this.image,this.imagewithtext&&this.dom.elBubble.appendChild(this._getTextElement())}}],[{key:"observedAttributes",get:function(){return["hidden","image","active","value","imagewithtext"]}}]),n}();window.customElements.get("where-to-watch-bubble")||window.customElements.define("where-to-watch-bubble",t),"undefined"!=typeof module&&(module.exports=t)}(),function(){var e=window,i=e.dataLayer,o=e.Component,a=e.Krux,r=document.createElement("template");r.innerHTML="\n    <style>".concat('\n    :host {\n      display: inline-block;\n      width: fit-content;\n      height: fit-content;\n      font-size: 16px;\n\n      --licenseColor: var(--blue, #3976DC);\n      --licenseHoverColor: var(--blueHover, #2A62C0);\n      --coverageColor: var(--grayDark1, #505257);\n    }\n    :host([hidden]), .hide { display: none; }\n\n    a {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      text-decoration: none;\n      font-size: inherit;\n    }\n\n    slot[name="license"],\n    slot[name="coverage"] { text-align: center; text-decoration: none; }\n\n    slot[name="license"] { font-size: 0.875em; color: var(--licenseColor); }\n    slot[name="license"]:hover { color: var(--licenseHoverColor); }\n\n    slot[name="coverage"] { font-size: 0.75em; color: var(--coverageColor); }\n\n    slot[name="license"]::slotted(span),\n    slot[name="coverage"]::slotted(span) { margin-top: 5px; }\n  ','</style>\n    <a class="link" href="#" target="_blank">\n      <slot name="bubble"></slot>\n      <slot name="license"></slot>\n      <slot name="coverage"></slot>\n    </a>\n  ');e=function(){_inherits(n,o);var e,t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this)).dom={elAnchor:e.select(".link")},e.attachEvent(e.dom.elAnchor,"click",e._onClick),e}return _createClass(n,[{key:"connectedCallback",value:(e=_asyncToGenerator(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.initBool(["hidden"]),this.initSlotted(),e.next=4,this.elementsDefined();case 4:this.ready();case 5:case"end":return e.stop()}},e,this)})),function(){return e.apply(this,arguments)})},{key:"_trackAffiliateClick",value:function(e){i&&i.push({event:"where to watch clicks",whereToWatchDestination:e})}},{key:"_trackAffiliateEvent",value:function(e){a&&a("admEvent",{amazon:"Jeq4Nhvx",flixster:"Jeq4X1vM",itunes:"Jeq3zLy7",netflix:"Jeq4B6OX",target:"Jeq4h9Us",vudu:"Jeq4QIYQ"}[e],{})}},{key:"_onClick",value:function(){this._trackAffiliateClick(this.affiliate),this._trackAffiliateEvent(this.affiliate)}},{key:"template",value:function(){return r}},{key:"_attributeHref",value:function(e){if(!e)return"#";this.dom.elAnchor.href=e}}],[{key:"observedAttributes",get:function(){return["affiliate","hidden","href"]}}]),n}();window.customElements.get("where-to-watch-meta")||window.customElements.define("where-to-watch-meta",e),"undefined"!=typeof module&&(module.exports=e)}(),RottenTomatoes.carousel={init:function(t,n){$(document).ready(function(){var e=$(t);e.slick&&(n.nextArrow||(n.nextArrow='<button class="CarouselButton CarouselButton__right" data-qa="carousel-right-btn"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" style="fill: currentcolor; vertical-align: middle; width: 24px; height: 24px;"><g><path d="M10 6l-1.41 1.41 4.58 4.59-4.58 4.59 1.41 1.41 6-6z"></path></g></svg></button>'),n.prevArrow||(n.prevArrow='<button class="CarouselButton CarouselButton__left" data-qa="carousel-left-btn"><svg viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet" style="fill: currentcolor; vertical-align: middle; width: 24px; height: 24px;"><g><path d="M15.41 7.41l-1.41-1.41-6 6 6 6 1.41-1.41-4.58-4.59z"></path></g></svg></button>'),e.slick(n))})}},function(){var e,t,r={CAROUSEL_ROOT:"#photos-carousel-root",PHOTOSWIPE:".pswp",IMAGE_PREFIX:"#photo-gallery-item-"},i=2,o=4,s=2,l=2,c=4,d=4,u=2.5,m=2,h=[];function v(e){var t=document.querySelector(r.PHOTOSWIPE),n=new PhotoSwipe(t,PhotoSwipeUI_Default,h,{index:e,preload:[i,o],indexIndicatorSep:" of ",shareEl:!1,fullscreenEl:!1,closeOnScroll:!1});n.init(),n.listen("afterChange",function(){n.currItem.pid,window.dataLayer&&window.dataLayer.push({event:"MOBPhotoViewModal"})})}e=RottenTomatoes.context.imagesJson,h=e&&e.map(function(e){var t;return{pid:e.id,src:null==e||null===(t=e.urls)||void 0===t?void 0:t.fullscreen,w:e.width,h:e.height,title:e.caption}})||[],""!==window.location.hash&&(e=RottenTomatoes.queryTool.getQueriesFromUrl().pid,t=$(r.IMAGE_PREFIX+e),$(document).ready(function(){t.trigger("click")})),RottenTomatoes.photoComponent={init:function(e,t,n){var i=$(r.CAROUSEL_ROOT)&&$(r.CAROUSEL_ROOT).width()<300||!1,o=3<h.length,a=4<h.length,a={dots:!0,infinite:o,speed:250,slidesToShow:i?s:c,slidesToScroll:i?l:d,arrows:a,draggable:!0,lazyLoad:"ondemand",responsive:[{breakpoint:768,settings:{slidesToShow:u,slidesToScroll:m,dots:!1,arrows:!1,infinite:!1}}]};n&&RottenTomatoes.carousel.init(e,a),$(t).each(function(e,t){$(t).on("click",function(){v(e)})})}}}(),function(){var s=1e4,t={CREATE_WTS:"createWTS",DELETE_WTS:"deleteWTS",CREATE_RATING:"createRating",GET_WTS:"getWTS",GET_RATING:"getRating"},n={POST:"POST",GET:"GET"},l={INVALID_DATA:"Invalid data",INVALID_MEDIA_TYPE:"Invalid mediaType",INVALID_API_NAME:"Invalid api name"};function c(i,o){if("object"===!_typeof(o)||null===o)return Promise.reject(new Error(l.INVALID_DATA));if("movie"!==o.mediaType&&"tv"!==o.mediaType)return Promise.reject(new Error(l.INVALID_MEDIA_TYPE));var e,a,r=!1;switch(i){case t.CREATE_WTS:a=RottenTomatoes.link.commonUserWTSCreateNapi(),e=n.POST;break;case t.DELETE_WTS:a=RottenTomatoes.link.commonUserWTSDeleteNapi(),e=n.POST;break;case t.CREATE_RATING:a=RottenTomatoes.link.commonUserRatingCreateNapi(),e=n.POST;break;case t.GET_WTS:a=RottenTomatoes.link.commonUserGetWTSNapi(),e=n.GET;break;case t.GET_RATING:a=RottenTomatoes.link.commonUserGetRatingNapi(),e=n.GET;break;default:return Promise.reject(new Error(l.INVALID_API_NAME))}return new Promise(function(t,n){RottenTomatoes.xhr.ajax({type:e,url:a,timeout:s,dataType:"json",data:o}).done(function(e){t(e)}).fail(function(e){return 401!==e.status||r?n(e):void RottenTomatoes.xhr.post("/napi/passwordless/login/refresh",{},function(e){r=!0,e?n(e):c(i,o).then(function(e){return t(e)}).catch(function(e){return n(e)})})})})}RottenTomatoes.rating={createWTS:function(e){return c(t.CREATE_WTS,e)},deleteWTS:function(e){return c(t.DELETE_WTS,e)},getWTS:function(e){return c(t.GET_WTS,e)},getRating:function(e){return c(t.GET_RATING,e)},updateRating:function(e){return c(t.CREATE_RATING,e)},EVENT_NAMES:{RATING:{FAIL_RATING_POST:"User rating post failed",RATING_POSTED:"User rating was posted",RATING_MODAL_CLOSED:"User closed the rating modal",REVIEW_SUBMISSION_STARTED:"Review submission started"}}}}(),function(){var n,i={TOOLTIP:{OPEN:"rt tooltip open",CLOSE:"rt tooltip close"}},o={RT_TOOLTIP:".js-rt-tooltip",RT_TOOLTIP_CLOSE_BTN:".js-tooltip-close-btn"},a={TOMATOMETER:"tomatometer",AUDIENCE_SCORE:"audience-score"},e=150,r=window.matchMedia("only screen and (max-width: 760px)").matches;function t(e){if((!0!==e.data("desktop-only")||!r)&&(n=!0,0===$(o.RT_TOOLTIP).length)){var t;switch(e.data("help-content")){case a.AUDIENCE_SCORE:t=nunjucks.render("_audienceScore",{scoreDetailDescription:RottenTomatoes.context.scoreDetailDescription,canVerifyRatings:RottenTomatoes.scoreDetailModel.getViewModel.canVerifyRatings,hasAudienceScore:!!RottenTomatoes.scoreDetailModel.getViewModel.audienceScoreAll.state,mediaType:RottenTomatoes.scoreDetailModel.getViewModel.mediaType});break;case a.TOMATOMETER:t=nunjucks.render("_tomatometer",{scoreDetailDescription:RottenTomatoes.context.scoreDetailDescription})}e.append(t).focus().on("focusout",function(){s()}),$(o.RT_TOOLTIP_CLOSE_BTN).on("click",function(){s()}),e.data("placement")&&$(o.RT_TOOLTIP).css(e.data("placement"),"0"),$(o.RT_TOOLTIP).on("click touch",function(){RottenTomatoes.eventQ.emit(n?i.TOOLTIP.OPEN:i.TOOLTIP.CLOSE,n)})}}function s(){setTimeout(function(){$(o.RT_TOOLTIP).remove(),n=!1},e)}RottenTomatoes.tooltip={EVENT_NAMES:i,initToolTip:function(e){n=!1,e.off().on("click touch",function(){n||t(e)})}}}(),RottenTomatoes.util={arrayUnique:function(n){return n.filter(function(e,t){return n.indexOf(e)>=t})},debounce:function(n,i,o,a){return n&&Number(n)?function(){var e=this,t=arguments;clearTimeout(r),r=setTimeout(function(){a.apply(e,[i,o,t])},n)}:null;var r},capitalize:function(e){return"string"!=typeof e?"":e.length<=1?e:e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},kFormatter:function(e){return 999<e?(Math.abs(e)/1e3).toFixed(1)+"k":e}},function(){var e={CAST_REMAINING:".castRemaining",MORE_CAST_AND_CREW:".moreCasts",SHOW_MORE_CAST:"#showMoreCast",SHOW_MORE_CAST_AND_CREW:"#showMoreCastAndCrew"},t=!1;function n(){(t=!t)?($(e.MORE_CAST_AND_CREW).removeClass("hide"),$(e.SHOW_MORE_CAST_AND_CREW).html("Hide Cast & Crew")):($(e.MORE_CAST_AND_CREW).addClass("hide"),$(e.SHOW_MORE_CAST_AND_CREW).html('Show all Cast & Crew <span class="caret"></span>'))}function i(){$(e.CAST_REMAINING).removeClass("castRemaining"),$(e.SHOW_MORE_CAST).hide()}$(e.SHOW_MORE_CAST).click(i),$(e.SHOW_MORE_CAST_AND_CREW).click(n)}(),function(){var e={SHOW_ALL:"show-all"},t={AFFILIATES_LIST:".js-affiliates-list",SHOW_ALL:".js-where-to-watch-show-up"},n=!1;function i(){n=n?($(t.AFFILIATES_LIST).removeClass(e.SHOW_ALL),$(t.SHOW_ALL).html('Show all services <span class="caret"></span>'),!1):($(t.AFFILIATES_LIST).addClass(e.SHOW_ALL),$(t.SHOW_ALL).html('Show less <span class="caret caret-up"></span>'),!0)}$(t.SHOW_ALL).click(i)}(),$(".js-affiliate-link").on("click",function(e){e=$(e.currentTarget).data("affiliate");window.dataLayer.push({event:"where to watch clicks",whereToWatchDestination:e}),function(e){if("Krux"in window){var t;switch(e){case"flixster":t="Jeq4X1vM";break;case"vudu":t="Jeq4QIYQ";break;case"target":t="Jeq4h9Us";break;case"amazon":t="Jeq4Nhvx";break;case"itunes":t="Jeq3zLy7";break;case"netflix":t="Jeq4B6OX"}Krux("admEvent",t,{})}}(e)}),function(){var i,o={CRITIC_FILTER_LINK:".js-critics-filter-link",DROPDOWN_TRIGGER:".js-rt-dropdown-trigger",POST_REVIEW_FEEDBACK:".js-rating_textbox-submit-status",RATING_MODAL:"#rating_widget_modal",RATING_MODAL_BTN:".js-rating_modal-btn",RATING_MODAL_CLOSE_BTN:".js-rating__modal-closeBtn",RATING_MODAL_FOOTER:".rating-modal-footer",RATING_MODAL_OPEN_BTN:".js-user-rating-mobile__review-modal-button",RATING_MODAL_TITLE:".login-modal-title",RATING_MODAL_STAR_MEANINGS:".js-rating__widget-modal--star-meanings",RATING_STARS:".js-rating-stars",RATING_STARS_MOBILE_WRAP:".js-user-rating-mobile__stars-wrap",RATING_STAR:".js-rating-star",RATING_WIDGET:".rating_widget_mobile-star",RATING_WIDGET_REVIEW_DESCRIPTION:".js-user-rating-mobile__add-review-text",RATINGS_WRAP:".js-mop-ratings-wrap",REVIEW_TEXT_AREA:".js-rating_textbox-textarea",SUBMIT_BUTTON:".js-rating_textbox-submit-btn",USER_THUMBNAIL:".js-rating-widget-user-thumb",WANT_TO_SEE_BTN:".js-rating-wts-btn",WANT_TO_SEE_RATINGS_GROUP:".js-wts-ratings-group",USER_INFO_DESKTOP:".js-user-media-rating__user-info",USER_INFO_MOBILE:".js-user-rating-mobile__header",USER_RATING_REVIEW_COMMENT:".js-user-rating-mobile__comment",USER_RATING_WTS:".user-rating-mobile__wts",EDIT_BTN_VISIBILITY:".js-edit-review-btn-visibility",TICKET_VENODR_DROPDOWN_OPTION:".js-ticket-vendor_dropdown-option",TICKET_VENDOR_LEGAL_TEXT:".js-vas_legal-text",SUPER_REVIEWER:".js-super-reviewer"},n=185,t=null,a="",r=null,e={FANDANGO:{NAME:"Fandango",VALUE:"FANDANGO"}},s={Fandango:"FANDANGO"},l={mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType,mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,userInfo:null,userRating:null,wtsSelected:!1},c={HIDE:"hide",RATE_AND_REVIEW_MODAL_HIDDEN:"rate-and-review--hidden",SUPER_REVIEWER_HIDDEN:"super-reviewer-badge--hidden",star:{FILLED:"star-display__filled",HALF:"star-display__half",EMPTY:"star-display__empty",MOBILE_STAR:"star-display__mobile-half",STATIC_STAR:"star-display__static-half"},starDisplays:{DESKTOP:"star-display__desktop",MOBILE:"star-display__mobile"},wts:{SELECTED:"button--wts-selected",PRE_RELEASE:"wts--preRelease",POST_RELEASE:"wts--postRelease"}};function d(e){e.removeClass(Object.values(c.star).join(" "))}function u(n){$(o.RATING_STAR).each(function(){var e=parseFloat($(this).data("rating-value")),t=$(this).parent();d(t),e=e<n?c.star.FILLED:c.star.EMPTY,t.addClass(e)})}function m(i){i=parseFloat(i),$(o.RATING_STAR).each(function(){var e,t=parseFloat($(this).data("rating-value")),n=$(this).parent();(n.hasClass(c.starDisplays.DESKTOP)||n.hasClass(c.starDisplays.MOBILE))&&(d(n),$('[data-rating-value="'+i+'"]').parent().addClass(Number.isInteger(i)?c.star.FILLED:c.star.HALF),n.hasClass(Object.values(c.star).join(" "))||(e=t<i?c.star.FILLED:c.star.EMPTY),n.addClass(e))})}function h(e){var t;m(e.initialScore),t=e.initialReview,$(o.REVIEW_TEXT_AREA).val(t||""),t=e.initialScore,e="",0!==t&&(e=(t=$('.star-display__mobile-half[data-rating-value="'+t+'"]')).data("rating-value")+" stars: "+t.data("title")),$(o.RATING_MODAL_STAR_MEANINGS).html(e),$(o.RATING_MODAL).modal(c.HIDE)}function v(e){t.html(e).show().fadeOut(2500)}function _(){var e=$(o.WANT_TO_SEE_BTN),t=$(o.RATING_MODAL_MBL_BTN),n=l.wtsSelected;l.userRating&&l.userRating.score&&"-"!==l.userRating.score&&!n?(r&&0!==r.initialScore&&(e.addClass(c.HIDE),t.addClass(c.HIDE)),RottenTomatoes.context&&RottenTomatoes.context.seasonId&&$(o.RATING_WIDGET).removeClass(c.HIDE)):(e.removeClass(c.HIDE),t.removeClass(c.HIDE),RottenTomatoes.context&&RottenTomatoes.context.seasonId&&$(o.RATING_WIDGET).addClass(c.HIDE))}function f(){var e=$(o.WANT_TO_SEE_BTN);l.wtsSelected?e.addClass(c.wts.SELECTED):e.removeClass(c.wts.SELECTED),l.userRating&&l.userRating.score&&($(o.USER_RATING_WTS).addClass(c.HIDE),r&&0!==r.initialScore&&$(o.EDIT_BTN_VISIBILITY).removeClass(c.HIDE),e.addClass(c.HIDE))}function T(){var e=$(o.RATING_STARS);if(l.userRating&&l.userRating.score&&($(o.USER_RATING_WTS).addClass(c.HIDE),r&&0!==r.initialScore&&$(o.EDIT_BTN_VISIBILITY).removeClass(c.HIDE)),l.userRating){switch(l.userRating.score){case"+":break;case void 0:case null:e.find(o.RATING_STAR).removeClass("score");break;default:var t=Number.parseFloat?Number.parseFloat(l.userRating.score,10):Number(l.userRating.score);t&&(e.find(o.RATING_STAR).removeClass("score"),e.find('[data-rating-value="'+t+'"]').addClass("score"),m(l.userRating.score))}l.userRating.score&&($(o.RATING_STARS_MOBILE_WRAP).removeClass("text-center").addClass("review-present"),$(o.RATING_WIDGET_REVIEW_DESCRIPTION).addClass("hide"),$(o.RATING_MODAL_OPEN_BTN).addClass("hide"),e.removeClass("hide"))}else e.find(o.RATING_STAR).removeClass("score")}function p(){var e,t=$(o.REVIEW_TEXT_AREA);l.userRating&&((e=l.userRating.review)&&(t.val(function(e){if(!e)return null;var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?null:t.childNodes[0].nodeValue}(l.userRating.review)),e.length>n&&(e=l.userRating.review.substr(0,n).trim()+"...")),$(o.USER_RATING_REVIEW_COMMENT).html(e))}function R(){var e=$(o.USER_THUMBNAIL),t=l.userInfo?l.userInfo.thumbnailUrl:"",n=l.userInfo?l.userInfo.profileUrl:"";t&&(a=$(o.USER_THUMBNAIL).attr("src")),$(o.USER_THUMBNAIL).attr("src",t||a),e.parent().attr("href",n)}function E(){RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,{})}function g(e,t,n){if(i&&i.hasProfanity(t))return window.alert("Your review does not meet our community guidelines. Please edit out any offensive language and try again.");if(!function(e){if(!e)return!1;return RottenTomatoes.context.popcornMeterState,!0}(e))return v("Please choose a rating first."),0;RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED);t={mediaId:l.mediaId,mediaType:l.mediaType,displayName:l.userInfo?(l.userInfo.firstName||"")+" "+(l.userInfo.lastName&&l.userInfo.lastName.slice(0,1)||""):"",isSuperReviewer:l.userInfo&&l.userInfo.isSuperReviewer,score:e,reviewText:t,partnerId:s[n]};RottenTomatoes.rating.updateRating(t).then(function(e){return l.userRating=e,l.userRating.partnerText=n,r={initialScore:e.score||0,initialReview:e.review||""},"tv"===l.mediaType&&v("Review posted."),T(),p(),_(),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,l.userRating),null}).catch(E)}function I(){var e;e={mediaId:l.mediaId,mediaType:l.mediaType},(l.wtsSelected?RottenTomatoes.rating.deleteWTS(e).then(function(){l.wtsSelected=!1,f(),_()}):RottenTomatoes.rating.createWTS(e).then(function(){l.wtsSelected=!0,f(),_()})).catch(E)}function w(e){$(this).hasClass(c.star.MOBILE_STAR)||(l.userRating.score=$(e.target).data("ratingValue"),T(),_())}function A(){$(o.RATING_MODAL).modal("show")}function C(e){var t=$(o.REVIEW_TEXT_AREA).first().val(),e=("desktop"===(e.currentTarget&&e.currentTarget.dataset&&e.currentTarget.dataset.buttonType)?$(o.DROPDOWN_TRIGGER):$(o.DROPDOWN_TRIGGER).eq(1)).attr("value");g(l.userRating.score,t,e)}function y(e){$(o.WANT_TO_SEE_BTN)[e]("click touch",I),$(o.RATING_STAR)[e]("click touch",w),$(o.RATING_MODAL_BTN)[e]("click touch",A),$(o.USER_RATING_REVIEW_COMMENT)[e]("click touch",A),$(o.SUBMIT_BUTTON)[e]("click touch",C)}function b(e){v("We couldn't retrieve the rating.")}function S(){l.userRating&&l.userRating.isVerified&&($(o.DROPDOWN_TRIGGER).text(e.FANDANGO.NAME),$(o.DROPDOWN_TRIGGER).attr("value",e.FANDANGO.VALUE))}function k(){return f(),T(),p(),_(),y("on"),null}function L(e){l.userInfo?Object.assign(l.userInfo||{},e):l.userInfo=e,$(o.USER_INFO_MOBILE).removeClass(c.HIDE),$(o.USER_INFO_DESKTOP).removeClass(c.HIDE),l.userInfo&&R();var t={mediaId:l.mediaId,mediaType:l.mediaType};RottenTomatoes.rating.getWTS(t).then(function(e){return l.wtsSelected=!!e&&e.wtsSelected,RottenTomatoes.rating.getRating(t)}).then(function(e){e.isSuperReviewer&&$(o.SUPER_REVIEWER).removeClass(c.SUPER_REVIEWER_HIDDEN),l.userRating=e;var t=(r={initialScore:e.score||0,initialReview:e.review||""}).initialScore;t&&(e=$('.js-modal-star-rating[data-rating-value="'+t+'"]').data("title"),$(o.RATING_MODAL_STAR_MEANINGS).html(t+" stars: "+e))}).then(k).then(S).catch(b)}function D(){O("RATING")}function N(){O("WTS")}function O(e){document.querySelector("analytics-manager").state.user.customerId||document.dispatchEvent(new CustomEvent("auth",{detail:{referer:e}}))}function x(){l.userInfo=null,l.userRating={score:0,isVerified:!1,review:null,partnerText:null},l.wtsSelected=null,r=null,$(o.USER_INFO_MOBILE).addClass(c.HIDE),$(o.USER_INFO_DESKTOP).addClass(c.HIDE),u(0),R(),f(),T(),p(),_(),y("off")}function B(e){e.initialScore===(l.userRating.score||0)&&e.initialReview===$(o.REVIEW_TEXT_AREA).val()?$(o.RATING_MODAL).modal(c.HIDE):(e=e,window.confirm("Are you sure you want to discard your review?")&&h(e))}!function(){$(o.CRITIC_FILTER_LINK).on("click",function(){return $(".js-critics-filter-link.bold").removeClass("bold"),$(this).addClass("bold"),!1}),$(o.REVIEW_TEXT_AREA).on("click touch",D),$(o.RATING_STAR).on("click touch",D),$(o.SUBMIT_BUTTON).on("click touch",D),$(o.WANT_TO_SEE_BTN).on("click touch",N),$(o.RATING_MODAL_BTN).on("click touch",D),$(o.REVIEW_TEXT_AREA).on("keyup",function(){$(o.REVIEW_TEXT_AREA).not(this).val($(this).val())}),RottenTomatoes.context.badWordsList&&function(){var e;try{e=JSON.parse(window.atob(RottenTomatoes.context.badWordsList))}catch(e){}var t=RottenTomatoes.profanityFilter;t&&e&&(i=(new t).loadBadWords(e))}();var e=RottenTomatoes.context.isPreRelease?c.wts.PRE_RELEASE:c.wts.POST_RELEASE;$(o.WANT_TO_SEE_RATINGS_GROUP).addClass(e),t=$(o.POST_REVIEW_FEEDBACK),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,L),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,x),_(),$(o.RATING_STAR).on("mouseover",function(){var e,t,n,i=$(this);i.hasClass(c.star.MOBILE_STAR)||(e=i.parent(),n=i.data("side"),i=parseFloat(i.data("rating-value")),"left"===n?t=c.star.HALF:"right"===n&&(t=c.star.FILLED),u(i),d(e),e.addClass(t))}),$(o.RATING_STAR).on("mouseleave",function(){r&&m(r.initialScore)}),$(o.RATING_STAR).on("click touch",function(){var e=$(this);document.querySelector("analytics-manager").state.user.customerId&&(e.hasClass(c.star.MOBILE_STAR)||e.hasClass(c.star.STATIC_STAR)?RottenTomatoes.rateAndReview.mobileInit():RottenTomatoes.rateAndReview.desktopInit(e.data("rating-value")),RTLocals.rateAndReview.ui.openRateAndReviewModal())}),$(o.TICKET_VENODR_DROPDOWN_OPTION).on("click touch",function(e){var t=$(o.TICKET_VENDOR_LEGAL_TEXT);void 0===e.target.attributes.disabled?t.removeClass(c.HIDE):t.hasClass(c.HIDE)||t.addClass(c.HIDE)}),$(o.RATING_MODAL_CLOSE_BTN).on("click touch",function(){B(r)}),$(o.RATING_MODAL).on("click touch",function(e){e.target===e.currentTarget&&B(r)})}()}(),function(){var n,e,i={DROPDOWN_TRIGGER:".js-rt-dropdown-trigger",MODAL_STAR_RATING:".js-modal-star-rating",PRODUCT_BLOG_URL:".js-product-blog-url",RATING_WIDGET_STAR_MEANINGS:".js-rating__widget-modal--star-meanings",SATELLITE:".js-satellite",SUBMIT_MSG_WRAP:".js-review-submitted-message",SUBMIT_MSG_DRAWER:".js-rating-submission-message-drawer",SUBMIT_MSG_HEADER:".js-rating-submission-header",SUBMIT_MSG_COPY:".js-rating-submission-body",SUBMIT_TWITTER_BTN:".js-submission-drawer-twitter-link",SUBMIT_FACEBOOK_BTN:".js-submission-drawer-facebook-link",SUBMIT_MSG_REVIEW_INFO:".js-review-submitted-message__review-info",TEXTBOX:".js-rating_textbox-textarea",USER_NAME:".js-user-rating-mobile__username",REVIEW_INFO_CLOSE:".js-review-submitted-message__close-review-info"},o={HIDE:"hide"},a=(e=RottenTomatoes.context.reviewSubmissionConfirmationMessages.CODE_OF_CONDUCT_NOTICE,{BOUGHT_SOMEWHERE_ELSE:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,reviewInfo:e},RATING_NON_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU},REVIEW_NON_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,reviewInfo:e},RATING_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,copy:RottenTomatoes.context.reviewSubmissionConfirmationMessages.RATING_VERIFICATION_NOTICE},REVIEW_VERIFIED:{header:RottenTomatoes.context.reviewSubmissionConfirmationMessages.THANK_YOU,copy:RottenTomatoes.context.reviewSubmissionConfirmationMessages.REVIEW_VERIFICATION_NOTICE,reviewInfo:e}});var r={boughtSomewhereElse:"BOUGHT_SOMEWHERE_ELSE",ratingNonVerified:"RATING_NON_VERIFIED",ratingVerified:"RATING_VERIFIED",reviewNonVerified:"REVIEW_NON_VERIFIED",reviewVerified:"REVIEW_VERIFIED"},s={FANDANGO:"Fandango",BOUGHT_SOMEWHERE_ELSE:"Bought at a theater or somewhere else"},t=null,l=!1,c=!1,d={};function u(e,t){e=a[e];d.messageHeader=e.header.replace("{{name}}",n),d.messageCopy=e.copy,d.messageReviewInfo=e.reviewInfo,d.showTwitterButton=!1,d.showFacebookButton=!1,"AMC"===t&&(e=RottenTomatoes.context.movieDetails||{},t=e.movieDetailsURL?"".concat(RottenTomatoes.link.baseCanonicalUrl()).concat(e.movieDetailsURL):"",t="I watched ".concat(e.movieTitle," @AMCTheatres. Check out reviews on @RottenTomatoes. ").concat(t," #ShareAMC amctheatres.com"),d.showTwitterButton=!0,d.showFacebookButton=!0,d.twitterShareLink="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(t)),d.facebookQuote=t)}function m(){var e;d.messageHeader&&($(i.SUBMIT_MSG_HEADER).text(d.messageHeader),d.messageCopy&&$(i.SUBMIT_MSG_COPY).text(d.messageCopy),e=$(i.SUBMIT_TWITTER_BTN),d.showTwitterButton?(e.removeClass(o.HIDE),e.attr("href",d.twitterShareLink)):e.addClass(o.HIDE),e=$(i.SUBMIT_FACEBOOK_BTN),d.showFacebookButton?(e.removeClass(o.HIDE),e.on("click",function(){return window.FB.ui({method:"share",href:window.location.href,quote:d.facebookQuote})})):e.addClass(o.HIDE),RottenTomatoes.mobileDrawer.openDrawer(i.SUBMIT_MSG_DRAWER));var t=$(i.SUBMIT_MSG_REVIEW_INFO);d.messageReviewInfo&&0===t.text().trim().length&&($(i.SUBMIT_MSG_WRAP).removeClass("hide"),t.removeClass("hide"),t.append(d.messageReviewInfo)),0<t.text().trim().length&&($(i.SUBMIT_MSG_WRAP).removeClass("hide"),t.removeClass("hide")),$(i.REVIEW_INFO_CLOSE).on("click",function(){return t.addClass("hide"),!1}),c=!1}function h(e){c=!0,e&&e.displaySubmitMessage&&m()}function v(e){var t=e.firstName||"",e=e.lastName&&e.lastName.slice(0,1)||"";n=t,$(i.USER_NAME).text(t+" "+e)}function _(){$(i.SUBMIT_MSG_WRAP).addClass("hide")}function f(e){e.preventDefault(),RottenTomatoes.tracking.satelliteTrack("verify purchase learn more clicks"),window.open($(this).attr("href"))}function T(){$(i.PRODUCT_BLOG_URL).one("click",f)}function p(e){e||(RTLocals.rateAndReview.ui.disableVerificationElements(),RTLocals.rateAndReview.ui.changeSubmitBtnsToSpinners())}function R(e){e||(RTLocals.rateAndReview.ui.enableVerificationElements(),RTLocals.rateAndReview.ui.restoreSubmitBtns(),RottenTomatoes.multiPageModal.closeSubModal(),RTLocals.rateAndReview.ui.closeRateAndReviewModal(),RottenTomatoes.mobileDrawer.closeDrawer())}function E(e){var t,n;R(e&&e.isImplicitPost),n=(t=e)&&t.partnerId&&t.partnerId===s.FANDANGO,t=t&&t.score,RottenTomatoes.dtmData.verifyPurchase="",RottenTomatoes.dtmData.reviewStars=t,n&&t&&(RottenTomatoes.dtmData.verifyPurchase="1",RottenTomatoes.dtmData.verifyPurchaseType="fandango"),RottenTomatoes.tracking.satelliteTrack("fan review complete"),(e=e)?e.partnerId===s.BOUGHT_SOMEWHERE_ELSE?u(r.boughtSomewhereElse):e.partnerId||e.review?!e.partnerId&&e.review?u(r.reviewNonVerified):e.partnerId&&!e.review?u(r.ratingVerified,e.partnerId):e.partnerId&&e.review&&u(r.reviewVerified,e.partnerId):u(r.ratingNonVerified):u(r.ratingNonVerified),c&&m()}function g(e){R(e),t.html("We couldn't save the rating.").show().fadeOut(2500)}function I(e){e.preventDefault(),$(i.RATING_WIDGET_STAR_MEANINGS).html($(this).data("rating-value")+" stars: "+$(this).data("title"))}function w(){var e;l||(e=$(this).data("fanreviewstarttype"),document.querySelector("analytics-manager").capture("legacyRatingsUi_reviewStart",e),l=!0)}$(i.MODAL_STAR_RATING).on("click touch",I),$(i.SATELLITE).on("click",w),RottenTomatoes.eventQ.register(RottenTomatoes.tooltip.EVENT_NAMES.TOOLTIP.OPEN,T),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,v),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,_),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED,p),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,E),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_MODAL_CLOSED,h),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,g),t=$(i.POST_REVIEW_FEEDBACK)}(),function(){var n,i,t={SUB_MODAL:".js-multi-page-modal__sub-modal",MULTI_PAGE_MODAL:".js-multi-page-modal"},o="multi-page-modal__sub-modal-overlay--open",a={ESC:27};function r(e){e=i[e];e&&e.htmlContainer&&e.actions&&(n.html($(e.htmlContainer).html()),e.actions())}function s(e){e.keyCode===a.ESC&&l()}function l(){$(t.MULTI_PAGE_MODAL+" "+t.SUB_MODAL).remove()}RottenTomatoes.multiPageModal={init:function(e,t){n=$(e),i=t,r(0)},loadPage:r,triggerSubModal:function(e){return $(t.MULTI_PAGE_MODAL).append($(e.htmlContainer).html()),$(t.SUB_MODAL).addClass(o),e.actions(),$(document).keydown(s),!1},closeSubModal:l}}(),function(){var i,e=".js-mobile-drawer-backdrop-close-btn",o={DRAWER_OPEN:"mobile-drawer--is-open",SCROLL_LOCK:"scroll-lock"},a={ESC:27};function t(){document.querySelector("body").classList.remove(o.SCROLL_LOCK),i&&document.querySelector(i).classList.remove(o.DRAWER_OPEN),i=null}function n(e){var t=document.querySelector(i),n=!!t&&t.classList.contains(o.DRAWER_OPEN);e.keyCode===a.ESC&&n&&t.classList.remove(o.DRAWER_OPEN)}RottenTomatoes.mobileDrawer={init:function(){document.addEventListener("keyup",n),[].slice.call(document.querySelectorAll(e)).forEach(function(e){e.addEventListener("click",t),e.addEventListener("touch",t)})},closeDrawer:t,openDrawer:function(e){document.querySelector("body").classList.add(o.SCROLL_LOCK),document.querySelector(e).classList.add(o.DRAWER_OPEN),i=e}}}(),function(){var t,n,i=20,o={COMMENT_BOX:".js-textarea-with-counter-text",COUNTER_ITEM:".js-textarea-with-counter-item",CIRCLE_OVERLAY:".js-textarea-with-counter-circle-overlay"},e={CIRCLE_OVERLAY_ACTIVE:"textarea-with-counter__circle-overlay--active"},a=$(o.COMMENT_BOX);function r(){var e=$(this).val().trim();n.css({"stroke-dashoffset":100-2*e.length}),0===e.length||e.length>=i?(t.fadeOut(),RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed=!0):(t.fadeIn(),RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed=!1),RottenTomatoes.formUI.minimumCharacterCounter.textValue=e}function s(){t=$(o.COUNTER_ITEM),n=$(o.CIRCLE_OVERLAY),a.on("input change",r),a.on("focus blur",function(){n.toggleClass(e.CIRCLE_OVERLAY_ACTIVE)}),window.event.preventDefault()}function l(e){e=e||"";a.blur().html(e).val(e),RottenTomatoes.formUI.minimumCharacterCounter.textValue=e}function c(){a.trigger("change")}RottenTomatoes.formUI=Object.assign(RottenTomatoes.formUI||{},{minimumCharacterCounter:{init:function(e){(a=$(o.COMMENT_BOX)).each(function(){var e=$(this);e.before('<div class="textarea-with-counter"><svg height="20" width="20" class="js-textarea-with-counter-item textarea-with-counter__item textarea-with-counter__item--svg"><circle cx="8" cy="8" r="6" class="textarea-with-counter__circle textarea-with-counter__circle--base" /><circle cx="8" cy="8" r="6" class="js-textarea-with-counter-circle-overlay textarea-with-counter__circle textarea-with-counter__circle-overlay" /></svg><span class="js-textarea-with-counter-item textarea-with-counter__minimum-character-text textarea-with-counter__item">minimum characters</span>'+this.outerHTML+"</div>"),e.remove(),a=$(o.COMMENT_BOX),s()}),s(),l(e),c()},textValue:null,updateCounter:c,setTextValue:l,minCountCheckPassed:!0}})}(),function(t){var e,n={CLOSE_MODAL:"#verified-modal-close",LEARN_MORE_LINK:".verified-tab__tooltip--link",MOBILE_BOTTOM_NAV:"#nav-list",MOBILE_OVERLAY:".js-verified-modal-overlay",CONTAINER:"#main_container",POPOVER_LABEL:".js-verified-popover",REVIEW_TEXT:".js-review-text",VERIFIED_MODAL_MOBILE:".js-verified-modal--mobile",VERIFIED_TEXT:".js-verified-review",POPOVER_CONTAINER:".popover",POPOVER_CONTAINER_HOVER:".popover:hover"};function i(){RottenTomatoes.tracking.satelliteTrack("verified rollover")}function o(){RottenTomatoes.tracking.satelliteTrack("verified rollover learn more clicks")}function a(){t(n.LEARN_MORE_LINK).off("click",o),t(n.VERIFIED_MODAL_MOBILE).removeClass("open"),t(n.MOBILE_OVERLAY).addClass("hide")}function r(e){e.preventDefault(),window.matchMedia("only screen and (max-width: 760px)").matches&&(t(n.VERIFIED_MODAL_MOBILE).addClass("open"),t(n.MOBILE_OVERLAY).removeClass("hide"),t(n.LEARN_MORE_LINK).on("click",o),i())}function s(){var e=this;t(this).popover("show"),t(n.POPOVER_CONTAINER).on("mouseleave",function(){t(e).popover("hide")}),i(),t(n.LEARN_MORE_LINK).on("click",o)}function l(){var e=this;setTimeout(function(){t(n.POPOVER_CONTAINER_HOVER).length||t(e).popover("hide")},300)}function c(){t(n.VERIFIED_TEXT).on("click",r),t(n.CLOSE_MODAL).on("click",a);var e=t(n.POPOVER_LABEL);"function"==typeof e.popover&&(null===(e=e.popover({trigger:"manual",html:!0,animation:!1,content:(e=RottenTomatoes.context.verifiedTooltip)&&e.verifiedTooltipTop?nunjucks.render("_verifiedPopover",{topText:e.verifiedTooltipTop,topLinkURL:e.verifiedTooltipTopLinkURL,topLinkText:e.verifiedTooltipTopLinkText,topLinkVisible:e.verifiedTooltipTopLinkVisible,bottomText:e.verifiedTooltipBottom,bottomLinkURL:e.verifiedTooltipBottomLinkURL,bottomLinkText:e.verifiedTooltipBottomLinkText,bottomLinkVisible:e.verifiedTooltipBottomLinkVisible,bottomVisible:e.verifiedTooltipBottomVisible}):""}))||void 0===e||null!==(e=e.on("mouseenter",s))&&void 0!==e&&e.on("mouseleave",l))}(e=RottenTomatoes.context.verifiedTooltip)&&e.verifiedTooltipTop&&t(n.CONTAINER).after(nunjucks.render("_verified-modal",{topText:e.verifiedTooltipTop,topLinkURL:e.verifiedTooltipTopLinkURL,topLinkText:e.verifiedTooltipTopLinkText,topLinkVisible:e.verifiedTooltipTopLinkVisible,bottomText:e.verifiedTooltipBottom,bottomLinkURL:e.verifiedTooltipBottomLinkURL,bottomLinkText:e.verifiedTooltipBottomLinkText,bottomLinkVisible:e.verifiedTooltipBottomLinkVisible,bottomVisible:e.verifiedTooltipBottomVisible})),c(),RottenTomatoes.popover={reinitialize:c}}(jQuery),function(i){var e,o,t={WTS_COUNT:".js-rating_wts-count"},a={wtsNumbers:/(\d{1,3})/g};e=RottenTomatoes.context.wantToSeeData,o=e&&e.wantToSeeCount||0,!(!e||!e.ratingsStartDate)&&new Date(e.ratingsStartDate)>new Date&&o&&i(t.WTS_COUNT).each(function(){var e,t=i(this),n=o.toLocaleString("en");n.includes(",")&&(n=(e=n.match(a.wtsNumbers))[0]+"."+e[1].substr(0,1)+(e.length<3?"K":"M")),t.text(n="("+n+")")})}(jQuery),function(){var s,l=".js-tomatometer-score-info",c=".js-audience-score-info";RottenTomatoes.scoreDetailBreakdown={render:function(e,t){s=function(e,t){if(e)return{average_rating:e&&e.avgScore&&e.avgScore+("tomatometer"===t?"/10":"")||"- -",reviews_count:e&&e.numberOfReviews||"",fresh_count:e&&e.likedCount||0,rotten_count:e&&e.notLikedCount||0,fresh_percentage:e&&e.likedCount/e.numberOfReviews*100||0,rotten_percentage:e&&e.notLikedCount/e.numberOfReviews*100||0,audience_fresh_count:e&&e.likedCount||0,audience_rotten_count:e&&e.notLikedCount||0,audience_fresh_percentage:e&&e.likedCount/e.numberOfReviews*100||0,audience_rotten_percentage:e&&e.notLikedCount/e.numberOfReviews*100||0}}(e,t);for(var n=Object.keys(s),i="tomatometer"===t?l:c,o=0;o<n.length;o++){var a=n[o],r=s[a],a=$(i+"[data-"+a+"]");0<a.length&&(a[0].className.includes("score-bar")?a.css({width:r+"%"}):a.html(r&&r.toLocaleString()))}}}}(),function(){var e,t,n,i;function o(e){return"POSITIVE"===e?"upright":"spilled"}function a(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}function r(e){return[null,!1].includes(e)?void 0:e}n=RottenTomatoes.context.scoreBoardViewModel||{},i=RottenTomatoes.context.scoreInfo||{},n&&i&&(t=!!Object.keys(n).length,i={audienceAll:i?i.audienceAll:{},audienceVerified:i?i.audienceVerified:{},tomatometerAllCritics:i?i.tomatometerAllCritics:{},tomatometerTopCritics:i?i.tomatometerTopCritics:{}},(e={hasData:t,iconSizeCSSClass:a()?"tiny":"small",isReleased:n.isReleased||!1,releaseDate:n.releaseDate||"",showtimesLink:RottenTomatoes.link.webShowtimes(),verified:n.isVerified||!1,isPrerelease:n.isPrerelease||!1,canVerifyRatings:n.canVerifyRatings||!1,initialCriticProgress:0,initialAudienceProgress:0,showMobileRatings:a()||!1,mediaType:n.mediaType||""}).tomatometerAllCritics=Object.assign({},i.tomatometerAllCritics,{activeBtn:"all",avgScore:i.tomatometerAllCritics?i.tomatometerAllCritics.averageRating:"",numberOfReviews:i.tomatometerAllCritics?i.tomatometerAllCritics.reviewCount:""}),e.tomatometerTopCritics=Object.assign({},i.tomatometerTopCritics,{activeBtn:"top",avgScore:i.tomatometerAllCritics?i.tomatometerTopCritics.averageRating:"",numberOfReviews:i.tomatometerAllCritics?i.tomatometerTopCritics.reviewCount:""}),(i.audienceAll||i.audienceVerified)&&(e.audienceScoreVerified=Object.assign({},i.audienceVerified,{activeBtn:"verified",audienceClass:o(i.audienceVerified?i.audienceVerified.scoreSentiment:""),avgScore:i.audienceVerified?i.audienceVerified.averageRating:"",numberOfReviews:i.audienceVerified?i.audienceVerified.ratingCount:"",score:r(i.audienceVerified?i.audienceVerified.score:"")}),n=(t="tvSeries"===n.mediaType)&&i.audienceAll?i.audienceAll.score:i.audienceAll.averageRating,e.audienceScoreAll=Object.assign({},i.audienceAll,{activeBtn:"all",audienceClass:t&&i.audienceAll?i.audienceAll.state:o(i.audienceAll?i.audienceAll.scoreSentiment:""),avgScore:n||"",numberOfReviews:i.audienceAll?i.audienceAll.ratingCount:"",score:r(i.audienceAll.score)}))),RottenTomatoes.scoreDetailModel={getViewModel:e}}(),function(){var r={SCORE_DETAIL_PANEL:".js-score-detail-container",HELP_TOOL_TIP_TOMATOMETER:".js-score-detail-tomatometer-help",HELP_TOOL_TIP_AUDIENCE_SCORE:".js-score-detail-audience-score-help",DRAWER_HELP_TOMATOMETER:".js-score-detail-drawer-help-tomatometer",DRAWER_HELP_AUDIENCE_SCORE:".js-score-detail-drawer-help-audience-score",CRITICS_TOGGLE:".js-score-detail-critics-toggle",CIRCLE_WRAP:"#score-details-circle-wrap",TOMATOMETER_CIRCLE:"#tomatometer-score-circle",AUDIENCE_CIRCLE_WRAP:"#audience-circle-wrap",AUDIENCE_CIRCLE:"#audience-score-circle"},s={ACTIVE_CRITIC_TOGGLE:"score-detail__critic-toggle--active",TV_SERIES_TOOLTIP:"score-detail__help--tv-series-tomatometer"},n=window.matchMedia("only screen and (max-width: 760px)").matches,l=RottenTomatoes.scoreDetailModel.getViewModel,c=["all","top"],d=500,u="",m="";function h(e){e.preventDefault();var t,n,i,o=$(this),a=o.data("critics"),e=o.data("audience");if($(r.CRITICS_TOGGLE+(a?"[data-critics]":"[data-audience]")).removeClass(s.ACTIVE_CRITIC_TOGGLE),o.addClass(s.ACTIVE_CRITIC_TOGGLE),a){if(!c.includes(a))return;t="tomatometer"+RottenTomatoes.util.capitalize(a)+"Critics",n=l[t],i=$(r.TOMATOMETER_CIRCLE),RottenTomatoes.scoreDetailBreakdown.render(l[t],"tomatometer"),RottenTomatoes.ScoreCircle.update(i,n.score,u,n.tomatometerState),u=n.tomatometerState}e&&(t="audienceScore"+RottenTomatoes.util.capitalize(e),n=l[t],i=$(r.AUDIENCE_CIRCLE),RottenTomatoes.scoreDetailBreakdown.render(l[t],"audience"),RottenTomatoes.ScoreCircle.update(i,n.score,m,n.audienceClass),m=n.audienceClass)}function v(e,t){RottenTomatoes.context.scoreDetailDescription&&RottenTomatoes.context.scoreDetailDescription.tvSeriesTomatometerMsg&&e.addClass(s.TV_SERIES_TOOLTIP),e.on("click touch",function(){n&&RottenTomatoes.mobileDrawer.openDrawer(t)})}function e(){var e=l.tomatometerAllCritics?l.tomatometerAllCritics.numberOfReviews:0,t=l.tomatometerTopCritics?l.tomatometerTopCritics.numberOfReviews:0,n=l.audienceScoreVerified?l.audienceScoreVerified.avgScore:null,i=l.audienceScoreAll?l.audienceScoreAll.avgScore:null,o=l.audienceScoreVerified?l.audienceScoreVerified.numberOfReviews:0,a=l.audienceScoreAll?l.audienceScoreAll.numberOfReviews:0,o=nunjucks.render("_scoreDetail",{isReleased:l.isReleased,canVerifyRatings:l.canVerifyRatings,hasAudienceScore:Boolean(l.canVerifyRatings?n:i),releaseDate:l.releaseDate,mediaType:l.mediaType,numReviews:{audienceScoreAll:a,audienceScoreVerified:o,tomatometerAllCritics:e,tomatometerTopCritics:t},hideNav:!t&&!o});RottenTomatoes.modal.show(o,function(e){var t=$(r.HELP_TOOL_TIP_TOMATOMETER);RottenTomatoes.tooltip.initToolTip(t),v(t,r.DRAWER_HELP_TOMATOMETER),n=nunjucks.render("_scoreDetailsCircle",{circleId:r.TOMATOMETER_CIRCLE.replace("#",""),initialScore:l.tomatometerAllCritics.score,initialState:l.tomatometerAllCritics.tomatometerState||l.tomatometerAllCritics.state,defaultIcon:"icon__NA"}),$(r.CIRCLE_WRAP).html(n),RottenTomatoes.scoreDetailBreakdown.render(l.tomatometerAllCritics,"tomatometer"),u=l.tomatometerAllCritics.tomatometerState;var n,t=$(r.HELP_TOOL_TIP_AUDIENCE_SCORE);RottenTomatoes.tooltip.initToolTip(t),v(t,r.DRAWER_HELP_AUDIENCE_SCORE),n=l.canVerifyRatings?l.audienceScoreVerified:l.audienceScoreAll,t=nunjucks.render("_scoreDetailsCircle",{circleId:r.AUDIENCE_CIRCLE.replace("#",""),initialScore:n?n.score:null,initialState:n?n.audienceClass:"",hasAudienceScore:!!l.audienceScoreAll&&!!l.audienceScoreAll.avgScore,defaultIcon:"icon__audience-empty"}),n&&($(r.AUDIENCE_CIRCLE_WRAP).html(t),RottenTomatoes.scoreDetailBreakdown.render(n,"audience"),m=n.audienceClass),setTimeout(function(){RottenTomatoes.ScoreCircle.init($(r.TOMATOMETER_CIRCLE)),RottenTomatoes.ScoreCircle.init($(r.AUDIENCE_CIRCLE))},d),$(r.CRITICS_TOGGLE).on("mouseup keypress touch",h),$(r.CRITICS_TOGGLE).on("mousedown",function(e){e.preventDefault()})})}$(r.SCORE_DETAIL_PANEL).on("click touch",function(){e()}),RottenTomatoes.mobileDrawer.init()}(),function(){var e={SCORE_DETAIL_MODAL:".js-score-detail-modal",SCORE_DETAIL_MODAL_BACKGROUND:".js-score-detail-modal-background-overlay"},t="hide",n="noscroll",i=$(window).height(),o=window.matchMedia("only screen and (max-width: 760px)").matches;function a(){$(e.SCORE_DETAIL_MODAL).css("transition","transform .3s ease-out"),$(e.SCORE_DETAIL_MODAL).css("transform","translateY("+i+"px )")}RTLocals.scoreDetail=Object.assign(RTLocals.scoreDetail||{},{ui:{openScoreDetailModal:function(){$("body").addClass(n),$(e.SCORE_DETAIL_MODAL).removeClass(t),$(e.SCORE_DETAIL_MODAL_BACKGROUND).removeClass(t),o&&$(e.SCORE_DETAIL_MODAL).css("transform","translateY(0)")},closeScoreDetailModal:function(){$("body").removeClass(n),$(e.SCORE_DETAIL_MODAL).addClass(t),$(e.SCORE_DETAIL_MODAL_BACKGROUND).addClass(t),o&&a()},moveScoreDetailOutOfScreen:a}})}(),function(){var i={AMC_HELP_BTN:".js-amc-help-btn",AMC_HELP_DRAWER:".js-amc-help-drawer",BACK_MODAL_BTN:".js-back-multi-page-modal",CLOSE_MODAL_BTN:".js-close-multi-page-modal",EDIT_REVIEW_SUBMIT_BTN:"#edit-review-submit",MOBILE_DRAWER_KEEP_WRITING_BTN:".js-keep-writing-btn",SUBMIT_ONLY_RATING_BTN:".js-submit-only-rating-btn",EDIT_REVIEW_DISCARD_CHANGES_BTN:".js-discard-changes-btn",MULTI_PAGE_MODAL:".js-multi-page-modal",NEXT_SUBMIT_BTN:".js-next-submit-btn",CONTINUE_BTN:".js-continue-btn",REVIEW_TEXTAREA_COUNTER:".js-textarea-with-counter-item",STAR:".js-star-rating-draggable",STAR_SELECTED:".js-rating-star.score",STAR_DISPLAY:".js-star-display-desktop",SUB_MODAL_REMOVE_REVIEW_BTN:"#remove-review",SUB_MODAL_DISCARD_CHANGE_BTN:"#discard-review",SUB_MODAL_VERIFY_TICKET_BTN:"#verify-ticket",SUBMIT_RATING_AND_REVIEW_BTN:".js-submit-review",SUBMIT_WITHOUT_VERIFICATION_BTN:".js-submit-review-without-verification",VERIFIED_TICKET_VENDOR:".js-verified-ticket-vendor",VERIFIED_TICKET_EDIT_BUTTON:".js-verified-ticket-edit",VERIFIED_TICKET_INTPUT_ERROR_MESSAGE:".js-verify-ticket-input-error-message",VERIFIED_TICKET_NUMERICAL_INPUT:".js-verify-ticket-number-input",VERIFIED_TICKET_CANCEL_BUTTON:".js-verify-ticket-cancel-btn",VERIFIED_TICKET_INTERSTITIAL_DESKTOP:".js-verify-ticket-interstitial-container-desktop",DRAWER_INITIAL_REVIEW:".js-rating-submit-drawer-initial-review",DRAWER_EDIT_REVIEW:".js-rating-submit-drawer-edit-review"},n="verify-ticket__theater--selected",o="verify-ticket__theater--selected-input-focus",a="hide",t={INITIAL_RATE_AND_REVIEW:"review",INITIAL_INTERSTITIAL:"interstitial",INITIAL_VERIFICATION:"verify",EDIT_RATE_AND_REVIEW:"edit-review",EDIT_INTERSTITIAL:"edit-interstitial",EDIT_VERIFICATION:"edit-verify"},e={RATE_AND_REVIEW:0,INTERSTITIAL:1,VERIFICATION:2},r=13,s=32,l={pendingReview:{score:"0",review:"",partnerId:"",transactionId:""},userReview:null,userInfo:null},c=null,d=!1,u=!1;function m(){RottenTomatoes.multiPageModal.loadPage(e.VERIFICATION)}function h(){RTLocals.rateAndReview.ui.showUserMediaRatingError()}function v(e){var t=RottenTomatoes.formUI.starsRating.rating||l.pendingReview.score,n=RottenTomatoes.formUI.minimumCharacterCounter.textValue||l.pendingReview.review;RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed||""===n||(n=l.userReview.review),l=Object.assign(l||{pendingReview:{score:t,review:n,partnerId:l.pendingReview.partnerId,transactionId:l.pendingReview.transactionId}}),parseInt(l.pendingReview.score)===l.userReview.score&&l.pendingReview.review===l.userReview.review&&""===l.pendingReview.partnerId||RTLocals.rateAndReview.postReview(t,n,l.pendingReview.partnerId,l.pendingReview.transactionId,l.userInfo,e)}function _(){v(!0)}function f(){RTLocals.rateAndReview.ui.handleStarSelect(),l.pendingReview.score=RottenTomatoes.formUI.starsRating.rating}function T(e,t){$(t).addClass("hide"),$(e).removeClass("hide")}function p(){$(i.SUB_MODAL_VERIFY_TICKET_BTN).on("click",function(){RottenTomatoes.multiPageModal.closeSubModal()})}function R(){var e=$(i.SUBMIT_RATING_AND_REVIEW_BTN);e.off(),e.on("click",function(){var e=[].slice.call(document.querySelectorAll(i.VERIFIED_TICKET_VENDOR)).reduce(function(e,t){return e||t.classList.contains(n)},!1);if(RTLocals.rateAndReview.ui.clearInputErrorMessage(),"AMC"===l.pendingReview.partnerId&&!g())return RTLocals.rateAndReview.ui.displayInputErrorMessage();e||c!==t.INITIAL_VERIFICATION?v():(RottenTomatoes.multiPageModal.closeSubModal(),RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#verify-ticket-alert",actions:function(){p(),E()}}))})}function E(){$(i.SUBMIT_WITHOUT_VERIFICATION_BTN).on("click",function(){switch(c){case t.INITIAL_RATE_AND_REVIEW:case t.EDIT_RATE_AND_REVIEW:case t.EDIT_VERIFICATION:v();break;case t.INITIAL_VERIFICATION:RottenTomatoes.multiPageModal.closeSubModal(),RTLocals.rateAndReview.ui.closeRateAndReviewModal(!0)}})}function g(){var e=$(i.VERIFIED_TICKET_NUMERICAL_INPUT);return e.val()&&(10===e.val().length||0===e.val().length)&&e.val().match(/^[0-9]*$/)}function I(e){l.userInfo?Object.assign(l.userInfo||{},e):l.userInfo=e,RTLocals.rateAndReview.widget.renderUserName(l.userInfo),RTLocals.rateAndReview.widget.renderSuperReviewer(l.userInfo),RTLocals.rateAndReview.widget.renderUserThumbnail(l.userInfo);e={mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType};RTLocals.rateAndReview.getReview(e).then(A).catch(h)}function w(){l.userInfo={},l.userReview=null,l.pendingReview={score:"0",review:"",partnerId:"",transactionId:""}}function A(e){e&&(l.userReview=e,RTLocals.rateAndReview.widget.renderUserRatingScore(e.score),RTLocals.rateAndReview.widget.renderUserReview(e))}RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,I),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,w),RottenTomatoes.eventQ.register(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,A),RottenTomatoes.rateAndReview={state:l,mobileInit:function(){u=RottenTomatoes.context.canVerifyRatings;var e=l.userReview&&l.userReview.score||0,t=l.userReview&&l.userReview.review||"";(d=0<e)&&u?RTLocals.rateAndReview.modalSetup.mobile.verifiableEdit(l):d&&!u?RTLocals.rateAndReview.modalSetup.mobile.nonVerifiableEdit():!d&&u?RTLocals.rateAndReview.modalSetup.mobile.verifiableInitial():RTLocals.rateAndReview.modalSetup.mobile.nonVerifiableInitial(),RottenTomatoes.formUI.minimumCharacterCounter.init(t),RottenTomatoes.formUI.starsRating.init(e||"0"),RottenTomatoes.mobileDrawer.init(),$(i.STAR).on("click touchend",f)},desktopInit:function(e){u=RottenTomatoes.context.canVerifyRatings;var t=l.userReview&&l.userReview.score||0,n=l.userReview&&l.userReview.review||"";(d=0<t)&&u?RTLocals.rateAndReview.modalSetup.desktop.verifiableEdit(l,e):d&&!u?RTLocals.rateAndReview.modalSetup.desktop.nonVerifiableEdit():!d&&u?RTLocals.rateAndReview.modalSetup.desktop.verifiableInitial():RTLocals.rateAndReview.modalSetup.desktop.nonVerifiableInitial(),RottenTomatoes.formUI.minimumCharacterCounter.init(n),RottenTomatoes.formUI.starsRating.init(e||0),RottenTomatoes.mobileDrawer.init(),0<e&&f(),$(i.STAR).on("click touchend",f)},desktopInterstitialInit:function(){var e=RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.enableInterstitials||!1,n=document.querySelector(i.VERIFIED_TICKET_INTERSTITIAL_DESKTOP);e?(RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.explanations||[]).forEach(function(e){var t=RottenTomatoes.sanitizer.text(e&&e.color),t=n.querySelector("[class*="+t+"]");t.querySelector("p").innerText=RottenTomatoes.sanitizer.text(e&&e.explanation),t.querySelector("img").src=RottenTomatoes.sanitizer.url(e&&e.imageSrc)}):n.classList.add(a)},setCurrentStep:function(e){c=e},isInputNumberTenDigit:g,modalFunctions:{registerInitialReviewCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){"0"!==l.pendingReview.score?RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#submit-review-alert",actions:function(){$(i.SUB_MODAL_REMOVE_REVIEW_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:"0",review:"",partnerId:""}}),RTLocals.rateAndReview.ui.closeRateAndReviewModal(),RTLocals.rateAndReview.ui.returnRatingStarsToUnSelected()}),E()}}):RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerKeepWritingButtonHandler:function(){$(i.MOBILE_DRAWER_KEEP_WRITING_BTN).on("click",RottenTomatoes.mobileDrawer.closeDrawer)},registerSubmitRatingAndReviewButtonHandler:R,registerContentResizeHandler:function(){window.addEventListener("resize",RTLocals.rateAndReview.ui.resizeScrollableArea)},registerSubmitOnlyButtonHandler:function(){$(i.SUBMIT_ONLY_RATING_BTN).on("click",function(){RottenTomatoes.mobileDrawer.closeDrawer(),v(),RottenTomatoes.formUI.minimumCharacterCounter.setTextValue(""),l.pendingReview.review="",u&&c===t.INITIAL_RATE_AND_REVIEW?(_(),m()):v()})},registerEditReviewDiscardChangesButtonHandler:function(){$(i.EDIT_REVIEW_DISCARD_CHANGES_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:l.userReview.score,review:l.userReview.review,partner:""}}),RottenTomatoes.mobileDrawer.closeDrawer(),RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerSubmitRatingWithoutVerificationHandler:E,registerEditReviewCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){!function(){var e;e=null===l.userReview.review?""===RottenTomatoes.formUI.minimumCharacterCounter.textValue:l.userReview.review===RottenTomatoes.formUI.minimumCharacterCounter.textValue;return l.userReview.score===parseFloat(RottenTomatoes.formUI.starsRating.rating)&&e}()?RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#discard-review-change-alert",actions:function(){$(i.SUB_MODAL_DISCARD_CHANGE_BTN).on("click",function(){l=Object.assign(l||{pendingReview:{score:l.userReview.score,review:l.userReview.review,partnerId:""}}),RTLocals.rateAndReview.ui.closeRateAndReviewModal()}),R()}}):RTLocals.rateAndReview.ui.closeRateAndReviewModal()})},registerNextSubmitButtonHandler:function(){$(i.NEXT_SUBMIT_BTN).on("click",function(){"0"!==l.pendingReview.score&&(RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed?u?(_(),m()):v():RottenTomatoes.mobileDrawer.openDrawer(i.DRAWER_INITIAL_REVIEW))})},registerVerifyCloseBtnHandler:function(){var e=$(i.CLOSE_MODAL_BTN);e.off(),e.on("click",function(){RottenTomatoes.multiPageModal.triggerSubModal({htmlContainer:"#verify-ticket-alert",actions:function(){p(),E()}})})},registerInputCancelBtnHandler:function(){var e=$(i.VERIFIED_TICKET_CANCEL_BUTTON);e.on("focus",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).addClass(o)}),e.on("click",function(e){var t=$(this);t.closest(i.VERIFIED_TICKET_VENDOR).addClass(o),l.pendingReview.transactionId=t.val();var n=t.siblings(i.VERIFIED_TICKET_NUMERICAL_INPUT).val("");n.val(""),n.focus(),e.stopPropagation(),t.addClass(a)})},registerVerifiedTicketProviderSelectHandler:function(){$(i.VERIFIED_TICKET_VENDOR).on("click keyup",function(e){1!==e.which&&13!==e.which||($(this).blur(),e=this,RTLocals.rateAndReview.ui.updateVerifiedTicketProvider(e),l.pendingReview.partnerId=$(e).data("vendor"),l.pendingReview.transactionId=$(e).find(i.VERIFIED_TICKET_NUMERICAL_INPUT).val())})},registerEditVerifiedTicketButtonHandler:function(){$(i.VERIFIED_TICKET_EDIT_BUTTON).on("click",function(){l.pendingReview.score=RottenTomatoes.formUI.starsRating.rating,l.pendingReview.review=RottenTomatoes.formUI.minimumCharacterCounter.textValue,m()})},registerEditReviewSubmitButton:function(){$(i.EDIT_REVIEW_SUBMIT_BTN).on("click",function(){return RTLocals.rateAndReview.ui.clearInputErrorMessage(),"AMC"!==l.pendingReview.partnerId||g()?void(RottenTomatoes.formUI.minimumCharacterCounter.minCountCheckPassed||""===(RottenTomatoes.formUI.minimumCharacterCounter.textValue||l.pendingReview.review)?v():(function(){if(Number(l.pendingReview.score)!==Number(l.userReview.score))return T(i.SUBMIT_ONLY_RATING_BTN,i.EDIT_REVIEW_DISCARD_CHANGES_BTN);T(i.EDIT_REVIEW_DISCARD_CHANGES_BTN,i.SUBMIT_ONLY_RATING_BTN)}(),RottenTomatoes.mobileDrawer.openDrawer(i.DRAWER_EDIT_REVIEW))):RTLocals.rateAndReview.ui.displayInputErrorMessage()})},registerBackModalHandler:function(){$(i.BACK_MODAL_BTN).on("click",function(){RottenTomatoes.multiPageModal.loadPage(e.RATE_AND_REVIEW),RottenTomatoes.formUI.minimumCharacterCounter.init(l.pendingReview.review),RottenTomatoes.formUI.starsRating.init(l.pendingReview.score),$(i.VERIFIED_TICKET_EDIT_BUTTON).html(l.pendingReview.partner||"Select ticket provider")})},registerInterstitialContinueBtnHandler:function(){$(i.CONTINUE_BTN).on("click",function(){RTLocals.rateAndReview.interstitial.stopInterstitialSequence(),RottenTomatoes.multiPageModal.loadPage(e.VERIFICATION)})},registerAMCHelpButtonHandler:function(){$(i.AMC_HELP_BTN).on("click touch",function(){RottenTomatoes.mobileDrawer.openDrawer(i.AMC_HELP_DRAWER)}),$(i.AMC_HELP_BTN).on("keyup",function(){event.keyCode!==r&&event.keyCode!==s||RottenTomatoes.mobileDrawer.openDrawer(i.AMC_HELP_DRAWER)})},registerInputHandler:function(){$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("click focusin",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).addClass(o),e.stopPropagation()}),$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("focusout",function(e){$(this).closest(i.VERIFIED_TICKET_VENDOR).removeClass(o)}),$(i.VERIFIED_TICKET_NUMERICAL_INPUT).on("input",function(e){var t=$(this);if(10<t.val().length&&46!==e.which&&8!==e.which)return t.val(t.val().slice(0,-1)),e.preventDefault();l.pendingReview.transactionId=t.val(),0!==t.val().length?$(i.VERIFIED_TICKET_CANCEL_BUTTON).removeClass(a):$(i.VERIFIED_TICKET_CANCEL_BUTTON).addClass(a)})},checkVerificationStatusForMobileEdit:function(){l.userReview&&!0===l.userReview.isVerified&&($(i.VERIFIED_TICKET_EDIT_BUTTON).text(l.userReview.submittedPartnerId),$(i.VERIFIED_TICKET_EDIT_BUTTON).removeClass("edit-review__vas-provider-arrow"),$(i.VERIFIED_TICKET_EDIT_BUTTON).off())}}}}(),function(){var n=".js-multi-page-modal",e="review",t="interstitial",i="verify",o="edit-review",a="edit-interstitial",r="edit-verify",s="#rate-and-review-submission",l="#edit-review-submission",c="#vas-submission",d="#edit-vas-submission",u="#interstitial";function m(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingWithoutVerificationHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler()}}])}function h(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingWithoutVerificationHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton()}}])}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{modalSetup:{desktop:{verifiableInitial:function(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler()}},{htmlContainer:null},{htmlContainer:c,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(i),RottenTomatoes.rateAndReview.desktopInterstitialInit(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler()}}])},verifiableEdit:function(e,t){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditVerifiedTicketButtonHandler(t),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RTLocals.rateAndReview.verifyTicket.setVerifiedTicketProvider(e.userReview)}},{htmlContainer:d,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(r),RottenTomatoes.rateAndReview.modalFunctions.registerBackModalHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler()}}])},nonVerifiableInitial:m,nonVerifiableEdit:h},mobile:{verifiableInitial:function(){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:s,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(e),RottenTomatoes.rateAndReview.modalFunctions.registerInitialReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerNextSubmitButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler()}},{htmlContainer:u,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(t),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInterstitialContinueBtnHandler()}},{htmlContainer:c,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(i),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RTLocals.rateAndReview.ui.changeVerifyTicketContentPadding()}}])},verifiableEdit:function(e){RottenTomatoes.multiPageModal.init(n,[{htmlContainer:l,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(o),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditVerifiedTicketButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewSubmitButton(),RottenTomatoes.rateAndReview.modalFunctions.registerKeepWritingButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitOnlyButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewDiscardChangesButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RottenTomatoes.rateAndReview.modalFunctions.checkVerificationStatusForMobileEdit()}},{htmlContainer:u,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(a),RottenTomatoes.rateAndReview.modalFunctions.registerVerifyCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInterstitialContinueBtnHandler()}},{htmlContainer:d,actions:function(){RottenTomatoes.rateAndReview.setCurrentStep(r),RottenTomatoes.rateAndReview.modalFunctions.registerBackModalHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerEditReviewCloseBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerVerifiedTicketProviderSelectHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerSubmitRatingAndReviewButtonHandler(),RTLocals.rateAndReview.ui.changeVerifyTicketContentPadding(),RTLocals.rateAndReview.verifyTicket.setVerifiedTicketProvider(e.userReview),RottenTomatoes.rateAndReview.modalFunctions.registerInputCancelBtnHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerInputHandler(),RottenTomatoes.rateAndReview.modalFunctions.registerAMCHelpButtonHandler()}}])},nonVerifiableInitial:m,nonVerifiableEdit:h}}})}(),function(){var l,e=".js-resubmit-btn",t=".js-rating-widget-edit-icon-btn",c={HIDE:"hide"},d={ResubmitButton:{LOADING:"Submitting...",TEXT:"Submit review"},PROFANITY_ALERT:"Your review does not meet our community guidelines. Please edit out any offensive language and try again."},u={mediaType:RottenTomatoes.context.ratingMediaInfo.mediaType,mediaId:RottenTomatoes.context.ratingMediaInfo.mediaId,userInfo:null,pendingReview:null},m=null,h=$(e),v=$(t);function n(e,t,n,i,o){return RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.REVIEW_SUBMISSION_STARTED,o),navigator&&navigator.onLine||(T(e,t,n,i),f(o)),_(e,t,n,i,o)}function _(e,t,n,i,o){if(l&&l.hasProfanity(t))return window.alert(d.PROFANITY_ALERT);T(e,t,n,i);var a,r,s={mediaId:u.mediaId,mediaType:u.mediaType,displayName:(a=u.userInfo.firstName||"",r=u.userInfo.lastName&&u.userInfo.lastName.slice(0,1)||"",a+" "+r),isSuperReviewer:u.userInfo&&u.userInfo.isSuperReviewer,score:e,reviewText:t,partnerId:n,transactionId:i};return new Promise(function(t,e){RottenTomatoes.context.disableReviewSubmission?(f(o),e()):RottenTomatoes.rating.updateRating(s).then(function(e){e.partnerId=s.partnerId,e.isImplicitPost=o,m={initialScore:e.score||0,initialReview:e.review||""},RTLocals.rateAndReview.widget.renderUserRatingScore(e.score,m.initialScore),RTLocals.rateAndReview.widget.renderUserReview(e),RTLocals.rateAndReview.widget.renderWTS(e.score,m.initialScore),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_POSTED,e),t()}).catch(function(){f(o),e()})})}function f(e){RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.FAIL_RATING_POST,e);var t=RottenTomatoes.rateAndReview.state.userReview.score,n=u.pendingReview&&u.pendingReview.score,e=u.pendingReview&&u.pendingReview.reviewText;RTLocals.rateAndReview.widget.renderUserRatingScore(n),RTLocals.rateAndReview.widget.renderUserReview({review:e}),RTLocals.rateAndReview.widget.renderWTS(n,t),RTLocals.rateAndReview.ui.reviewPostFailureMessage.show(),v.addClass(c.HIDE),h.removeClass(c.HIDE)}function T(e,t,n,i){u.pendingReview={score:e,reviewText:t,partnerId:n,transactionId:i}}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{postReview:function(o,a,r,s,e,t){u.userInfo=e,function(){var e;try{e=JSON.parse(window.atob(RottenTomatoes.context.badWordsList))}catch(e){}var t=RottenTomatoes.profanityFilter;t&&e&&(l=(new t).loadBadWords(e))}(),n(o,a,r,s,t),h.off(),h.on("click",function(){var e,t,n,i;e=o,t=a,n=r,i=s,h.text(d.ResubmitButton.LOADING),_(e,t,n,i).then(function(){h.addClass(c.HIDE),v.removeClass(c.HIDE),RTLocals.rateAndReview.ui.reviewPostFailureMessage.hide()}).catch(function(){h.text(d.ResubmitButton.TEXT)})})}})}(),RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{getReview:function(e){return new Promise(function(t,n){RottenTomatoes.rating.getRating(e).then(function(e){t(e)}).catch(function(e){n(e)})})}}),function(){var i,o,a,r,s,l,c,t={RATE_AND_REVIEW_MODAL:".js-multi-page-modal",INTERSTITIAL_CIRCLE_CHECK:".js-interstitial__circle--check",INTERSTITIAL_CIRCLE_TWO:".js-interstitial__circle--two",INTERSTITIAL_MAIN_COLOR:".js-interstitial__main-color",INTERSTITIAL_LIGHT_COLOR:".js-interstitial__light-color",INTERSTITIAL_IMAGE:".js-interstitial-image",INTERSTITIAL_EXPLANATION:".js-interstitial-explanation"},d={interstitial:{red:{BACKGROUND:"interstitial__background--red ",DARK_COLOR:"interstitial__color--dark-red",LIGHT_COLOR:"interstitial__color--light-red",DARK_CIRCLE:"interstitial__circle-color--dark-red",LIGHT_CIRCLE:"interstitial__circle-color--light-red"},green:{BACKGROUND:"interstitial__background--green",DARK_COLOR:"interstitial__color--dark-green",LIGHT_COLOR:"interstitial__color--light-green",DARK_CIRCLE:"interstitial__circle-color--dark-green",LIGHT_CIRCLE:"interstitial__circle-color--light-green"},blue:{BACKGROUND:"interstitial__background--blue",DARK_COLOR:"interstitial__color--dark-blue",LIGHT_COLOR:"interstitial__color--light-blue",DARK_CIRCLE:"interstitial__circle-color--dark-blue",LIGHT_CIRCLE:"interstitial__circle-color--light-blue"}}},u=!1;function m(){i.removeClass(d.interstitial.red.BACKGROUND).removeClass(d.interstitial.green.BACKGROUND).removeClass(d.interstitial.blue.BACKGROUND),o.removeClass(d.interstitial.red.LIGHT_COLOR).removeClass(d.interstitial.green.LIGHT_COLOR).removeClass(d.interstitial.blue.LIGHT_COLOR),a.removeClass(d.interstitial.red.DARK_COLOR).removeClass(d.interstitial.green.DARK_COLOR).removeClass(d.interstitial.blue.DARK_COLOR),l.removeClass(d.interstitial.red.LIGHT_CIRCLE).removeClass(d.interstitial.green.LIGHT_CIRCLE).removeClass(d.interstitial.blue.LIGHT_CIRCLE),c.removeClass(d.interstitial.red.DARK_CIRCLE).removeClass(d.interstitial.green.DARK_CIRCLE).removeClass(d.interstitial.blue.DARK_CIRCLE)}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{interstitial:{startInterstitialSequence:function(){u=!0,i=$(t.RATE_AND_REVIEW_MODAL),o=$(t.INTERSTITIAL_LIGHT_COLOR),a=$(t.INTERSTITIAL_MAIN_COLOR),r=$(t.INTERSTITIAL_IMAGE),s=$(t.INTERSTITIAL_EXPLANATION),l=$(t.INTERSTITIAL_CIRCLE_CHECK),c=$(t.INTERSTITIAL_CIRCLE_TWO);var e=RottenTomatoes.context.interstitialsConfig&&RottenTomatoes.context.interstitialsConfig.explanations||[],n=0;e.forEach(function(t){setTimeout(function(){var e;u&&(m(),e=RottenTomatoes.sanitizer.text(t&&t.color),i.addClass(d.interstitial[e="red"!==e&&"green"!==e&&"blue"!==e?"red":e].BACKGROUND),o.addClass(d.interstitial[e].LIGHT_COLOR),a.addClass(d.interstitial[e].DARK_COLOR),l.addClass(d.interstitial[e].LIGHT_CIRCLE),c.addClass(d.interstitial[e].DARK_CIRCLE),r.attr("src",RottenTomatoes.sanitizer.url(t&&t.imageSrc)),s.text(RottenTomatoes.sanitizer.text(t&&t.explanation)))},n),n+=4500})},stopInterstitialSequence:function(){i.css("transition","none"),u=!1,m()}}})}(),function(){var o=".js-verify-ticket-header",a=".js-verified-ticket-vendor",r="verify-ticket__theater--success";RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{verifyTicket:{setVerifiedTicketProvider:function(e){var t=window.__RT__.getNamespace(e,"submittedPartnerId",null),n=window.__RT__.getNamespace(e,"submittedTransactionId",""),i=window.__RT__.getNamespace(e,"verificationStatus",null);"DENIED"!==i&&t&&(e="".concat(a,'[data-vendor="').concat(t,'"]'),(t=document.querySelector(e))&&t.click(),(e=$(e).find("input")).val(n),"VERIFIED"===i&&($(o).text("Same ticket provider as last time?"),t.classList.add(r),e.prop("disabled",!0)))}}})}(),function(){var t={NEXT_SUBMIT_BTN:".js-next-submit-btn",DISCARD_REVIEW_BTN:"#discard-review",RATE_AND_REVIEW_MODAL:".js-multi-page-modal",RATE_AND_REVIEW_MODAL_HEADER:".js-rate-and-review-modal-header",RATING_STAR:".js-star-rating-draggable",REVIEW_TEXTAREA_GROUP:".js-rate-and-review-textarea-group",REVIEW_TEXTAREA_HEADER:".js-rate-and-review-textarea-header",REVIEW_TEXTAREA:".js-textarea-with-counter-text",SUBMIT_BTN_EDIT_REVIEW:"#edit-review-submit",SUBMIT_BTN:".js-submit-review",SUBMIT_ONLY_RATING_BTN:".js-submit-only-rating-btn",SUBMIT_OR_NEXT_BTN:".js-next-submit-btn",SUBMIT_WO_VERIFICATION_BTN:".js-submit-review-without-verification",VERIFIED_TICKET_CONTENT:".js-verify-ticket-content",VERIFIED_TICKET_VENDOR:".js-verified-ticket-vendor",VERIFIED_TICKET_DISCLAIMER:".js-verified-ticket-disclaimer",VERIFIED_TICKET_BTN_GROUP:".js-verify-btn-group",VERIFIED_TICKET_LEGAL:".js-verify-ticket-legal",VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER:".js-verified-ticket-input-message-container",VERIFIED_TICKET_INPUT_ERROR_MESSAGE:".js-verify-ticket-input-error-message",VERIFIED_TICKET_NUMBER_INPUT:".js-verify-ticket-number-input",WANT_TO_SEE_BTN:".js-rating-wts-btn",MORE_INFO_BTN:".js-mop-more-btn"},i={DISABLED:"disabled",HIDE:"hide",NO_SCROLL:"noscroll",RATE_AND_REVIEW_MODAL_HIDDEN:"rate-and-review--hidden",REVIEW_TEXTAREA_GROUP_HIDDEN:"rate-and-review__textarea-group--hidden",REVIEW_TEXTAREA_HEADER_HIDDEN:"rate-and-review__textarea-header--hidden",REVIEW_TEXTAREA_HEADER_ACTIVE:"rate-and-review__textarea-header--active",SUBMIT_BTN_GRAY:"rate-and-review__button--gray",VERIFIED_TICKET_VENDOR_SELECTED:"verify-ticket__theater--selected",VERIFIED_TICKET_INPUT_ERROR:"verify-ticket-number-input--error",VERIFIED_TICKET_INPUT_GRAYED:"verify-ticket__number-input--grayed-out"},e="Confirmation# should be 10 numerical digits",n='<rt-icon icon="spinner"></rt-icon>',o="FANDANGO",a=120,r=window.matchMedia("only screen and (max-width: 760px)").matches;function s(){var e=document.querySelector(t.VERIFIED_TICKET_BTN_GROUP).getBoundingClientRect().height+a+"px";document.querySelector(t.VERIFIED_TICKET_CONTENT).style.paddingBottom=e}var l="Submit",c="Submit",d="Submit",u="Submit & exit",m="Submit only my rating";function h(){$(t.VERIFIED_TICKET_INPUT_ERROR_MESSAGE).addClass(i.HIDE).html(""),$(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_ERROR)}RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{ui:{displayInputErrorMessage:function(){$(t.VERIFIED_TICKET_INPUT_ERROR_MESSAGE).removeClass(i.HIDE).append(e),$(t.VERIFIED_TICKET_NUMBER_INPUT).addClass(i.VERIFIED_TICKET_INPUT_ERROR)},clearInputErrorMessage:h,closeRateAndReviewModal:function(e){$("body").removeClass(i.NO_SCROLL),h(),$(t.REVIEW_TEXTAREA_GROUP).addClass(i.REVIEW_TEXTAREA_GROUP_HIDDEN),$(t.REVIEW_TEXTAREA_HEADER).removeClass(i.REVIEW_TEXTAREA_HEADER_ACTIVE).addClass(i.REVIEW_TEXTAREA_HEADER_HIDDEN),$(t.NEXT_SUBMIT_BTN).attr("disabled",!0),$(t.RATE_AND_REVIEW_MODAL).addClass(i.RATE_AND_REVIEW_MODAL_HIDDEN),RottenTomatoes.eventQ.emit(RottenTomatoes.rating.EVENT_NAMES.RATING.RATING_MODAL_CLOSED,{displaySubmitMessage:e})},disableVerificationElements:function(){$(t.VERIFIED_TICKET_VENDOR).addClass(i.DISABLED),$(t.REVIEW_TEXTAREA).addClass(i.DISABLED),$(t.RATING_STAR).addClass(i.DISABLED),$(t.DISCARD_REVIEW_BTN).addClass(i.DISABLED),$(t.SUBMIT_BTN_EDIT_REVIEW).addClass(i.DISABLED),$(t.SUBMIT_BTN).addClass(i.DISABLED),$(t.SUBMIT_OR_NEXT_BTN).addClass(i.DISABLED),$(t.SUBMIT_WO_VERIFICATION_BTN).addClass(i.DISABLED),$(t.SUBMIT_ONLY_RATING_BTN).addClass(i.DISABLED),$(t.VERIFIED_TICKET_NUMBER_INPUT).addClass(i.VERIFIED_TICKET_INPUT_GRAYED)},enableVerificationElements:function(){$(t.VERIFIED_TICKET_VENDOR).removeClass(i.DISABLED),$(t.REVIEW_TEXTAREA).removeClass(i.DISABLED),$(t.RATING_STAR).removeClass(i.DISABLED),$(t.DISCARD_REVIEW_BTN).removeClass(i.DISABLED),$(t.SUBMIT_BTN_EDIT_REVIEW).removeClass(i.DISABLED),$(t.SUBMIT_BTN).removeClass(i.DISABLED),$(t.SUBMIT_OR_NEXT_BTN).removeClass(i.DISABLED),$(t.SUBMIT_WO_VERIFICATION_BTN).removeClass(i.DISABLED),$(t.SUBMIT_ONLY_RATING_BTN).removeClass(i.DISABLED),$(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_GRAYED)},handleStarSelect:function(){$(t.REVIEW_TEXTAREA_GROUP).removeClass(i.REVIEW_TEXTAREA_GROUP_HIDDEN),$(t.REVIEW_TEXTAREA_HEADER).addClass(i.REVIEW_TEXTAREA_HEADER_ACTIVE).removeClass(i.REVIEW_TEXTAREA_HEADER_HIDDEN),$(t.NEXT_SUBMIT_BTN).removeAttr("disabled")},openRateAndReviewModal:function(){$("body").addClass(i.NO_SCROLL),$(t.RATE_AND_REVIEW_MODAL).removeClass(i.RATE_AND_REVIEW_MODAL_HIDDEN)},updateVerifiedTicketProvider:function(e){e=$(e),$(t.VERIFIED_TICKET_VENDOR).removeClass(i.VERIFIED_TICKET_VENDOR_SELECTED).find(t.VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER).addClass(i.HIDE),e.addClass(i.VERIFIED_TICKET_VENDOR_SELECTED).find(t.VERIFIED_TICKET_INPUT_MESSAGE_CONTAINER).removeClass(i.HIDE).find(t.VERIFIED_TICKET_NUMBER_INPUT).removeClass(i.VERIFIED_TICKET_INPUT_FOCUS),e.data("vendor")===o?document.querySelector(t.VERIFIED_TICKET_LEGAL).classList.contains("hide")&&($(t.VERIFIED_TICKET_LEGAL).removeClass("hide"),r&&s()):($(t.VERIFIED_TICKET_LEGAL).addClass("hide"),r&&s())},restoreSubmitBtns:function(){$(t.SUBMIT_BTN_EDIT_REVIEW).removeClass(i.SUBMIT_BTN_GRAY).html(l),$(t.SUBMIT_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(c),$(t.SUBMIT_OR_NEXT_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(d),$(t.SUBMIT_WO_VERIFICATION_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(u),$(t.SUBMIT_ONLY_RATING_BTN).removeClass(i.SUBMIT_BTN_GRAY).html(m)},returnRatingStarsToUnSelected:function(){document.querySelectorAll(t.STAR_DISPLAY).forEach(function(e){e.classList.remove(i.STAR_DISPLAY_FILLED),e.classList.remove(i.STAR_DISPLAY_FILLED),e.classList.add(i.STAR_DISPLAY_EMPTY);for(var t=e.children,n=0;n<t.length;n+=1)t[n].classList.remove(i.STAR_SCORE)})},changeSubmitBtnsToSpinners:function(){l=$(t.SUBMIT_BTN_EDIT_REVIEW).html(),c=$(t.SUBMIT_BTN).html(),d=$(t.SUBMIT_OR_NEXT_BTN).html(),u=$(t.SUBMIT_WO_VERIFICATION_BTN).html(),m=$(t.SUBMIT_ONLY_RATING_BTN).html(),$(t.SUBMIT_BTN_EDIT_REVIEW).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_OR_NEXT_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_WO_VERIFICATION_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n),$(t.SUBMIT_ONLY_RATING_BTN).addClass(i.SUBMIT_BTN_GRAY).html(n)},changeVerifyTicketContentPadding:s}})}(),function(){var e=".js-rate-review-widget",t=".js-review-submitted-message__review-info",n=".js-review-submitted-message",i=".js-user-rating-error-header",o=".js-user-rating-error-text",a=".js-user-rating-error-close-button",r=".js-edit-review-btn",s=".js-rating-wts-btn",l="hide",c="review-submitted-message__review-info--error",d={header:"We had trouble submitting your review.",text:"Itâ€™s not you, itâ€™s us. You might have better luck if you try again in a minute."},u={header:"We had trouble retrieving your review.",text:"Itâ€™s not you, itâ€™s us. You might have better luck if you try again in a minute."},m=$(".js-user-rating-error");Object.assign(RTLocals.rateAndReview.ui||{},{reviewPostFailureMessage:{show:function(){$(n).removeClass(l),$(r).addClass(l),$(s).addClass(l),$(t).removeClass(l).addClass(c).html("<strong>"+d.header+"</strong><br />"+d.text)},hide:function(){$(n).addClass(l),$(t).addClass(l).addClass(c).html("<strong>"+d.header+"</strong><br />"+d.text)}},showUserMediaRatingError:function(){$(e).addClass(l),m.removeClass(l),$(a).on("click",function(){m.addClass(l)}),$(i).html(u.header),$(o).html(u.text)}})}(),function(){var o={EDIT_ICON_BTN:".js-rating-widget-edit-icon-btn",EDIT_REVIEW_BTN:".js-edit-review-btn",EDIT_REVIEW_MOBILE_BTN:".js-edit-review-mobile-btn",INITIAL_DESKTOP_STARS:".js-rating-widget-initial-desktop-stars",RATINGS_MOBILE_WRAP:".js-rating-widget-mobile-wrap",RATING_MODAL_OPEN_BTN:".js-rating-widget-mobile-review-modal-button",REVIEW_DESCRIPTION:".js-rating-widget-mobile-add-review-text",REVIEWED_CONTAINER:".js-rating-widget-reviewed-container",RATING_STARS_MOBILE_WRAP:".js-rating-widget-mobile-stars-wrap",REVIEW_TEXTAREA:".js-rating-textbox-textarea",REVIEW_COMMENT:".js-rating-widget-comment",REVIEW_IS_VERIFIED:".js-rating-widget-is-verified",REVIEW_DURATION_SINCE_RATING_CREATION:".js-rating-widget-duration-since-rating-creation",STAR_RATING_STATIC:".js-star-rating-static",STAR_RATING_STATIC_SCORE:".js-star-rating-static.icon-star--checked",STARS_RATING_STATIC_CONTAINER:".js-stars-rating-static-container",SUPER_REVIEWER:".js-rating-widget-super-reviewer",USER_INFO_MOBILE:".js-rate-and-review-widget-mobile-header",USER_INFO_DESKTOP:".js-rate-and-review-widget-header",USER_NAME:".js-rating-widget-username",USER_THUMBNAIL:".js-rating-widget-user-thumb",WANT_TO_SEE_BTN:".js-rating-wts-btn",WIDGET_RATING_STAR:".js-modal-widget-star"},a={HIDE:"hide",ICON_STAR_CHECKED:"icon-star--checked",STAR_RATING_STATIC_MOBILE:"star-rating-static__mobile",STARS_RATING_CONTAINER_IS_NOT_RATED:"stars-rating__container--is-not-rated",SUPER_REVIEWER_HIDDEN:"super-reviewer-badge--hidden",WIDGET_EDIT_ICON_HIDDEN:"rate-and-review-widget__icon-edit--hidden",WIDGET_REVIEW_CONTAINER_HIDDEN:"rate-and-review-widget__reviewed-container--hidden",TEXT_CENTER:"text-center",REVIEW_PRESENT:"review-present"};function e(){RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()}function t(){var e=window.matchMedia("only screen and (max-width: 760px)").matches,t=parseFloat($(o.STAR_RATING_STATIC_SCORE).data("rating"));document.querySelector("analytics-manager").state.user.customerId?(e?(RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()):RottenTomatoes.rateAndReview.desktopInit(t),RTLocals.rateAndReview.ui.openRateAndReviewModal()):n()}function n(){document.querySelector("analytics-manager").state.user.customerId||document.dispatchEvent(new CustomEvent("auth",{detail:{referer:"RATING"}}))}function i(){$(o.USER_INFO_MOBILE).removeClass(a.HIDE),$(o.USER_INFO_DESKTOP).removeClass(a.HIDE)}function r(){$(o.USER_INFO_MOBILE).addClass(a.HIDE),$(o.USER_INFO_DESKTOP).addClass(a.HIDE),$(o.EDIT_ICON_BTN).addClass(a.WIDGET_EDIT_ICON_HIDDEN),$(o.REVIEWED_CONTAINER).addClass(a.WIDGET_REVIEW_CONTAINER_HIDDEN),$(o.INITIAL_DESKTOP_STARS).removeClass(a.HIDE),$(o.REVIEW_TEXTAREA).removeClass(a.HIDE)}$(o.EDIT_ICON_BTN).click(t),$(o.EDIT_REVIEW_MOBILE_BTN).click(t),$(o.REVIEW_TEXTAREA).click(t),$(o.RATING_MODAL_OPEN_BTN).click(e),$(o.STAR_RATING_STATIC).on("click touch",function(){var e=$(this);document.querySelector("analytics-manager").state.user.customerId?e.hasClass(a.STAR_RATING_STATIC_MOBILE)&&(RottenTomatoes.rateAndReview.mobileInit(),RTLocals.rateAndReview.ui.openRateAndReviewModal()):n()}),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGIN,i),RottenTomatoes.eventQ.register(RottenTomatoes.consts.EventNames.AUTH.LOGOUT,r),RTLocals.rateAndReview=Object.assign(RTLocals.rateAndReview||{},{widget:{renderUserName:function(e){var t=e.firstName||"",e=e.lastName&&e.lastName.slice(0,1)||"";$(o.USER_NAME).text(t+" "+e)},renderSuperReviewer:function(e){e.isSuperReviewer&&$(o.SUPER_REVIEWER).removeClass(a.SUPER_REVIEWER_HIDDEN)},renderUserThumbnail:function(e){var t,n=$(o.USER_THUMBNAIL),i=e.thumbnailUrl||"",e=e.profileUrl||"";i&&(t=$(o.USER_THUMBNAIL).attr("src")),n.attr("src",i||t),n.parent().attr("href",e)},renderUserRatingScore:function(e,t){var n=$(o.STARS_RATING_STATIC_CONTAINER);switch(t=t||"0",e&&($(o.WANT_TO_SEE_BTN).addClass(a.HIDE),0!==t&&$(o.EDIT_REVIEW_BTN).removeClass(a.HIDE)),e){case"+":break;case void 0:case null:n.find(o.STAR_RATING_STATIC).removeClass(a.ICON_STAR_CHECKED);break;default:var i=Number.parseFloat?Number.parseFloat(e,10):Number(e);i&&RottenTomatoes.starsRatingStatic.renderRating(i)}e&&($(o.RATINGS_MOBILE_WRAP).addClass(a.REVIEW_PRESENT),$(o.REVIEW_DESCRIPTION).addClass(a.HIDE),$(o.RATING_MODAL_OPEN_BTN).addClass(a.HIDE),$(o.REVIEW_TEXTAREA).addClass(a.HIDE),$(o.INITIAL_DESKTOP_STARS).addClass(a.HIDE),$(o.RATING_STARS_MOBILE_WRAP).removeClass(a.HIDE),$(o.STARS_RATING_STATIC_CONTAINER).removeClass(a.HIDE),$(o.EDIT_ICON_BTN).removeClass(a.WIDGET_EDIT_ICON_HIDDEN),$(o.REVIEWED_CONTAINER).removeClass(a.WIDGET_REVIEW_CONTAINER_HIDDEN))},renderUserReview:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.review||"";(t=185<t.length?t.substr(0,185).trim()+"...":t)&&$(o.REVIEW_COMMENT).html(t).removeClass(a.HIDE),e.isVerified&&$(o.REVIEW_IS_VERIFIED).removeClass(a.HIDE),e.durationSinceRatingCreation&&$(o.REVIEW_DURATION_SINCE_RATING_CREATION).html(e.durationSinceRatingCreation).removeClass(a.HIDE)},renderWTS:function(e,t){var n=$(o.WANT_TO_SEE_BTN);e&&"-"!==e?t&&0!==t.initialScore&&n.addClass(a.HIDE):n.removeClass(a.HIDE)}}})}(),function(){var e=".js-error-toaster",t=".js-error-toaster-header",n=".js-error-toaster-message",i=".js-error-toaster-close-button",o={HIDE_ERROR_MESSAGE:"error-toaster--hidden"},a=document.querySelector(e),r=document.querySelector(t),s=document.querySelector(n),i=document.querySelector(i),l=4500;function c(){a.classList.add(o.HIDE_ERROR_MESSAGE),r.innerHTML="",s.innerHTML=""}i.addEventListener("click",c),RottenTomatoes.errorToaster={show:function(e,t){r.innerHTML=e,s.innerHTML=t,a.classList.remove(o.HIDE_ERROR_MESSAGE),setTimeout(c,l)},hide:c}}(),function(){var a={STARS_RATING_MODULE:"stars-rating-module",STAR_MESSAGE:".js-star-rating-message",STARS_GROUP:".js-stars-rating-group",STAR:".js-star-rating-draggable",STAR_TOOLTIP:".js-stars-rating-tooltip"},i={STARS_CONTAINER_IS_NOT_RATED:"stars-rating__container--is-not-rated",STARS:"icon-star",STARS_TOUCHED:"stars-rating__stars-group--touched",STARS_UNTOUCHED:"stars-rating__stars-group--untouched",STARS_DRAGGED:"stars-rating__container--isDragging",STARS_CHECKED:"icon-star--checked",STARS_RETURNED:"icon-star--returned",MESSAGE_TOUCHED:"stars-rating__msg--touched",MESSAGE_UNTOUCHED:"stars-rating__msg--untouched",MESSAGE_FOCUSED:"stars-rating__msg--focused",MESSAGE_UNFOCUSED:"stars-rating__msg--unfocused",STAR_TOOLTIP_HIDDEN:"stars-rating__tooltip--hidden"},r={HIDE_STAR_TOOLTIP:"hide_star_tooltip",NUMBER_OF_REVIEW_STARTS:"number_of_review_starts"},t={SPACE:32};function s(e){e=e.target;window.matchMedia("only screen and (max-width: 760px)").matches&&n(),T(i.STARS_CONTAINER_IS_NOT_RATED),T(i.STARS_DRAGGED),document.querySelector(a.STARS_GROUP).dataset.originalRating=e.dataset.rating,h(e)}function l(e){e.keyCode===t.SPACE&&(e.preventDefault(),s(e))}function c(e){T(i.STARS_CONTAINER_IS_NOT_RATED),h(e.target)}function d(){"0"===document.querySelector(a.STARS_GROUP).dataset.originalRating?(_(i.STARS_CHECKED),v("0"),f(i.STARS_CONTAINER_IS_NOT_RATED)):h(document.querySelector(a.STAR+'[data-rating="'+this.dataset.originalRating+'"]'))}function u(e){var t=e.touches[0];e.preventDefault(),n(),function(l,c){var e=document.querySelector(a.STARS_GROUP),t=e.querySelectorAll(a.STAR);e.classList.remove(i.STARS_UNTOUCHED),e.classList.add(i.STARS_TOUCHED),f(i.STARS_DRAGGED),document.querySelectorAll(a.STAR_MESSAGE).forEach(function(e){e.classList.add(i.MESSAGE_TOUCHED),e.classList.remove(i.MESSAGE_UNTOUCHED)});var d=!1,u=-1/0;t.forEach(function(e,t){var n,i,o,a,r,s;a=e,s=d&&(t-u!=1||t%2==0)?"-5px":"-10px",r=(3.3*(n=(r=t)<=4?-1:1)+5.8*(n<0?r-4:r-5)).toString()+"px",a.style.transition="transform .25s",a.style.transform="scale(1.6) translate("+r+", "+s+")",i=l,o=c,a=(n=e).getBoundingClientRect(),r=a.left,s=a.top,n=a.width,a=a.height,i<=r||r+n<=i||o<=s||s+a<=o||(h(e),u=t,d=!0)})}(t.clientX,t.clientY)}function n(){$(a.STAR_TOOLTIP).addClass(i.STAR_TOOLTIP_HIDDEN),RottenTomatoes.cookie.setCookie(r.HIDE_STAR_TOOLTIP,!0,RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)}function m(){var e=document.querySelector(a.STARS_GROUP),t=document.querySelector(a.STAR_MESSAGE);T(i.STARS_CONTAINER_IS_NOT_RATED),e.classList.add(i.STARS_UNTOUCHED),e.classList.remove(i.STARS_TOUCHED),t.classList.add(i.MESSAGE_UNTOUCHED),t.classList.remove(i.MESSAGE_TOUCHED),document.querySelectorAll(a.STAR_MESSAGE).forEach(function(e){e.classList.add(i.MESSAGE_UNTOUCHED),e.classList.remove(i.MESSAGE_TOUCHED)}),e.querySelectorAll(a.STAR).forEach(o),T(i.STARS_DRAGGED)}function o(e){e.style.transform="translate(0,0) scale(1)",e.style.transition="transform .2s"}function h(e){_(i.STARS_CHECKED);var t=e.dataset;v(t.rating),e.classList.add(i.STARS_CHECKED),RottenTomatoes.formUI.starsRating.rating=t.rating}function v(n){document.querySelectorAll(a.STAR_MESSAGE).forEach(function(e){e.classList.remove(i.MESSAGE_FOCUSED),e.classList.remove(i.MESSAGE_UNFOCUSED);var t=e.dataset.starUpperThreshold>=n&&e.dataset.starLowerThreshold<=n?i.MESSAGE_FOCUSED:i.MESSAGE_UNFOCUSED;e.classList.add(t)})}function _(t){document.querySelectorAll(a.STAR).forEach(function(e){e.classList.remove(t)})}function f(e){document.getElementById(a.STARS_RATING_MODULE).classList.add(e)}function T(e){document.getElementById(a.STARS_RATING_MODULE).classList.remove(e)}RottenTomatoes.formUI=Object.assign(RottenTomatoes.formUI||{},{starsRating:{rating:"0",init:function(e){var t=document.querySelector(a.STARS_GROUP),n=t.querySelectorAll(a.STAR),i=window.matchMedia("only screen and (max-width: 760px)").matches;t.dataset.originalRating=(e+="")||"0",v(t.dataset.originalRating),n.forEach(function(e){i?(e.addEventListener("touchstart",s),e.addEventListener("touchend",m),e.addEventListener("touchmove",u)):(e.addEventListener("mouseover",c),t.addEventListener("mouseleave",d)),e.addEventListener("click",s),e.addEventListener("keydown",l)}),"0"===e||(o=document.querySelector(a.STAR+'[data-rating="'+e+'"]'))&&o.click();var n=$(a.STAR_TOOLTIP),e=RottenTomatoes.cookie.getCookie(r.NUMBER_OF_REVIEW_STARTS),o=parseInt(e);RottenTomatoes.cookie.getCookie(r.HIDE_STAR_TOOLTIP)&&n.addClass("hide"),e?(4<o&&n.addClass("hide"),RottenTomatoes.cookie.setCookie(r.NUMBER_OF_REVIEW_STARTS,o+1,RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)):RottenTomatoes.cookie.setCookie(r.NUMBER_OF_REVIEW_STARTS,"1",RottenTomatoes.cookie.DEFAULT_COOKIE_EXPIRY)}}})}(),function(){var e=".js-stars-rating-static-container",t="stars-rating__container--is-not-rated",i="icon-star--checked",o=$(".js-star-rating-static"),a=$(e);RottenTomatoes.starsRatingStatic=Object.assign(RottenTomatoes.starsRatingStatic||{},{renderRating:function(n){n&&a.removeClass(t),o.removeClass(i),o.each(function(e,t){t=$(t);t.data("rating")===n&&t.addClass(i)})},removeRating:function(){o.removeClass(i),a.addClass(t)}})}(),function(){var l={RED_CIRCLE:".js-red-circle",SCORE_IN_CIRCLE:".js-inner-circle-score",ICON:".js-circle-icon"},n={ROTTEN:"score-details-circle__inner-circle--rotten"},r=12,i=59,c="icon__certified_fresh icon__fresh icon__rotten icon__NA icon__audience-empty icon__spilled";function d(e,t){return(100-(e=100<(e=(e=isNaN(e)?100:e)<0?0:e)?100:e))/100*(2*Math.PI*t)}function u(e){return e.find(l.RED_CIRCLE)}function m(e,t){t<=i?e.addClass(n.ROTTEN):e.removeClass(n.ROTTEN)}function h(e,t,n){var i=0,o=Math.abs(e-t),a=t<e?-1:1;for(n.find(l.SCORE_IN_CIRCLE).html(e);i<o;)(function(e){setTimeout(function(){n.find(l.SCORE_IN_CIRCLE).html(e)},i*r)})(e+=a),i++}RottenTomatoes.ScoreCircle={init:function(e){var t=u(e),n=t.attr("r"),i=e.data("score"),o=e.data("state");"number"==typeof i&&(h(0,i,e),null!==i&&0<=i&&e.find(l.ICON).removeClass(c).addClass("icon__"+o),t.css({strokeDashoffset:d(i,n)}),m(t,i))},update:function(e,t,n,i){var o=u(e),a=o.attr("r"),r=parseInt($(l.SCORE_IN_CIRCLE).html()),s=e.find(l.ICON);h(r,t,e),o.css({strokeDashoffset:d(t,a)}),m(o,t),i!==n&&(s.fadeOut(),setTimeout(function(){s.removeClass(c),s.addClass("icon__"+i),s.fadeIn()},500))}}}(),function(n){var i,o={CAROUSEL:".Carousel.PhotosCarousel",CAROUSEL_ITEM_LINK:".PhotosCarousel__item a",HERO_IMAGE_PLAY_BUTTON:"#heroImageContainer .playButton",PHOTOS_CAROUSEL_IMAGE:".PhotosCarousel__image",PHOTOS_CAROUSEL_PRELOAD:".PhotosCarousel .preload",RATE_IT_BUTTON:".js-rate-it-button",RATING_ROOT:"#rating-root"};function e(){n("html, body").animate({scrollTop:n(o.RATING_ROOT).offset().top-n(window).height()/2},1e3)}RottenTomatoes.photoComponent.init(o.CAROUSEL,o.CAROUSEL_ITEM_LINK,!0),RottenTomatoes.queryTool.getQuery("pid")&&(i=RottenTomatoes.queryTool.getQuery("pid"),n(o.PHOTOS_CAROUSEL_PRELOAD).each(function(e,t){t.id===i&&n(this).find(o.PHOTOS_CAROUSEL_IMAGE).click()})),n(o.HERO_IMAGE_PLAY_BUTTON).addClass("in"),n(o.RATE_IT_BUTTON).click(e),n(document).ready(function(){RottenTomatoes.clamp.init({buttonText:"Show More",buttonClass:"clamp-toggle__show-more--bold"})})}(jQuery),RottenTomatoes.pages=Object.assign(RottenTomatoes.pages||{},{movieDetails:{}}),function(){var e,t,n=".Carousel.VideosCarousel",i="#videos-carousel-root",o=2,a=2,r=4,s=4,l=2.5,c=2,d=$(i)&&$(i).width()<300||!1;e=RottenTomatoes.context.videoClipsJson&&3<RottenTomatoes.context.videoClipsJson.count||!1,t=RottenTomatoes.context.videoClipsJson&&4<RottenTomatoes.context.videoClipsJson.count||!1,t={dots:!0,infinite:e,speed:250,slidesToShow:d?o:r,slidesToScroll:d?a:s,arrows:t,draggable:!0,lazyLoad:"ondemand",responsive:[{breakpoint:768,settings:{slidesToShow:l,slidesToScroll:c,dots:!1,arrows:!1,infinite:!1}}]},RottenTomatoes.carousel.init(n,t)}();